import{S as Le,i as Be,s as Fe,v as kt,w as U,e as Pe,x as X,y as H,b as L,L as yt,M as st,g as Xt,t as P,z as V,d as zt,f as M,h as w,N as Oe,O as St,P as Ye,Q as ae,R as Ct,T as Ne,F as Rt,k as de,a as se,l as he,m as pe,c as fe,n as me,G as Nt,H as Mt,I as Pt,J as De,K as hr,U as Xn,q as ne,r as ie,B as Jt,o as vr,V as Yr,W as on,X as Ra,Y as ft,Z as er,_ as mt,E as nr,D as Dr,$ as Zi,a0 as sn,a1 as fn,a2 as xt,u as qi,p as On}from"../../chunks/index-5c856e6a.js";import{j as Na,w as Qi,r as Ma}from"../../chunks/singletons-ff76c2a6.js";import{R as br,c as Ee,f as wt,B as Ji,A as zn,I as jn,_ as jt,a as It,M as Rr,b as Pa,u as pr,d as Ke,p as Yn,N as La,U as Ba,S as Nr,L as ea,e as At,D as gn,H as Fa,g as ka,h as Ua,i as gr,j as Tr,C as ta,k as ra,l as na,m as Ha,n as Va}from"../../chunks/index-26e91fd6.js";const Ga=!1,Wa=Ga;function ir(r){return new Promise((e,t)=>{r.oncomplete=r.onsuccess=()=>e(r.result),r.onabort=r.onerror=()=>t(r.error)})}function Xa(r,e){const t=indexedDB.open(r);t.onupgradeneeded=()=>t.result.createObjectStore(e);const n=ir(t);return(i,a)=>n.then(o=>a(o.transaction(e,i).objectStore(e)))}let An;function Kr(){return An||(An=Xa("keyval-store","keyval")),An}function za(r,e=Kr()){return e("readonly",t=>ir(t.get(r)))}function ia(r,e,t=Kr()){return t("readwrite",n=>(n.put(e,r),ir(n.transaction)))}function ja(r,e=Kr()){return e("readwrite",t=>(r.forEach(n=>t.put(n[1],n[0])),ir(t.transaction)))}function Ya(r,e=Kr()){return e("readonly",t=>Promise.all(r.map(n=>ir(t.get(n)))))}function Ka(r,e){return r.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},ir(r.transaction)}function $a(r=Kr()){return r("readonly",e=>{if(e.getAll&&e.getAllKeys)return Promise.all([ir(e.getAllKeys()),ir(e.getAll())]).then(([n,i])=>n.map((a,o)=>[a,i[o]]));const t=[];return r("readonly",n=>Ka(n,i=>t.push([i.key,i.value])).then(()=>t))})}const Za=()=>{const{subscribe:r,set:e,update:t}=Qi([]);return{subscribe:r,set:async o=>{const f=(await Ya(o.map(u=>u.rawValue))).map((u,c)=>({...o[c],preference:u,selected:o.length===1}));e(f)},select:o=>t(s=>s.map(f=>(f.preference=f===o,f))),prefer:(o,s)=>{t(f=>f.map(u=>(u===o&&(u.preference=s,ia(o.rawValue,s)),u)))},reset:()=>e([])}},tr=Za(),qa=()=>{const r=Na(tr,t=>t.find(n=>n.selected));return{...r,prefer:t=>{let n;r.subscribe(i=>n=i)(),n&&tr.prefer(n,t)}}},un=qa(),Sr=Qi();function ii(r,e){let t=Object.getOwnPropertyNames(r);const n={};for(let i=0;i<t.length;i++){const a=t[i],o=a.indexOf("$");o!==-1&&e.indexOf(a.substring(0,o+1))!==-1||e.indexOf(a)===-1&&(n[a]=r[a])}return n}function ai(r,e){let t=Object.getOwnPropertyNames(r);const n={};for(let i=0;i<t.length;i++){const a=t[i];a.substring(0,e.length)===e&&(n[a.substring(e.length)]=r[a])}return n}/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var oe={UNKNOWN:"Unknown",BACKSPACE:"Backspace",ENTER:"Enter",SPACEBAR:"Spacebar",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",END:"End",HOME:"Home",ARROW_LEFT:"ArrowLeft",ARROW_UP:"ArrowUp",ARROW_RIGHT:"ArrowRight",ARROW_DOWN:"ArrowDown",DELETE:"Delete",ESCAPE:"Escape",TAB:"Tab"},it=new Set;it.add(oe.BACKSPACE);it.add(oe.ENTER);it.add(oe.SPACEBAR);it.add(oe.PAGE_UP);it.add(oe.PAGE_DOWN);it.add(oe.END);it.add(oe.HOME);it.add(oe.ARROW_LEFT);it.add(oe.ARROW_UP);it.add(oe.ARROW_RIGHT);it.add(oe.ARROW_DOWN);it.add(oe.DELETE);it.add(oe.ESCAPE);it.add(oe.TAB);var lt={BACKSPACE:8,ENTER:13,SPACEBAR:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ESCAPE:27,TAB:9},at=new Map;at.set(lt.BACKSPACE,oe.BACKSPACE);at.set(lt.ENTER,oe.ENTER);at.set(lt.SPACEBAR,oe.SPACEBAR);at.set(lt.PAGE_UP,oe.PAGE_UP);at.set(lt.PAGE_DOWN,oe.PAGE_DOWN);at.set(lt.END,oe.END);at.set(lt.HOME,oe.HOME);at.set(lt.ARROW_LEFT,oe.ARROW_LEFT);at.set(lt.ARROW_UP,oe.ARROW_UP);at.set(lt.ARROW_RIGHT,oe.ARROW_RIGHT);at.set(lt.ARROW_DOWN,oe.ARROW_DOWN);at.set(lt.DELETE,oe.DELETE);at.set(lt.ESCAPE,oe.ESCAPE);at.set(lt.TAB,oe.TAB);var ar=new Set;ar.add(oe.PAGE_UP);ar.add(oe.PAGE_DOWN);ar.add(oe.END);ar.add(oe.HOME);ar.add(oe.ARROW_LEFT);ar.add(oe.ARROW_UP);ar.add(oe.ARROW_RIGHT);ar.add(oe.ARROW_DOWN);function tt(r){var e=r.key;if(it.has(e))return e;var t=at.get(r.keyCode);return t||oe.UNKNOWN}function oi(r){let e;return{c(){e=de("div"),this.h()},l(t){e=he(t,"DIV",{class:!0}),pe(e).forEach(w),this.h()},h(){me(e,"class","mdc-fab__touch")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function Qa(r){let e,t,n,i;const a=r[20].default,o=Rt(a,r,r[22],null);let s=r[8]&&oi();return{c(){e=de("div"),t=se(),o&&o.c(),s&&s.c(),n=Pe(),this.h()},l(f){e=he(f,"DIV",{class:!0}),pe(e).forEach(w),t=fe(f),o&&o.l(f),s&&s.l(f),n=Pe(),this.h()},h(){me(e,"class","mdc-fab__ripple")},m(f,u){L(f,e,u),L(f,t,u),o&&o.m(f,u),s&&s.m(f,u),L(f,n,u),i=!0},p(f,u){o&&o.p&&(!i||u&4194304)&&Nt(o,a,f,f[22],i?Pt(a,f[22],u,null):Mt(f[22]),null),f[8]?s||(s=oi(),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i(f){i||(M(o,f),i=!0)},o(f){P(o,f),i=!1},d(f){f&&w(e),f&&w(t),o&&o.d(f),s&&s.d(f),f&&w(n)}}}function Ja(r){let e,t,n;const i=[{use:[[br,{ripple:r[3],unbounded:!1,color:r[4],disabled:!!r[18].disabled,addClass:r[15],removeClass:r[16],addStyle:r[17]}],r[14],...r[0]]},{class:Ee({[r[1]]:!0,"mdc-fab":!0,"mdc-fab--mini":r[5],"mdc-fab--exited":r[6],"mdc-fab--extended":r[7],"smui-fab--color-primary":r[4]==="primary","mdc-fab--touch":r[8],...r[12]})},{style:Object.entries(r[13]).map(si).concat([r[2]]).join(" ")},{href:r[9]},r[18]];var a=r[10];function o(s){let f={$$slots:{default:[Qa]},$$scope:{ctx:s}};for(let u=0;u<i.length;u+=1)f=ae(f,i[u]);return{props:f}}return a&&(e=kt(a,o(r)),r[21](e)),{c(){e&&U(e.$$.fragment),t=Pe()},l(s){e&&X(e.$$.fragment,s),t=Pe()},m(s,f){e&&H(e,s,f),L(s,t,f),n=!0},p(s,[f]){const u=f&521215?yt(i,[f&507929&&{use:[[br,{ripple:s[3],unbounded:!1,color:s[4],disabled:!!s[18].disabled,addClass:s[15],removeClass:s[16],addStyle:s[17]}],s[14],...s[0]]},f&4594&&{class:Ee({[s[1]]:!0,"mdc-fab":!0,"mdc-fab--mini":s[5],"mdc-fab--exited":s[6],"mdc-fab--extended":s[7],"smui-fab--color-primary":s[4]==="primary","mdc-fab--touch":s[8],...s[12]})},f&8196&&{style:Object.entries(s[13]).map(si).concat([s[2]]).join(" ")},f&512&&{href:s[9]},f&262144&&st(s[18])]):{};if(f&4194560&&(u.$$scope={dirty:f,ctx:s}),a!==(a=s[10])){if(e){Xt();const c=e;P(c.$$.fragment,1,0,()=>{V(c,1)}),zt()}a?(e=kt(a,o(s)),s[21](e),U(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else a&&e.$set(u)},i(s){n||(e&&M(e.$$.fragment,s),n=!0)},o(s){e&&P(e.$$.fragment,s),n=!1},d(s){r[21](null),s&&w(t),e&&V(e,s)}}}const si=([r,e])=>`${r}: ${e};`;function eo(r,e,t){const n=["use","class","style","ripple","color","mini","exited","extended","touch","href","component","getElement"];let i=Oe(e,n),{$$slots:a={},$$scope:o}=e;const s=wt(St());let{use:f=[]}=e,{class:u=""}=e,{style:c=""}=e,{ripple:l=!0}=e,{color:d="secondary"}=e,{mini:h=!1}=e,{exited:p=!1}=e,{extended:v=!1}=e,{touch:_=!1}=e,{href:x=void 0}=e,g,y={},A={},{component:E=x==null?Ji:zn}=e;Ye("SMUI:label:context","fab"),Ye("SMUI:icon:context","fab");function S(C){y[C]||t(12,y[C]=!0,y)}function T(C){(!(C in y)||y[C])&&t(12,y[C]=!1,y)}function F(C,$){A[C]!=$&&($===""||$==null?(delete A[C],t(13,A)):t(13,A[C]=$,A))}function j(){return g.getElement()}function R(C){Ne[C?"unshift":"push"](()=>{g=C,t(11,g)})}return r.$$set=C=>{e=ae(ae({},e),Ct(C)),t(18,i=Oe(e,n)),"use"in C&&t(0,f=C.use),"class"in C&&t(1,u=C.class),"style"in C&&t(2,c=C.style),"ripple"in C&&t(3,l=C.ripple),"color"in C&&t(4,d=C.color),"mini"in C&&t(5,h=C.mini),"exited"in C&&t(6,p=C.exited),"extended"in C&&t(7,v=C.extended),"touch"in C&&t(8,_=C.touch),"href"in C&&t(9,x=C.href),"component"in C&&t(10,E=C.component),"$$scope"in C&&t(22,o=C.$$scope)},[f,u,c,l,d,h,p,v,_,x,E,g,y,A,s,S,T,F,i,j,a,R,o]}class En extends Le{constructor(e){super(),Be(this,e,eo,Ja,Fe,{use:0,class:1,style:2,ripple:3,color:4,mini:5,exited:6,extended:7,touch:8,href:9,component:10,getElement:19})}get getElement(){return this.$$.ctx[19]}}function to(r){let e;return{c(){e=ne("ðŸ’©")},l(t){e=ie(t,"ðŸ’©")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function ro(r){let e,t;return e=new jn({props:{class:"material-icons",$$slots:{default:[to]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const a={};i&32&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function no(r){let e;return{c(){e=ne("refresh")},l(t){e=ie(t,"refresh")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function io(r){let e,t;return e=new jn({props:{class:"material-icons",$$slots:{default:[no]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const a={};i&32&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function ao(r){let e;return{c(){e=ne("favorite")},l(t){e=ie(t,"favorite")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function oo(r){let e,t;return e=new jn({props:{class:"material-icons",$$slots:{default:[ao]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const a={};i&32&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function so(r){var f,u;let e,t,n,i,a,o,s;return t=new En({props:{color:((f=r[0])==null?void 0:f.preference)===!1?"primary":void 0,touch:!0,label:"dislike",$$slots:{default:[ro]},$$scope:{ctx:r}}}),t.$on("click",r[2]),i=new En({props:{touch:!0,label:"scan again",$$slots:{default:[io]},$$scope:{ctx:r}}}),i.$on("click",r[3]),o=new En({props:{color:((u=r[0])==null?void 0:u.preference)===!0?"primary":void 0,touch:!0,label:"like",$$slots:{default:[oo]},$$scope:{ctx:r}}}),o.$on("click",r[4]),{c(){e=de("div"),U(t.$$.fragment),n=se(),U(i.$$.fragment),a=se(),U(o.$$.fragment),this.h()},l(c){e=he(c,"DIV",{class:!0});var l=pe(e);X(t.$$.fragment,l),n=fe(l),X(i.$$.fragment,l),a=fe(l),X(o.$$.fragment,l),l.forEach(w),this.h()},h(){me(e,"class","container svelte-1oo77wj")},m(c,l){L(c,e,l),H(t,e,null),De(e,n),H(i,e,null),De(e,a),H(o,e,null),s=!0},p(c,[l]){var v,_;const d={};l&1&&(d.color=((v=c[0])==null?void 0:v.preference)===!1?"primary":void 0),l&32&&(d.$$scope={dirty:l,ctx:c}),t.$set(d);const h={};l&32&&(h.$$scope={dirty:l,ctx:c}),i.$set(h);const p={};l&1&&(p.color=((_=c[0])==null?void 0:_.preference)===!0?"primary":void 0),l&32&&(p.$$scope={dirty:l,ctx:c}),o.$set(p)},i(c){s||(M(t.$$.fragment,c),M(i.$$.fragment,c),M(o.$$.fragment,c),s=!0)},o(c){P(t.$$.fragment,c),P(i.$$.fragment,c),P(o.$$.fragment,c),s=!1},d(c){c&&w(e),V(t),V(i),V(o)}}}function fo(r,e,t){let n;hr(r,un,f=>t(0,n=f));const i=Xn();return[n,i,()=>un.prefer(!1),()=>i("refreshBarcodes"),()=>un.prefer(!0)]}class uo extends Le{constructor(e){super(),Be(this,e,fo,so,Fe,{})}}function co(r,e){var t=Object.setPrototypeOf;t?t(r,e):r.__proto__=e}function lo(r,e){e===void 0&&(e=r.constructor);var t=Error.captureStackTrace;t&&t(r,e)}var ho=function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},r(t,n)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),po=function(r){ho(e,r);function e(t,n){var i=this.constructor,a=r.call(this,t,n)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),co(a,i.prototype),lo(a),a}return e}(Error),vo=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dt=function(r){vo(e,r);function e(t){t===void 0&&(t=void 0);var n=r.call(this,t)||this;return n.message=t,n}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e}(po),go=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ot=function(r){go(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArgumentException",e}(dt),_o=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ee=function(r){_o(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(dt),xo=function(){function r(e){if(this.binarizer=e,e===null)throw new ee("Binarizer must be non-null.")}return r.prototype.getWidth=function(){return this.binarizer.getWidth()},r.prototype.getHeight=function(){return this.binarizer.getHeight()},r.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},r.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},r.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},r.prototype.crop=function(e,t,n,i){var a=this.binarizer.getLuminanceSource().crop(e,t,n,i);return new r(this.binarizer.createBinarizer(a))},r.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},r.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new r(this.binarizer.createBinarizer(e))},r.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new r(this.binarizer.createBinarizer(e))},r.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},r}(),mo=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qe=function(r){mo(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(dt),yo=function(){function r(e){this.source=e}return r.prototype.getLuminanceSource=function(){return this.source},r.prototype.getWidth=function(){return this.source.getWidth()},r.prototype.getHeight=function(){return this.source.getHeight()},r}(),Ie=function(){function r(){}return r.arraycopy=function(e,t,n,i,a){for(;a--;)n[i++]=e[t++]},r.currentTimeMillis=function(){return Date.now()},r}(),Ao=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Kn=function(r){Ao(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(dt),Eo=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fi=function(r){Eo(e,r);function e(t,n){t===void 0&&(t=void 0),n===void 0&&(n=void 0);var i=r.call(this,n)||this;return i.index=t,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(Kn),Io=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ct=function(){function r(){}return r.fill=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n]=t},r.fillWithin=function(e,t,n,i){r.rangeCheck(e.length,t,n);for(var a=t;a<n;a++)e[a]=i},r.rangeCheck=function(e,t,n){if(t>n)throw new ee("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new fi(t);if(n>e)throw new fi(n)},r.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},r.create=function(e,t,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:t}).fill(n)})},r.createInt32Array=function(e,t,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:t}).fill(n)})},r.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0},r.hashCode=function(e){var t,n;if(e===null)return 0;var i=1;try{for(var a=Io(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=31*i+s}}catch(f){t={error:f}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i},r.fillUint8Array=function(e,t){for(var n=0;n!==e.length;n++)e[n]=t},r.copyOf=function(e,t){return e.slice(0,t)},r.copyOfUint8Array=function(e,t){if(e.length<=t){var n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)},r.copyOfRange=function(e,t,n){var i=n-t,a=new Int32Array(i);return Ie.arraycopy(e,t,a,0,i),a},r.binarySearch=function(e,t,n){n===void 0&&(n=r.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,s=n(t,e[o]);if(s>0)i=o+1;else if(s<0)a=o-1;else return o}return-i-1},r.numberComparator=function(e,t){return e-t},r}(),Qe=function(){function r(){}return r.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var n=31;return t=e<<16,t!==0&&(n-=16,e=t),t=e<<8,t!==0&&(n-=8,e=t),t=e<<4,t!==0&&(n-=4,e=t),t=e<<2,t!==0&&(n-=2,e=t),n-(e<<1>>>31)},r.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t},r.toHexString=function(e){return e.toString(16)},r.toBinaryString=function(e){return String(parseInt(String(e),2))},r.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},r.truncDivision=function(e,t){return Math.trunc(e/t)},r.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r.MIN_VALUE_32_BITS=-2147483648,r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r}(),ut=function(){function r(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=r.makeArray(e):this.bits=t)}return r.prototype.getSize=function(){return this.size},r.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},r.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=r.makeArray(e);Ie.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},r.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},r.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},r.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},r.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return t;a=n[i]}var s=i*32+Qe.numberOfTrailingZeros(a);return s>t?t:s},r.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return t;a=~n[i]}var s=i*32+Qe.numberOfTrailingZeros(a);return s>t?t:s},r.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},r.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new ee;if(t!==e){t--;for(var n=Math.floor(e/32),i=Math.floor(t/32),a=this.bits,o=n;o<=i;o++){var s=o>n?0:e&31,f=o<i?31:t&31,u=(2<<f)-(1<<s);a[o]|=u}}},r.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,n=0;n<e;n++)t[n]=0},r.prototype.isRange=function(e,t,n){if(t<e||e<0||t>this.size)throw new ee;if(t===e)return!0;t--;for(var i=Math.floor(e/32),a=Math.floor(t/32),o=this.bits,s=i;s<=a;s++){var f=s>i?0:e&31,u=s<a?31:t&31,c=(2<<u)-(1<<f)&4294967295;if((o[s]&c)!==(n?c:0))return!1}return!0},r.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},r.prototype.appendBits=function(e,t){if(t<0||t>32)throw new ee("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var n=t;n>0;n--)this.appendBit((e>>n-1&1)===1)},r.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var n=0;n<t;n++)this.appendBit(e.get(n))},r.prototype.xor=function(e){if(this.size!==e.size)throw new ee("Sizes don't match");for(var t=this.bits,n=0,i=t.length;n<i;n++)t[n]^=e.bits[n]},r.prototype.toBytes=function(e,t,n,i){for(var a=0;a<i;a++){for(var o=0,s=0;s<8;s++)this.get(e)&&(o|=1<<7-s),e++;t[n+a]=o}},r.prototype.getBitArray=function(){return this.bits},r.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,i=this.bits,a=0;a<n;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[t-a]=o}if(this.size!==n*32){for(var s=n*32-this.size,f=e[0]>>>s,a=1;a<n;a++){var u=e[a];f|=u<<32-s,e[a-1]=f,f=u>>>s}e[n-1]=f}this.bits=e},r.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.size===t.size&&ct.equals(this.bits,t.bits)},r.prototype.hashCode=function(){return 31*this.size+ct.hashCode(this.bits)},r.prototype.toString=function(){for(var e="",t=0,n=this.size;t<n;t++)t&7||(e+=" "),e+=this.get(t)?"X":".";return e},r.prototype.clone=function(){return new r(this.size,this.bits.slice())},r}(),Dn;(function(r){r[r.OTHER=0]="OTHER",r[r.PURE_BARCODE=1]="PURE_BARCODE",r[r.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",r[r.TRY_HARDER=3]="TRY_HARDER",r[r.CHARACTER_SET=4]="CHARACTER_SET",r[r.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",r[r.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",r[r.ASSUME_GS1=7]="ASSUME_GS1",r[r.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",r[r.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",r[r.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Dn||(Dn={}));const Te=Dn;var So=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),k=function(r){So(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(dt),Co=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xe;(function(r){r[r.Cp437=0]="Cp437",r[r.ISO8859_1=1]="ISO8859_1",r[r.ISO8859_2=2]="ISO8859_2",r[r.ISO8859_3=3]="ISO8859_3",r[r.ISO8859_4=4]="ISO8859_4",r[r.ISO8859_5=5]="ISO8859_5",r[r.ISO8859_6=6]="ISO8859_6",r[r.ISO8859_7=7]="ISO8859_7",r[r.ISO8859_8=8]="ISO8859_8",r[r.ISO8859_9=9]="ISO8859_9",r[r.ISO8859_10=10]="ISO8859_10",r[r.ISO8859_11=11]="ISO8859_11",r[r.ISO8859_13=12]="ISO8859_13",r[r.ISO8859_14=13]="ISO8859_14",r[r.ISO8859_15=14]="ISO8859_15",r[r.ISO8859_16=15]="ISO8859_16",r[r.SJIS=16]="SJIS",r[r.Cp1250=17]="Cp1250",r[r.Cp1251=18]="Cp1251",r[r.Cp1252=19]="Cp1252",r[r.Cp1256=20]="Cp1256",r[r.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",r[r.UTF8=22]="UTF8",r[r.ASCII=23]="ASCII",r[r.Big5=24]="Big5",r[r.GB18030=25]="GB18030",r[r.EUC_KR=26]="EUC_KR"})(xe||(xe={}));var Ge=function(){function r(e,t,n){for(var i,a,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this.valueIdentifier=e,this.name=n,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=o,r.VALUE_IDENTIFIER_TO_ECI.set(e,this),r.NAME_TO_ECI.set(n,this);for(var f=this.values,u=0,c=f.length;u!==c;u++){var l=f[u];r.VALUES_TO_ECI.set(l,this)}try{for(var d=Co(o),h=d.next();!h.done;h=d.next()){var p=h.value;r.NAME_TO_ECI.set(p,this)}}catch(v){i={error:v}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}return r.prototype.getValueIdentifier=function(){return this.valueIdentifier},r.prototype.getName=function(){return this.name},r.prototype.getValue=function(){return this.values[0]},r.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new k("incorect value");var t=r.VALUES_TO_ECI.get(e);if(t===void 0)throw new k("incorect value");return t},r.getCharacterSetECIByName=function(e){var t=r.NAME_TO_ECI.get(e);if(t===void 0)throw new k("incorect value");return t},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.getName()===t.getName()},r.VALUE_IDENTIFIER_TO_ECI=new Map,r.VALUES_TO_ECI=new Map,r.NAME_TO_ECI=new Map,r.Cp437=new r(xe.Cp437,Int32Array.from([0,2]),"Cp437"),r.ISO8859_1=new r(xe.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),r.ISO8859_2=new r(xe.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),r.ISO8859_3=new r(xe.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),r.ISO8859_4=new r(xe.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),r.ISO8859_5=new r(xe.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),r.ISO8859_6=new r(xe.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),r.ISO8859_7=new r(xe.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),r.ISO8859_8=new r(xe.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),r.ISO8859_9=new r(xe.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),r.ISO8859_10=new r(xe.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),r.ISO8859_11=new r(xe.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),r.ISO8859_13=new r(xe.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),r.ISO8859_14=new r(xe.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),r.ISO8859_15=new r(xe.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),r.ISO8859_16=new r(xe.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),r.SJIS=new r(xe.SJIS,20,"SJIS","Shift_JIS"),r.Cp1250=new r(xe.Cp1250,21,"Cp1250","windows-1250"),r.Cp1251=new r(xe.Cp1251,22,"Cp1251","windows-1251"),r.Cp1252=new r(xe.Cp1252,23,"Cp1252","windows-1252"),r.Cp1256=new r(xe.Cp1256,24,"Cp1256","windows-1256"),r.UnicodeBigUnmarked=new r(xe.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),r.UTF8=new r(xe.UTF8,26,"UTF8","UTF-8"),r.ASCII=new r(xe.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),r.Big5=new r(xe.Big5,28,"Big5"),r.GB18030=new r(xe.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),r.EUC_KR=new r(xe.EUC_KR,30,"EUC_KR","EUC-KR"),r}(),wo=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cn=function(r){wo(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(dt),Ft=function(){function r(){}return r.decode=function(e,t){var n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},r.shouldDecodeOnFallback=function(e){return!r.isBrowser()&&e==="ISO-8859-1"},r.encode=function(e,t){var n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},r.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},r.encodingName=function(e){return typeof e=="string"?e:e.getName()},r.encodingCharacterSet=function(e){return e instanceof Ge?e:Ge.getCharacterSetECIByName(e)},r.decodeFallback=function(e,t){var n=this.encodingCharacterSet(t);if(r.isDecodeFallbackSupported(n)){for(var i="",a=0,o=e.length;a<o;a++){var s=e[a].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(n.equals(Ge.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new cn("Encoding "+this.encodingName(t)+" not supported by fallback.")},r.isDecodeFallbackSupported=function(e){return e.equals(Ge.UTF8)||e.equals(Ge.ISO8859_1)||e.equals(Ge.ASCII)},r.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),n=t.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},r}(),je=function(){function r(){}return r.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var n=t?t.getName():this.ISO88591;return Ft.decode(new Uint8Array([e]),n)},r.guessEncoding=function(e,t){if(t!=null&&t.get(Te.CHARACTER_SET)!==void 0)return t.get(Te.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,o=!0,s=0,f=0,u=0,c=0,l=0,d=0,h=0,p=0,v=0,_=0,x=0,g=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,y=0;y<n&&(i||a||o);y++){var A=e[y]&255;o&&(s>0?A&128?s--:o=!1:A&128&&(A&64?(s++,A&32?(s++,A&16?(s++,A&8?o=!1:c++):u++):f++):o=!1)),i&&(A>127&&A<160?i=!1:A>159&&(A<192||A===215||A===247)&&x++),a&&(l>0?A<64||A===127||A>252?a=!1:l--:A===128||A===160||A>239?a=!1:A>160&&A<224?(d++,p=0,h++,h>v&&(v=h)):A>127?(l++,h=0,p++,p>_&&(_=p)):(h=0,p=0))}return o&&s>0&&(o=!1),a&&l>0&&(a=!1),o&&(g||f+u+c>0)?r.UTF8:a&&(r.ASSUME_SHIFT_JIS||v>=3||_>=3)?r.SHIFT_JIS:i&&a?v===2&&d===2||x*10>=n?r.SHIFT_JIS:r.ISO88591:i?r.ISO88591:a?r.SHIFT_JIS:o?r.UTF8:r.PLATFORM_DEFAULT_ENCODING},r.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=-1;function a(s,f,u,c,l,d){if(s==="%%")return"%";if(t[++i]!==void 0){s=c?parseInt(c.substr(1)):void 0;var h=l?parseInt(l.substr(1)):void 0,p;switch(d){case"s":p=t[i];break;case"c":p=t[i][0];break;case"f":p=parseFloat(t[i]).toFixed(s);break;case"p":p=parseFloat(t[i]).toPrecision(s);break;case"e":p=parseFloat(t[i]).toExponential(s);break;case"x":p=parseInt(t[i]).toString(h||16);break;case"d":p=parseFloat(parseInt(t[i],h||10).toPrecision(s)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var v=parseInt(u),_=u&&u[0]+""=="0"?"0":" ";p.length<v;)p=f!==void 0?p+_:_+p;return p}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},r.getBytes=function(e,t){return Ft.encode(e,t)},r.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},r.getCharAt=function(e){return String.fromCharCode(e)},r.SHIFT_JIS=Ge.SJIS.getName(),r.GB2312="GB2312",r.ISO88591=Ge.ISO8859_1.getName(),r.EUC_JP="EUC_JP",r.UTF8=Ge.UTF8.getName(),r.PLATFORM_DEFAULT_ENCODING=r.UTF8,r.ASSUME_SHIFT_JIS=!1,r}(),Ae=function(){function r(e){e===void 0&&(e=""),this.value=e}return r.prototype.enableDecoding=function(e){return this.encoding=e,this},r.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=je.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},r.prototype.appendChars=function(e,t,n){for(var i=t;t<t+n;i++)this.append(e[i]);return this},r.prototype.length=function(){return this.value.length},r.prototype.charAt=function(e){return this.value.charAt(e)},r.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},r.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},r.prototype.substring=function(e,t){return this.value.substring(e,t)},r.prototype.setLengthToZero=function(){this.value=""},r.prototype.toString=function(){return this.value},r.prototype.insert=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)},r}(),Wt=function(){function r(e,t,n,i){if(this.width=e,this.height=t,this.rowSize=n,this.bits=i,t==null&&(t=e),this.height=t,e<1||t<1)throw new ee("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return r.parseFromBooleanArray=function(e){for(var t=e.length,n=e[0].length,i=new r(n,t),a=0;a<t;a++)for(var o=e[a],s=0;s<n;s++)o[s]&&i.set(s,a);return i},r.parseFromString=function(e,t,n){if(e===null)throw new ee("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,s=-1,f=0,u=0;u<e.length;)if(e.charAt(u)===`
`||e.charAt(u)==="\r"){if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new ee("row lengths do not match");o=a,f++}u++}else if(e.substring(u,u+t.length)===t)u+=t.length,i[a]=!0,a++;else if(e.substring(u,u+n.length)===n)u+=n.length,i[a]=!1,a++;else throw new ee("illegal character encountered: "+e.substring(u));if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new ee("row lengths do not match");f++}for(var c=new r(s,f),l=0;l<a;l++)i[l]&&c.set(Math.floor(l%s),Math.floor(l/s));return c},r.prototype.get=function(e,t){var n=t*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},r.prototype.set=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},r.prototype.unset=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},r.prototype.flip=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},r.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new ee("input matrix dimensions do not match");for(var t=new ut(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var s=a*n,f=e.getRow(a,t).getBitArray(),u=0;u<n;u++)i[s+u]^=f[u]},r.prototype.clear=function(){for(var e=this.bits,t=e.length,n=0;n<t;n++)e[n]=0},r.prototype.setRegion=function(e,t,n,i){if(t<0||e<0)throw new ee("Left and top must be nonnegative");if(i<1||n<1)throw new ee("Height and width must be at least 1");var a=e+n,o=t+i;if(o>this.height||a>this.width)throw new ee("The region must fit inside the matrix");for(var s=this.rowSize,f=this.bits,u=t;u<o;u++)for(var c=u*s,l=e;l<a;l++)f[c+Math.floor(l/32)]|=1<<(l&31)&4294967295},r.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new ut(this.width):t.clear();for(var n=this.rowSize,i=this.bits,a=e*n,o=0;o<n;o++)t.setBulk(o*32,i[a+o]);return t},r.prototype.setRow=function(e,t){Ie.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},r.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),n=new ut(e),i=new ut(e),a=0,o=Math.floor((t+1)/2);a<o;a++)n=this.getRow(a,n),i=this.getRow(t-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(t-1-a,n)},r.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,n=this.rowSize,i=this.bits,a=e,o=t,s=-1,f=-1,u=0;u<t;u++)for(var c=0;c<n;c++){var l=i[u*n+c];if(l!==0){if(u<o&&(o=u),u>f&&(f=u),c*32<a){for(var d=0;!(l<<31-d&4294967295);)d++;c*32+d<a&&(a=c*32+d)}if(c*32+31>s){for(var d=31;!(l>>>d);)d--;c*32+d>s&&(s=c*32+d)}}}return s<a||f<o?null:Int32Array.from([a,o,s-a+1,f-o+1])},r.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,n=0;n<t.length&&t[n]===0;)n++;if(n===t.length)return null;for(var i=n/e,a=n%e*32,o=t[n],s=0;!(o<<31-s&4294967295);)s++;return a+=s,Int32Array.from([a,i])},r.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,n=t.length-1;n>=0&&t[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,o=t[n],s=31;!(o>>>s);)s--;return a+=s,Int32Array.from([a,i])},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getRowSize=function(){return this.rowSize},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&ct.equals(this.bits,t.bits)},r.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+ct.hashCode(this.bits),e},r.prototype.toString=function(e,t,n){return e===void 0&&(e="X "),t===void 0&&(t="  "),n===void 0&&(n=`
`),this.buildToString(e,t,n)},r.prototype.buildToString=function(e,t,n){for(var i=new Ae,a=0,o=this.height;a<o;a++){for(var s=0,f=this.width;s<f;s++)i.append(this.get(s,a)?e:t);i.append(n)}return i.toString()},r.prototype.clone=function(){return new r(this.width,this.height,this.rowSize,this.bits.slice())},r}(),bo=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),b=function(r){bo(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(dt),To=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Oo=function(r){To(e,r);function e(t){var n=r.call(this,t)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(t,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new ut(a):n.clear(),this.initArrays(a);for(var o=i.getRow(t,this.luminances),s=this.buckets,f=0;f<a;f++)s[(o[f]&255)>>e.LUMINANCE_SHIFT]++;var u=e.estimateBlackPoint(s);if(a<3)for(var f=0;f<a;f++)(o[f]&255)<u&&n.set(f);else for(var c=o[0]&255,l=o[1]&255,f=1;f<a-1;f++){var d=o[f+1]&255;(l*4-c-d)/2<u&&n.set(f),c=l,l=d}return n},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),n=t.getWidth(),i=t.getHeight(),a=new Wt(n,i);this.initArrays(n);for(var o=this.buckets,s=1;s<5;s++)for(var f=Math.floor(i*s/5),u=t.getRow(f,this.luminances),c=Math.floor(n*4/5),l=Math.floor(n/5);l<c;l++){var d=u[l]&255;o[d>>e.LUMINANCE_SHIFT]++}for(var h=e.estimateBlackPoint(o),p=t.getMatrix(),s=0;s<i;s++)for(var v=s*n,l=0;l<n;l++){var d=p[v+l]&255;d<h&&a.set(l,s)}return a},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(t){for(var n=t.length,i=0,a=0,o=0,s=0;s<n;s++)t[s]>o&&(a=s,o=t[s]),t[s]>i&&(i=t[s]);for(var f=0,u=0,s=0;s<n;s++){var c=s-a,l=t[s]*c*c;l>u&&(f=s,u=l)}if(a>f){var d=a;a=f,f=d}if(f-a<=n/16)throw new b;for(var h=f-1,p=-1,s=f-1;s>a;s--){var v=s-a,l=v*v*(f-s)*(i-t[s]);l>p&&(h=s,p=l)}return h<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(yo),Do=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ro=function(r){Do(e,r);function e(t){var n=r.call(this,t)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),n=t.getWidth(),i=t.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=t.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&o++;var s=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&s++;var f=e.calculateBlackPoints(a,o,s,n,i),u=new Wt(n,i);e.calculateThresholdForBlock(a,o,s,n,i,f,u),this.matrix=u}else this.matrix=r.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,n,i,a,o,s,f){for(var u=o-e.BLOCK_SIZE,c=a-e.BLOCK_SIZE,l=0;l<i;l++){var d=l<<e.BLOCK_SIZE_POWER;d>u&&(d=u);for(var h=e.cap(l,2,i-3),p=0;p<n;p++){var v=p<<e.BLOCK_SIZE_POWER;v>c&&(v=c);for(var _=e.cap(p,2,n-3),x=0,g=-2;g<=2;g++){var y=s[h+g];x+=y[_-2]+y[_-1]+y[_]+y[_+1]+y[_+2]}var A=x/25;e.thresholdBlock(t,v,d,A,a,f)}}},e.cap=function(t,n,i){return t<n?n:t>i?i:t},e.thresholdBlock=function(t,n,i,a,o,s){for(var f=0,u=i*o+n;f<e.BLOCK_SIZE;f++,u+=o)for(var c=0;c<e.BLOCK_SIZE;c++)(t[u+c]&255)<=a&&s.set(n+c,i+f)},e.calculateBlackPoints=function(t,n,i,a,o){for(var s=o-e.BLOCK_SIZE,f=a-e.BLOCK_SIZE,u=new Array(i),c=0;c<i;c++){u[c]=new Int32Array(n);var l=c<<e.BLOCK_SIZE_POWER;l>s&&(l=s);for(var d=0;d<n;d++){var h=d<<e.BLOCK_SIZE_POWER;h>f&&(h=f);for(var p=0,v=255,_=0,x=0,g=l*a+h;x<e.BLOCK_SIZE;x++,g+=a){for(var y=0;y<e.BLOCK_SIZE;y++){var A=t[g+y]&255;p+=A,A<v&&(v=A),A>_&&(_=A)}if(_-v>e.MIN_DYNAMIC_RANGE)for(x++,g+=a;x<e.BLOCK_SIZE;x++,g+=a)for(var y=0;y<e.BLOCK_SIZE;y++)p+=t[g+y]&255}var E=p>>e.BLOCK_SIZE_POWER*2;if(_-v<=e.MIN_DYNAMIC_RANGE&&(E=v/2,c>0&&d>0)){var S=(u[c-1][d]+2*u[c][d-1]+u[c-1][d-1])/4;v<S&&(E=S)}u[c][d]=E}}return u},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(Oo),_n=function(){function r(e,t){this.width=e,this.height=t}return r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.isCropSupported=function(){return!1},r.prototype.crop=function(e,t,n,i){throw new cn("This luminance source does not support cropping.")},r.prototype.isRotateSupported=function(){return!1},r.prototype.rotateCounterClockwise=function(){throw new cn("This luminance source does not support rotation by 90 degrees.")},r.prototype.rotateCounterClockwise45=function(){throw new cn("This luminance source does not support rotation by 45 degrees.")},r.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new Ae,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var o=i[a]&255,s=void 0;o<64?s="#":o<128?s="+":o<192?s=".":s=" ",t.append(s)}t.append(`
`)}return t.toString()},r}(),No=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$n=function(r){No(e,r);function e(t){var n=r.call(this,t.getWidth(),t.getHeight())||this;return n.delegate=t,n}return e.prototype.getRow=function(t,n){for(var i=this.delegate.getRow(t,n),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(t[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,n,i,a){return new e(this.delegate.crop(t,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(_n),Mo=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Po=function(r){Mo(e,r);function e(t){var n=r.call(this,t.width,t.height)||this;return n.canvas=t,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(t),n}return e.makeBufferFromCanvasImageData=function(t){var n=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(n.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,n,i){for(var a=new Uint8ClampedArray(n*i),o=0,s=0,f=t.length;o<f;o+=4,s++){var u=void 0,c=t[o+3];if(c===0)u=255;else{var l=t[o],d=t[o+1],h=t[o+2];u=306*l+601*d+117*h+512>>10}a[s]=u}return a},e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new ee("Requested row is outside the image: "+t);var i=this.getWidth(),a=t*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,a){return r.prototype.crop.call(this,t,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=t*e.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*s),u=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*s);return n.width=f,n.height=u,i.translate(f/2,u/2),i.rotate(a),i.drawImage(this.canvas,o/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new $n(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e}(_n),Lo=function(){function r(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}return r.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},r}(),rt=globalThis&&globalThis.__awaiter||function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(l){o(l)}}function f(c){try{u(n.throw(c))}catch(l){o(l)}}function u(c){c.done?a(c.value):i(c.value).then(s,f)}u((n=n.apply(r,e||[])).next())})},nt=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return f([u,c])}}function f(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(c){u=[6,c],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Bo=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mr=function(){function r(e,t,n){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(r.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),r.prototype.listVideoInputDevices=function(){return rt(this,void 0,void 0,function(){var e,t,n,i,a,o,s,f,u,c,l,d;return nt(this,function(h){switch(h.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=h.sent(),t=[];try{for(n=Bo(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(s=a.deviceId||a.id,f=a.label||"Video device "+(t.length+1),u=a.groupId,c={deviceId:s,label:f,kind:o,groupId:u},t.push(c))}catch(p){l={error:p}}finally{try{i&&!i.done&&(d=n.return)&&d.call(n)}finally{if(l)throw l.error}}return[2,t]}})})},r.prototype.getVideoInputDevices=function(){return rt(this,void 0,void 0,function(){var e;return nt(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(n){return new Lo(n.deviceId,n.label)})]}})})},r.prototype.findDeviceById=function(e){return rt(this,void 0,void 0,function(){var t;return nt(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=n.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2,null]}})})},r.prototype.decodeFromInputVideoDevice=function(e,t){return rt(this,void 0,void 0,function(){return nt(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,n.sent()]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,t){return rt(this,void 0,void 0,function(){var n,i;return nt(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,a.sent()]}})})},r.prototype.decodeOnceFromConstraints=function(e,t){return rt(this,void 0,void 0,function(){var n;return nt(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,t)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,t){return rt(this,void 0,void 0,function(){var n,i;return nt(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},r.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,n){return rt(this,void 0,void 0,function(){return nt(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,t,n)];case 1:return[2,i.sent()]}})})},r.prototype.decodeFromVideoDevice=function(e,t,n){return rt(this,void 0,void 0,function(){var i,a;return nt(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,t,n)];case 1:return[2,o.sent()]}})})},r.prototype.decodeFromConstraints=function(e,t,n){return rt(this,void 0,void 0,function(){var i;return nt(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,t,n)];case 2:return[2,a.sent()]}})})},r.prototype.decodeFromStream=function(e,t,n){return rt(this,void 0,void 0,function(){var i;return nt(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},r.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},r.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},r.prototype.attachStreamToVideo=function(e,t){return rt(this,void 0,void 0,function(){var n;return nt(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(t),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},r.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(n,i){return t.playVideoOnLoad(e,function(){return n()})})},r.prototype.playVideoOnLoad=function(e,t){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},r.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},r.prototype.tryPlayVideo=function(e){return rt(this,void 0,void 0,function(){return nt(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},r.prototype.getMediaElement=function(e,t){var n=document.getElementById(e);if(!n)throw new Ot("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new Ot("element with id '"+e+"' must be an "+t+" element");return n},r.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new Ot("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},r.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new Ot("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},r.prototype.decodeFromVideoContinuously=function(e,t,n){if(e===void 0&&t===void 0)throw new Ot("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)},r.prototype.decodeFromImageElement=function(e){if(!e)throw new Ot("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var n;return this.isImageLoaded(t)?n=this.decodeOnce(t,!1,!0):n=this._decodeOnLoadImage(t),n},r.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},r.prototype.decodeFromVideoElementContinuously=function(e,t){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)},r.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Ot("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},r.prototype.decodeFromImageUrl=function(e){if(!e)throw new Ot("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var n=this._decodeOnLoadImage(t);return t.src=e,n},r.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Ot("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n},r.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new Ot("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,t);return n.src=e,i},r.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(n,i){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",t.imageLoadedListener)})},r.prototype._decodeOnLoadVideo=function(e){return rt(this,void 0,void 0,function(){return nt(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},r.prototype._decodeOnLoadVideoContinuously=function(e,t){return rt(this,void 0,void 0,function(){return nt(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,t),[2]}})})},r.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},r.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},r.prototype.decodeOnce=function(e,t,n){var i=this;t===void 0&&(t=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(o,s){if(i._stopAsyncDecode){s(new b("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var f=i.decode(e);o(f)}catch(d){var u=t&&d instanceof b,c=d instanceof qe||d instanceof k,l=c&&n;if(u||l)return setTimeout(a,i._timeBetweenDecodingAttempts,o,s);s(d)}};return new Promise(function(o,s){return a(o,s)})},r.prototype.decodeContinuously=function(e,t){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);t(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(f){t(null,f);var o=f instanceof qe||f instanceof k,s=f instanceof b;(o||s)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},r.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},r.prototype._isHTMLVideoElement=function(e){var t=e;return t.videoWidth!==0},r.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);var t=this.getCaptureCanvas(e),n=new Po(t),i=new Ro(n);return new xo(i)},r.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),n=t.getContext("2d");this.captureCanvasContext=n}return this.captureCanvasContext},r.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},r.prototype.drawFrameOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.drawImageOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},r.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=n+"px",t.style.height=i+"px",t.width=n,t.height=i,t},r.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},r.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},r.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},r.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},r.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},r.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},r.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},r}(),ht=function(){function r(e,t,n,i,a,o){n===void 0&&(n=t==null?0:8*t.length),o===void 0&&(o=Ie.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=t,n==null?this.numBits=t==null?0:8*t.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=Ie.currentTimeMillis():this.timestamp=o}return r.prototype.getText=function(){return this.text},r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.getBarcodeFormat=function(){return this.format},r.prototype.getResultMetadata=function(){return this.resultMetadata},r.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},r.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},r.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(t.length+e.length);Ie.arraycopy(t,0,n,0,t.length),Ie.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.toString=function(){return this.text},r}(),Rn;(function(r){r[r.AZTEC=0]="AZTEC",r[r.CODABAR=1]="CODABAR",r[r.CODE_39=2]="CODE_39",r[r.CODE_93=3]="CODE_93",r[r.CODE_128=4]="CODE_128",r[r.DATA_MATRIX=5]="DATA_MATRIX",r[r.EAN_8=6]="EAN_8",r[r.EAN_13=7]="EAN_13",r[r.ITF=8]="ITF",r[r.MAXICODE=9]="MAXICODE",r[r.PDF_417=10]="PDF_417",r[r.QR_CODE=11]="QR_CODE",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Rn||(Rn={}));const Y=Rn;var Nn;(function(r){r[r.OTHER=0]="OTHER",r[r.ORIENTATION=1]="ORIENTATION",r[r.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",r[r.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",r[r.ISSUE_NUMBER=4]="ISSUE_NUMBER",r[r.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",r[r.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",r[r.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",r[r.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",r[r.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",r[r.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Nn||(Nn={}));const Je=Nn;var xn=function(){function r(e,t,n,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.setNumBits=function(e){this.numBits=e},r.prototype.getText=function(){return this.text},r.prototype.getByteSegments=function(){return this.byteSegments},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getErrorsCorrected=function(){return this.errorsCorrected},r.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},r.prototype.getErasures=function(){return this.erasures},r.prototype.setErasures=function(e){this.erasures=e},r.prototype.getOther=function(){return this.other},r.prototype.setOther=function(e){this.other=e},r.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},r.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},r.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},r}(),Hr=function(){function r(){}return r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new ee;return this.logTable[e]},r.addOrSubtract=function(e,t){return e^t},r}(),rr=function(){function r(e,t){if(t.length===0)throw new ee;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var i=1;i<n&&t[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),Ie.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,n;if(e===1){n=0;for(var i=0,a=t.length;i!==a;i++){var o=t[i];n=Hr.addOrSubtract(n,o)}return n}n=t[0];for(var s=t.length,f=this.field,i=1;i<s;i++)n=Hr.addOrSubtract(f.multiply(e,n),t[i]);return n},r.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new ee("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var i=t;t=n,n=i}var a=new Int32Array(n.length),o=n.length-t.length;Ie.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=Hr.addOrSubtract(t[s-o],n[s]);return new r(this.field,a)},r.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new ee("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,n=t.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=this.field,f=0;f<n;f++)for(var u=t[f],c=0;c<a;c++)o[f+c]=Hr.addOrSubtract(o[f+c],s.multiply(u,i[c]));return new r(s,o)},r.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,n=this.field,i=new Int32Array(t),a=this.coefficients,o=0;o<t;o++)i[o]=n.multiply(a[o],e);return new r(n,i)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new ee;if(t===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),o=this.field,s=0;s<i;s++)a[s]=o.multiply(n[s],t);return new r(o,a)},r.prototype.divide=function(e){if(!this.field.equals(e.field))throw new ee("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new ee("Divide by 0");for(var t=this.field,n=t.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=t.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),f=t.multiply(i.getCoefficient(i.getDegree()),o),u=e.multiplyByMonomial(s,f),c=t.buildMonomial(s,f);n=n.addOrSubtract(c),i=i.addOrSubtract(u)}return[n,i]},r.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),t===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},r}(),Fo=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),aa=function(r){Fo(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(dt),ko=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Gt=function(r){ko(e,r);function e(t,n,i){var a=r.call(this)||this;a.primitive=t,a.size=n,a.generatorBase=i;for(var o=new Int32Array(n),s=1,f=0;f<n;f++)o[f]=s,s*=2,s>=n&&(s^=t,s&=n-1);a.expTable=o;for(var u=new Int32Array(n),f=0;f<n-1;f++)u[o[f]]=f;return a.logTable=u,a.zero=new rr(a,Int32Array.from([0])),a.one=new rr(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new ee;if(n===0)return this.zero;var i=new Int32Array(t+1);return i[0]=n,new rr(this,i)},e.prototype.inverse=function(t){if(t===0)throw new aa;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Qe.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(Hr),Uo=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Jr=function(r){Uo(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(dt),Ho=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$r=function(r){Ho(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(dt),mn=function(){function r(e){this.field=e}return r.prototype.decode=function(e,t){for(var n=this.field,i=new rr(n,e),a=new Int32Array(t),o=!0,s=0;s<t;s++){var f=i.evaluateAt(n.exp(s+n.getGeneratorBase()));a[a.length-1-s]=f,f!==0&&(o=!1)}if(!o)for(var u=new rr(n,a),c=this.runEuclideanAlgorithm(n.buildMonomial(t,1),u,t),l=c[0],d=c[1],h=this.findErrorLocations(l),p=this.findErrorMagnitudes(d,h),s=0;s<h.length;s++){var v=e.length-1-n.log(h[s]);if(v<0)throw new Jr("Bad error location");e[v]=Gt.addOrSubtract(e[v],p[s])}},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=this.field,o=e,s=t,f=a.getZero(),u=a.getOne();s.getDegree()>=(n/2|0);){var c=o,l=f;if(o=s,f=u,o.isZero())throw new Jr("r_{i-1} was zero");s=c;for(var d=a.getZero(),h=o.getCoefficient(o.getDegree()),p=a.inverse(h);s.getDegree()>=o.getDegree()&&!s.isZero();){var v=s.getDegree()-o.getDegree(),_=a.multiply(s.getCoefficient(s.getDegree()),p);d=d.addOrSubtract(a.buildMonomial(v,_)),s=s.addOrSubtract(o.multiplyByMonomial(v,_))}if(u=d.multiply(f).addOrSubtract(l),s.getDegree()>=o.getDegree())throw new $r("Division algorithm failed to reduce polynomial?")}var x=u.getCoefficient(0);if(x===0)throw new Jr("sigmaTilde(0) was zero");var g=a.inverse(x),y=u.multiplyScalar(g),A=s.multiplyScalar(g);return[y,A]},r.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(t),i=0,a=this.field,o=1;o<a.getSize()&&i<t;o++)e.evaluateAt(o)===0&&(n[i]=a.inverse(o),i++);if(i!==t)throw new Jr("Error locator degree does not match number of roots");return n},r.prototype.findErrorMagnitudes=function(e,t){for(var n=t.length,i=new Int32Array(n),a=this.field,o=0;o<n;o++){for(var s=a.inverse(t[o]),f=1,u=0;u<n;u++)if(o!==u){var c=a.multiply(t[u],s),l=c&1?c&-2:c|1;f=a.multiply(f,l)}i[o]=a.multiply(e.evaluateAt(s),a.inverse(f)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],s))}return i},r}(),Ze;(function(r){r[r.UPPER=0]="UPPER",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.DIGIT=3]="DIGIT",r[r.PUNCT=4]="PUNCT",r[r.BINARY=5]="BINARY"})(Ze||(Ze={}));var ui=function(){function r(){}return r.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),n=this.extractBits(t),i=this.correctBits(n),a=r.convertBoolArrayToByteArray(i),o=r.getEncodedData(i),s=new xn(a,o,null,null);return s.setNumBits(i.length),s},r.highLevelDecode=function(e){return this.getEncodedData(e)},r.getEncodedData=function(e){for(var t=e.length,n=Ze.UPPER,i=Ze.UPPER,a="",o=0;o<t;)if(i===Ze.BINARY){if(t-o<5)break;var s=r.readCode(e,o,5);if(o+=5,s===0){if(t-o<11)break;s=r.readCode(e,o,11)+31,o+=11}for(var f=0;f<s;f++){if(t-o<8){o=t;break}var u=r.readCode(e,o,8);a+=je.castAsNonUtf8Char(u),o+=8}i=n}else{var c=i===Ze.DIGIT?4:5;if(t-o<c)break;var u=r.readCode(e,o,c);o+=c;var l=r.getCharacter(i,u);l.startsWith("CTRL_")?(n=i,i=r.getTable(l.charAt(5)),l.charAt(6)==="L"&&(n=i)):(a+=l,i=n)}return a},r.getTable=function(e){switch(e){case"L":return Ze.LOWER;case"P":return Ze.PUNCT;case"M":return Ze.MIXED;case"D":return Ze.DIGIT;case"B":return Ze.BINARY;case"U":default:return Ze.UPPER}},r.getCharacter=function(e,t){switch(e){case Ze.UPPER:return r.UPPER_TABLE[t];case Ze.LOWER:return r.LOWER_TABLE[t];case Ze.MIXED:return r.MIXED_TABLE[t];case Ze.PUNCT:return r.PUNCT_TABLE[t];case Ze.DIGIT:return r.DIGIT_TABLE[t];default:throw new $r("Bad table")}},r.prototype.correctBits=function(e){var t,n;this.ddata.getNbLayers()<=2?(n=6,t=Gt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=Gt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=Gt.AZTEC_DATA_10):(n=12,t=Gt.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new k;for(var o=e.length%n,s=new Int32Array(a),f=0;f<a;f++,o+=n)s[f]=r.readCode(e,o,n);try{var u=new mn(t);u.decode(s,a-i)}catch(_){throw new k(_)}for(var c=(1<<n)-1,l=0,f=0;f<i;f++){var d=s[f];if(d===0||d===c)throw new k;(d===1||d===c-1)&&l++}for(var h=new Array(i*n-l),p=0,f=0;f<i;f++){var d=s[f];if(d===1||d===c-1)h.fill(d>1,p,p+n-1),p+=n-1;else for(var v=n-1;v>=0;--v)h[p++]=(d&1<<v)!==0}return h},r.prototype.extractBits=function(e){var t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(t?11:14)+n*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,t));if(t)for(var s=0;s<a.length;s++)a[s]=s;else for(var f=i+1+2*Qe.truncDivision(Qe.truncDivision(i,2)-1,15),u=i/2,c=Qe.truncDivision(f,2),s=0;s<u;s++){var l=s+Qe.truncDivision(s,15);a[u-s-1]=c-l-1,a[u+s]=c+l+1}for(var s=0,d=0;s<n;s++){for(var h=(n-s)*4+(t?9:12),p=s*2,v=i-1-p,_=0;_<h;_++)for(var x=_*2,g=0;g<2;g++)o[d+x+g]=e.get(a[p+g],a[p+_]),o[d+2*h+x+g]=e.get(a[p+_],a[v-g]),o[d+4*h+x+g]=e.get(a[v-g],a[v-_]),o[d+6*h+x+g]=e.get(a[v-_],a[p+g]);d+=h*8}return o},r.readCode=function(e,t,n){for(var i=0,a=t;a<t+n;a++)i<<=1,e[a]&&(i|=1);return i},r.readByte=function(e,t){var n=e.length-t;return n>=8?r.readCode(e,t,8):r.readCode(e,t,n)<<8-n},r.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),n=0;n<t.length;n++)t[n]=r.readByte(e,8*n);return t},r.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},r.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],r.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],r.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],r.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],r.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],r}(),ce=function(){function r(){}return r.round=function(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},r.distance=function(e,t,n,i){var a=e-n,o=t-i;return Math.sqrt(a*a+o*o)},r.sum=function(e){for(var t=0,n=0,i=e.length;n!==i;n++){var a=e[n];t+=a}return t},r}(),Mn=function(){function r(){}return r.floatToIntBits=function(e){return e},r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r}(),Z=function(){function r(e,t){this.x=e,this.y=t}return r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.equals=function(e){if(e instanceof r){var t=e;return this.x===t.x&&this.y===t.y}return!1},r.prototype.hashCode=function(){return 31*Mn.floatToIntBits(this.x)+Mn.floatToIntBits(this.y)},r.prototype.toString=function(){return"("+this.x+","+this.y+")"},r.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,s;if(n>=t&&n>=i?(o=e[0],a=e[1],s=e[2]):i>=n&&i>=t?(o=e[1],a=e[0],s=e[2]):(o=e[2],a=e[0],s=e[1]),this.crossProductZ(a,o,s)<0){var f=a;a=s,s=f}e[0]=a,e[1]=o,e[2]=s},r.distance=function(e,t){return ce.distance(e.x,e.y,t.x,t.y)},r.crossProductZ=function(e,t,n){var i=t.x,a=t.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},r}(),Zn=function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r}(),Vo=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Go=function(r){Vo(e,r);function e(t,n,i,a,o){var s=r.call(this,t,n)||this;return s.compact=i,s.nbDatablocks=a,s.nbLayers=o,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(Zn),Pn=function(){function r(e,t,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=r.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=t/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new b}return r.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,n=this.upInit,i=this.downInit,a=!1,o=!0,s=!1,f=!1,u=!1,c=!1,l=!1,d=this.width,h=this.height;o;){o=!1;for(var p=!0;(p||!f)&&t<d;)p=this.containsBlackPoint(n,i,t,!1),p?(t++,o=!0,f=!0):f||t++;if(t>=d){a=!0;break}for(var v=!0;(v||!u)&&i<h;)v=this.containsBlackPoint(e,t,i,!0),v?(i++,o=!0,u=!0):u||i++;if(i>=h){a=!0;break}for(var _=!0;(_||!c)&&e>=0;)_=this.containsBlackPoint(n,i,e,!1),_?(e--,o=!0,c=!0):c||e--;if(e<0){a=!0;break}for(var x=!0;(x||!l)&&n>=0;)x=this.containsBlackPoint(e,t,n,!0),x?(n--,o=!0,l=!0):l||n--;if(n<0){a=!0;break}o&&(s=!0)}if(!a&&s){for(var g=t-e,y=null,A=1;y===null&&A<g;A++)y=this.getBlackPointOnSegment(e,i-A,e+A,i);if(y==null)throw new b;for(var E=null,A=1;E===null&&A<g;A++)E=this.getBlackPointOnSegment(e,n+A,e+A,n);if(E==null)throw new b;for(var S=null,A=1;S===null&&A<g;A++)S=this.getBlackPointOnSegment(t,n+A,t-A,n);if(S==null)throw new b;for(var T=null,A=1;T===null&&A<g;A++)T=this.getBlackPointOnSegment(t,i-A,t-A,i);if(T==null)throw new b;return this.centerEdges(T,y,S,E)}else throw new b},r.prototype.getBlackPointOnSegment=function(e,t,n,i){for(var a=ce.round(ce.distance(e,t,n,i)),o=(n-e)/a,s=(i-t)/a,f=this.image,u=0;u<a;u++){var c=ce.round(e+u*o),l=ce.round(t+u*s);if(f.get(c,l))return new Z(c,l)}return null},r.prototype.centerEdges=function(e,t,n,i){var a=e.getX(),o=e.getY(),s=t.getX(),f=t.getY(),u=n.getX(),c=n.getY(),l=i.getX(),d=i.getY(),h=r.CORR;return a<this.width/2?[new Z(l-h,d+h),new Z(s+h,f+h),new Z(u-h,c-h),new Z(a+h,o-h)]:[new Z(l+h,d+h),new Z(s+h,f-h),new Z(u-h,c+h),new Z(a-h,o-h)]},r.prototype.containsBlackPoint=function(e,t,n,i){var a=this.image;if(i){for(var o=e;o<=t;o++)if(a.get(o,n))return!0}else for(var s=e;s<=t;s++)if(a.get(n,s))return!0;return!1},r.INIT_SIZE=10,r.CORR=1,r}(),ci=function(){function r(){}return r.checkAndNudgePoints=function(e,t){for(var n=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<t.length&&a;o+=2){var s=Math.floor(t[o]),f=Math.floor(t[o+1]);if(s<-1||s>n||f<-1||f>i)throw new b;a=!1,s===-1?(t[o]=0,a=!0):s===n&&(t[o]=n-1,a=!0),f===-1?(t[o+1]=0,a=!0):f===i&&(t[o+1]=i-1,a=!0)}a=!0;for(var o=t.length-2;o>=0&&a;o-=2){var s=Math.floor(t[o]),f=Math.floor(t[o+1]);if(s<-1||s>n||f<-1||f>i)throw new b;a=!1,s===-1?(t[o]=0,a=!0):s===n&&(t[o]=n-1,a=!0),f===-1?(t[o+1]=0,a=!0):f===i&&(t[o+1]=i-1,a=!0)}},r}(),oa=function(){function r(e,t,n,i,a,o,s,f,u){this.a11=e,this.a21=t,this.a31=n,this.a12=i,this.a22=a,this.a32=o,this.a13=s,this.a23=f,this.a33=u}return r.quadrilateralToQuadrilateral=function(e,t,n,i,a,o,s,f,u,c,l,d,h,p,v,_){var x=r.quadrilateralToSquare(e,t,n,i,a,o,s,f),g=r.squareToQuadrilateral(u,c,l,d,h,p,v,_);return g.times(x)},r.prototype.transformPoints=function(e){for(var t=e.length,n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,f=this.a23,u=this.a31,c=this.a32,l=this.a33,d=0;d<t;d+=2){var h=e[d],p=e[d+1],v=a*h+f*p+l;e[d]=(n*h+o*p+u)/v,e[d+1]=(i*h+s*p+c)/v}},r.prototype.transformPointsWithValues=function(e,t){for(var n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,f=this.a23,u=this.a31,c=this.a32,l=this.a33,d=e.length,h=0;h<d;h++){var p=e[h],v=t[h],_=a*p+f*v+l;e[h]=(n*p+o*v+u)/_,t[h]=(i*p+s*v+c)/_}},r.squareToQuadrilateral=function(e,t,n,i,a,o,s,f){var u=e-n+a-s,c=t-i+o-f;if(u===0&&c===0)return new r(n-e,a-n,e,i-t,o-i,t,0,0,1);var l=n-a,d=s-a,h=i-o,p=f-o,v=l*p-d*h,_=(u*p-d*c)/v,x=(l*c-u*h)/v;return new r(n-e+_*n,s-e+x*s,e,i-t+_*i,f-t+x*f,t,_,x,1)},r.quadrilateralToSquare=function(e,t,n,i,a,o,s,f){return r.squareToQuadrilateral(e,t,n,i,a,o,s,f).buildAdjoint()},r.prototype.buildAdjoint=function(){return new r(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},r.prototype.times=function(e){return new r(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},r}(),Wo=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Xo=function(r){Wo(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,n,i,a,o,s,f,u,c,l,d,h,p,v,_,x,g,y,A){var E=oa.quadrilateralToQuadrilateral(a,o,s,f,u,c,l,d,h,p,v,_,x,g,y,A);return this.sampleGridWithTransform(t,n,i,E)},e.prototype.sampleGridWithTransform=function(t,n,i,a){if(n<=0||i<=0)throw new b;for(var o=new Wt(n,i),s=new Float32Array(2*n),f=0;f<i;f++){for(var u=s.length,c=f+.5,l=0;l<u;l+=2)s[l]=l/2+.5,s[l+1]=c;a.transformPoints(s),ci.checkAndNudgePoints(t,s);try{for(var l=0;l<u;l+=2)t.get(Math.floor(s[l]),Math.floor(s[l+1]))&&o.set(l/2,f)}catch{throw new b}}return o},e}(ci),qn=function(){function r(){}return r.setGridSampler=function(e){r.gridSampler=e},r.getInstance=function(){return r.gridSampler},r.gridSampler=new Xo,r}(),ot=function(){function r(e,t){this.x=e,this.y=t}return r.prototype.toResultPoint=function(){return new Z(this.getX(),this.getY())},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r}(),zo=function(){function r(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return r.prototype.detect=function(){return this.detectMirror(!1)},r.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new Go(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},r.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new b;var t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);for(var i=0,a=0;a<4;a++){var o=n[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&31<<5)+(o>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},r.prototype.getRotation=function(e,t){var n=0;e.forEach(function(a,o,s){var f=(a>>t-2<<1)+(a&1);n=(n<<3)+f}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(Qe.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new b},r.prototype.getCorrectedParameterData=function(e,t){var n,i;t?(n=7,i=2):(n=10,i=4);for(var a=n-i,o=new Int32Array(n),s=n-1;s>=0;--s)o[s]=e&15,e>>=4;try{var f=new mn(Gt.AZTEC_PARAM);f.decode(o,a)}catch{throw new b}for(var u=0,s=0;s<i;s++)u=(u<<4)+o[s];return u},r.prototype.getBullsEyeCorners=function(e){var t=e,n=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(t,o,1,-1),f=this.getFirstDifferent(n,o,1,1),u=this.getFirstDifferent(i,o,-1,1),c=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var l=this.distancePoint(c,s)*this.nbCenterLayers/(this.distancePoint(a,t)*(this.nbCenterLayers+2));if(l<.75||l>1.25||!this.isWhiteOrBlackRectangle(s,f,u,c))break}t=s,n=f,i=u,a=c,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new b;this.compact=this.nbCenterLayers===5;var d=new Z(t.getX()+.5,t.getY()-.5),h=new Z(n.getX()+.5,n.getY()+.5),p=new Z(i.getX()-.5,i.getY()+.5),v=new Z(a.getX()-.5,a.getY()-.5);return this.expandSquare([d,h,p,v],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},r.prototype.getMatrixCenter=function(){var e,t,n,i;try{var a=new Pn(this.image).detect();e=a[0],t=a[1],n=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new ot(o+7,s-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new ot(o+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new ot(o-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new ot(o-7,s-7),!1,-1,-1).toResultPoint()}var f=ce.round((e.getX()+i.getX()+t.getX()+n.getX())/4),u=ce.round((e.getY()+i.getY()+t.getY()+n.getY())/4);try{var a=new Pn(this.image,15,f,u).detect();e=a[0],t=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new ot(f+7,u-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new ot(f+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new ot(f-7,u+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new ot(f-7,u-7),!1,-1,-1).toResultPoint()}return f=ce.round((e.getX()+i.getX()+t.getX()+n.getX())/4),u=ce.round((e.getY()+i.getY()+t.getY()+n.getY())/4),new ot(f,u)},r.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},r.prototype.sampleGrid=function(e,t,n,i,a){var o=qn.getInstance(),s=this.getDimension(),f=s/2-this.nbCenterLayers,u=s/2+this.nbCenterLayers;return o.sampleGrid(e,s,s,f,f,u,f,u,u,f,u,t.getX(),t.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},r.prototype.sampleLine=function(e,t,n){for(var i=0,a=this.distanceResultPoint(e,t),o=a/n,s=e.getX(),f=e.getY(),u=o*(t.getX()-e.getX())/a,c=o*(t.getY()-e.getY())/a,l=0;l<n;l++)this.image.get(ce.round(s+l*u),ce.round(f+l*c))&&(i|=1<<n-l-1);return i},r.prototype.isWhiteOrBlackRectangle=function(e,t,n,i){var a=3;e=new ot(e.getX()-a,e.getY()+a),t=new ot(t.getX()-a,t.getY()-a),n=new ot(n.getX()+a,n.getY()-a),i=new ot(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var s=this.getColor(e,t);return s!==o||(s=this.getColor(t,n),s!==o)?!1:(s=this.getColor(n,i),s===o)},r.prototype.getColor=function(e,t){for(var n=this.distancePoint(e,t),i=(t.getX()-e.getX())/n,a=(t.getY()-e.getY())/n,o=0,s=e.getX(),f=e.getY(),u=this.image.get(e.getX(),e.getY()),c=Math.ceil(n),l=0;l<c;l++)s+=i,f+=a,this.image.get(ce.round(s),ce.round(f))!==u&&o++;var d=o/n;return d>.1&&d<.9?0:d<=.1===u?1:-1},r.prototype.getFirstDifferent=function(e,t,n,i){for(var a=e.getX()+n,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===t;)a+=n,o+=i;for(a-=n,o-=i;this.isValid(a,o)&&this.image.get(a,o)===t;)a+=n;for(a-=n;this.isValid(a,o)&&this.image.get(a,o)===t;)o+=i;return o-=i,new ot(a,o)},r.prototype.expandSquare=function(e,t,n){var i=n/(2*t),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,f=(e[0].getY()+e[2].getY())/2,u=new Z(s+i*a,f+i*o),c=new Z(s-i*a,f-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,f=(e[1].getY()+e[3].getY())/2;var l=new Z(s+i*a,f+i*o),d=new Z(s-i*a,f-i*o),h=[u,l,c,d];return h},r.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},r.prototype.isValidPoint=function(e){var t=ce.round(e.getX()),n=ce.round(e.getY());return this.isValid(t,n)},r.prototype.distancePoint=function(e,t){return ce.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.distanceResultPoint=function(e,t){return ce.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Qe.truncDivision(this.nbLayers-4,8)+1)+15},r}(),Ln=function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=null,i=new zo(e.getBlackMatrix()),a=null,o=null;try{var s=i.detectMirror(!1);a=s.getPoints(),this.reportFoundResultPoints(t,a),o=new ui().decode(s)}catch(l){n=l}if(o==null)try{var s=i.detectMirror(!0);a=s.getPoints(),this.reportFoundResultPoints(t,a),o=new ui().decode(s)}catch(l){throw n??l}var f=new ht(o.getText(),o.getRawBytes(),o.getNumBits(),a,Y.AZTEC,Ie.currentTimeMillis()),u=o.getByteSegments();u!=null&&f.putMetadata(Je.BYTE_SEGMENTS,u);var c=o.getECLevel();return c!=null&&f.putMetadata(Je.ERROR_CORRECTION_LEVEL,c),f},r.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var n=e.get(Te.NEED_RESULT_POINT_CALLBACK);n!=null&&t.forEach(function(i,a,o){n.foundPossibleResultPoint(i)})}},r.prototype.reset=function(){},r}(),jo=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){jo(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Ln,t)||this}return e})(Mr);var et=function(){function r(){}return r.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{var n=t&&t.get(Te.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,t),o=a.getResultMetadata(),s=270;o!==null&&o.get(Je.ORIENTATION)===!0&&(s=s+o.get(Je.ORIENTATION)%360),a.putMetadata(Je.ORIENTATION,s);var f=a.getResultPoints();if(f!==null)for(var u=i.getHeight(),c=0;c<f.length;c++)f[c]=new Z(u-f[c].getY()-1,f[c].getX());return a}else throw new b}},r.prototype.reset=function(){},r.prototype.doDecode=function(e,t){var n=e.getWidth(),i=e.getHeight(),a=new ut(n),o=t&&t.get(Te.TRY_HARDER)===!0,s=Math.max(1,i>>(o?8:5)),f;o?f=i:f=15;for(var u=Math.trunc(i/2),c=0;c<f;c++){var l=Math.trunc((c+1)/2),d=(c&1)===0,h=u+s*(d?l:-l);if(h<0||h>=i)break;try{a=e.getBlackRow(h,a)}catch{continue}for(var p=function(g){if(g===1&&(a.reverse(),t&&t.get(Te.NEED_RESULT_POINT_CALLBACK)===!0)){var y=new Map;t.forEach(function(S,T){return y.set(T,S)}),y.delete(Te.NEED_RESULT_POINT_CALLBACK),t=y}try{var A=v.decodeRow(h,a,t);if(g===1){A.putMetadata(Je.ORIENTATION,180);var E=A.getResultPoints();E!==null&&(E[0]=new Z(n-E[0].getX()-1,E[0].getY()),E[1]=new Z(n-E[1].getX()-1,E[1].getY()))}return{value:A}}catch{}},v=this,_=0;_<2;_++){var x=p(_);if(typeof x=="object")return x.value}}throw new b},r.recordPattern=function(e,t,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var o=e.getSize();if(t>=o)throw new b;for(var s=!e.get(t),f=0,u=t;u<o;){if(e.get(u)!==s)n[f]++;else{if(++f===i)break;n[f]=1,s=!s}u++}if(!(f===i||f===i-1&&u===o))throw new b},r.recordPatternInReverse=function(e,t,n){for(var i=n.length,a=e.get(t);t>0&&i>=0;)e.get(--t)!==a&&(i--,a=!a);if(i>=0)throw new b;r.recordPattern(e,t+1,n)},r.patternMatchVariance=function(e,t,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=t[s];if(a<o)return Number.POSITIVE_INFINITY;var f=a/o;n*=f;for(var u=0,c=0;c<i;c++){var l=e[c],d=t[c]*f,h=l>d?l-d:d-l;if(h>n)return Number.POSITIVE_INFINITY;u+=h}return u/a},r}(),Yo=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),li=function(r){Yo(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var n=t.getSize(),i=t.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),s=i,f=!1,u=6,c=i;c<n;c++)if(t.get(c)!==f)o[a]++;else{if(a===u-1){for(var l=e.MAX_AVG_VARIANCE,d=-1,h=e.CODE_START_A;h<=e.CODE_START_C;h++){var p=et.patternMatchVariance(o,e.CODE_PATTERNS[h],e.MAX_INDIVIDUAL_VARIANCE);p<l&&(l=p,d=h)}if(d>=0&&t.isRange(Math.max(0,s-(c-s)/2),s,!1))return Int32Array.from([s,c,d]);s+=o[0]+o[1],o=o.slice(2,o.length-1),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,f=!f}throw new b},e.decodeCode=function(t,n,i){et.recordPattern(t,i,n);for(var a=e.MAX_AVG_VARIANCE,o=-1,s=0;s<e.CODE_PATTERNS.length;s++){var f=e.CODE_PATTERNS[s],u=this.patternMatchVariance(n,f,e.MAX_INDIVIDUAL_VARIANCE);u<a&&(a=u,o=s)}if(o>=0)return o;throw new b},e.prototype.decodeRow=function(t,n,i){var a=i&&i.get(Te.ASSUME_GS1)===!0,o=e.findStartPattern(n),s=o[2],f=0,u=new Uint8Array(20);u[f++]=s;var c;switch(s){case e.CODE_START_A:c=e.CODE_CODE_A;break;case e.CODE_START_B:c=e.CODE_CODE_B;break;case e.CODE_START_C:c=e.CODE_CODE_C;break;default:throw new k}for(var l=!1,d=!1,h="",p=o[0],v=o[1],_=Int32Array.from([0,0,0,0,0,0]),x=0,g=0,y=s,A=0,E=!0,S=!1,T=!1;!l;){var F=d;switch(d=!1,x=g,g=e.decodeCode(n,_,v),u[f++]=g,g!==e.CODE_STOP&&(E=!0),g!==e.CODE_STOP&&(A++,y+=A*g),p=v,v+=_.reduce(function(_e,Re){return _e+Re},0),g){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new k}switch(c){case e.CODE_CODE_A:if(g<64)T===S?h+=String.fromCharCode(" ".charCodeAt(0)+g):h+=String.fromCharCode(" ".charCodeAt(0)+g+128),T=!1;else if(g<96)T===S?h+=String.fromCharCode(g-64):h+=String.fromCharCode(g+64),T=!1;else switch(g!==e.CODE_STOP&&(E=!1),g){case e.CODE_FNC_1:a&&(h.length===0?h+="]C1":h+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!S&&T?(S=!0,T=!1):S&&T?(S=!1,T=!1):T=!0;break;case e.CODE_SHIFT:d=!0,c=e.CODE_CODE_B;break;case e.CODE_CODE_B:c=e.CODE_CODE_B;break;case e.CODE_CODE_C:c=e.CODE_CODE_C;break;case e.CODE_STOP:l=!0;break}break;case e.CODE_CODE_B:if(g<96)T===S?h+=String.fromCharCode(" ".charCodeAt(0)+g):h+=String.fromCharCode(" ".charCodeAt(0)+g+128),T=!1;else switch(g!==e.CODE_STOP&&(E=!1),g){case e.CODE_FNC_1:a&&(h.length===0?h+="]C1":h+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!S&&T?(S=!0,T=!1):S&&T?(S=!1,T=!1):T=!0;break;case e.CODE_SHIFT:d=!0,c=e.CODE_CODE_A;break;case e.CODE_CODE_A:c=e.CODE_CODE_A;break;case e.CODE_CODE_C:c=e.CODE_CODE_C;break;case e.CODE_STOP:l=!0;break}break;case e.CODE_CODE_C:if(g<100)g<10&&(h+="0"),h+=g;else switch(g!==e.CODE_STOP&&(E=!1),g){case e.CODE_FNC_1:a&&(h.length===0?h+="]C1":h+=String.fromCharCode(29));break;case e.CODE_CODE_A:c=e.CODE_CODE_A;break;case e.CODE_CODE_B:c=e.CODE_CODE_B;break;case e.CODE_STOP:l=!0;break}break}F&&(c=c===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var j=v-p;if(v=n.getNextUnset(v),!n.isRange(v,Math.min(n.getSize(),v+(v-p)/2),!1))throw new b;if(y-=A*x,y%103!==x)throw new qe;var R=h.length;if(R===0)throw new b;R>0&&E&&(c===e.CODE_CODE_C?h=h.substring(0,R-2):h=h.substring(0,R-1));for(var C=(o[1]+o[0])/2,$=p+j/2,K=u.length,O=new Uint8Array(K),z=0;z<K;z++)O[z]=u[z];var ge=[new Z(C,t),new Z($,t)];return new ht(h,O,0,ge,Y.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(et),Ko=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),In=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},di=function(r){Ko(e,r);function e(t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=r.call(this)||this;return i.usingCheckDigit=t,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(t,n,i){var a,o,s,f,u=this.counters;u.fill(0),this.decodeRowResult="";var c=e.findAsteriskPattern(n,u),l=n.getNextSet(c[1]),d=n.getSize(),h,p;do{e.recordPattern(n,l,u);var v=e.toNarrowWidePattern(u);if(v<0)throw new b;h=e.patternToChar(v),this.decodeRowResult+=h,p=l;try{for(var _=(a=void 0,In(u)),x=_.next();!x.done;x=_.next()){var g=x.value;l+=g}}catch(K){a={error:K}}finally{try{x&&!x.done&&(o=_.return)&&o.call(_)}finally{if(a)throw a.error}}l=n.getNextSet(l)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var y=0;try{for(var A=In(u),E=A.next();!E.done;E=A.next()){var g=E.value;y+=g}}catch(K){s={error:K}}finally{try{E&&!E.done&&(f=A.return)&&f.call(A)}finally{if(s)throw s.error}}var S=l-p-y;if(l!==d&&S*2<y)throw new b;if(this.usingCheckDigit){for(var T=this.decodeRowResult.length-1,F=0,j=0;j<T;j++)F+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(j));if(this.decodeRowResult.charAt(T)!==e.ALPHABET_STRING.charAt(F%43))throw new qe;this.decodeRowResult=this.decodeRowResult.substring(0,T)}if(this.decodeRowResult.length===0)throw new b;var R;this.extendedMode?R=e.decodeExtended(this.decodeRowResult):R=this.decodeRowResult;var C=(c[1]+c[0])/2,$=p+y/2;return new ht(R,null,0,[new Z(C,t),new Z($,t)],Y.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,n){for(var i=t.getSize(),a=t.getNextSet(0),o=0,s=a,f=!1,u=n.length,c=a;c<i;c++)if(t.get(c)!==f)n[o]++;else{if(o===u-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,s-Math.floor((c-s)/2)),s,!1))return[s,c];s+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,f=!f}throw new b},e.toNarrowWidePattern=function(t){var n,i,a=t.length,o=0,s;do{var f=2147483647;try{for(var u=(n=void 0,In(t)),c=u.next();!c.done;c=u.next()){var l=c.value;l<f&&l>o&&(f=l)}}catch(v){n={error:v}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}o=f,s=0;for(var d=0,h=0,p=0;p<a;p++){var l=t[p];l>o&&(h|=1<<a-1-p,s++,d+=l)}if(s===3){for(var p=0;p<a&&s>0;p++){var l=t[p];if(l>o&&(s--,l*2>=d))return-1}return h}}while(s>3);return-1},e.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);if(t===e.ASTERISK_ENCODING)return"*";throw new b},e.decodeExtended=function(t){for(var n=t.length,i="",a=0;a<n;a++){var o=t.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var s=t.charAt(a+1),f="\0";switch(o){case"+":if(s>="A"&&s<="Z")f=String.fromCharCode(s.charCodeAt(0)+32);else throw new k;break;case"$":if(s>="A"&&s<="Z")f=String.fromCharCode(s.charCodeAt(0)-64);else throw new k;break;case"%":if(s>="A"&&s<="E")f=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")f=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")f=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")f=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")f="\0";else if(s==="V")f="@";else if(s==="W")f="`";else if(s==="X"||s==="Y"||s==="Z")f="";else throw new k;break;case"/":if(s>="A"&&s<="O")f=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")f=":";else throw new k;break}i+=f,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(et),$o=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Zo=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hi=function(r){$o(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,n,i){var a,o,s=this.decodeStart(n),f=this.decodeEnd(n),u=new Ae;e.decodeMiddle(n,s[1],f[0],u);var c=u.toString(),l=null;i!=null&&(l=i.get(Te.ALLOWED_LENGTHS)),l==null&&(l=e.DEFAULT_ALLOWED_LENGTHS);var d=c.length,h=!1,p=0;try{for(var v=Zo(l),_=v.next();!_.done;_=v.next()){var x=_.value;if(d===x){h=!0;break}x>p&&(p=x)}}catch(A){a={error:A}}finally{try{_&&!_.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}if(!h&&d>p&&(h=!0),!h)throw new k;var g=[new Z(s[1],t),new Z(f[0],t)],y=new ht(c,null,0,g,Y.ITF,new Date().getTime());return y},e.decodeMiddle=function(t,n,i,a){var o=new Int32Array(10),s=new Int32Array(5),f=new Int32Array(5);for(o.fill(0),s.fill(0),f.fill(0);n<i;){et.recordPattern(t,n,o);for(var u=0;u<5;u++){var c=2*u;s[u]=o[c],f[u]=o[c+1]}var l=e.decodeDigit(s);a.append(l.toString()),l=this.decodeDigit(f),a.append(l.toString()),o.forEach(function(d){n+=d})}},e.prototype.decodeStart=function(t){var n=e.skipWhiteSpace(t),i=e.findGuardPattern(t,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i},e.prototype.validateQuietZone=function(t,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!t.get(a);a--)i--;if(i!==0)throw new b},e.skipWhiteSpace=function(t){var n=t.getSize(),i=t.getNextSet(0);if(i===n)throw new b;return i},e.prototype.decodeEnd=function(t){t.reverse();try{var n=e.skipWhiteSpace(t),i=void 0;try{i=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof b&&(i=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);var a=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-a,i}finally{t.reverse()}},e.findGuardPattern=function(t,n,i){var a=i.length,o=new Int32Array(a),s=t.getSize(),f=!1,u=0,c=n;o.fill(0);for(var l=n;l<s;l++)if(t.get(l)!==f)o[u]++;else{if(u===a-1){if(et.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[c,l];c+=o[0]+o[1],Ie.arraycopy(o,2,o,0,u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,f=!f}throw new b},e.decodeDigit=function(t){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var s=e.PATTERNS[o],f=et.patternMatchVariance(t,s,e.MAX_INDIVIDUAL_VARIANCE);f<n?(n=f,i=o):f===n&&(i=-1)}if(i>=0)return i%10;throw new b},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(et),qo=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Or=function(r){qo(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var n=!1,i,a=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(t,a,!1,this.START_END_PATTERN,o);var s=i[0];a=i[1];var f=s-(a-s);f>=0&&(n=t.isRange(f,s,!1))}return i},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var i=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,i=0,a=n-1;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(o<0||o>9)throw new k;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(o<0||o>9)throw new k;i+=o}return(1e3-i)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,n,i,a){return this.findGuardPattern(t,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(t,n,i,a,o){var s=t.getSize();n=i?t.getNextUnset(n):t.getNextSet(n);for(var f=0,u=n,c=a.length,l=i,d=n;d<s;d++)if(t.get(d)!==l)o[f]++;else{if(f===c-1){if(et.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([u,d]);u+=o[0]+o[1];for(var h=o.slice(2,o.length-1),p=0;p<f-1;p++)o[p]=h[p];o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,l=!l}throw new b},e.decodeDigit=function(t,n,i,a){this.recordPattern(t,i,n);for(var o=this.MAX_AVG_VARIANCE,s=-1,f=a.length,u=0;u<f;u++){var c=a[u],l=et.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);l<o&&(o=l,s=u)}if(s>=0)return s;throw new b},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(et),Qo=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Jo=function(){function r(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,n,i),o=i.toString(),s=r.parseExtensionString(o),f=[new Z((n[0]+n[1])/2,e),new Z(a,e)],u=new ht(o,null,0,f,Y.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&u.putAllMetadata(s),u},r.prototype.decodeMiddle=function(e,t,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),f=t[1],u=0,c=0;c<5&&f<s;c++){var l=Or.decodeDigit(e,o,f,Or.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+l%10);try{for(var d=(i=void 0,Qo(o)),h=d.next();!h.done;h=d.next()){var p=h.value;f+=p}}catch(_){i={error:_}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}l>=10&&(u|=1<<4-c),c!==4&&(f=e.getNextSet(f),f=e.getNextUnset(f))}if(n.length!==5)throw new b;var v=this.determineCheckDigit(u);if(r.extensionChecksum(n.toString())!==v)throw new b;return f},r.extensionChecksum=function(e){for(var t=e.length,n=0,i=t-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(var i=t-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);return n*=3,n%10},r.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new b},r.parseExtensionString=function(e){if(e.length!==5)return null;var t=r.parseExtension5String(e);return t==null?null:new Map([[Je.SUGGESTED_PRICE,t]])},r.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="Â£";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,o=a<10?"0"+a:a.toString();return t+i+"."+o},r}(),es=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ts=function(){function r(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,n,i),o=i.toString(),s=r.parseExtensionString(o),f=[new Z((n[0]+n[1])/2,e),new Z(a,e)],u=new ht(o,null,0,f,Y.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&u.putAllMetadata(s),u},r.prototype.decodeMiddle=function(e,t,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),f=t[1],u=0,c=0;c<2&&f<s;c++){var l=Or.decodeDigit(e,o,f,Or.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+l%10);try{for(var d=(i=void 0,es(o)),h=d.next();!h.done;h=d.next()){var p=h.value;f+=p}}catch(v){i={error:v}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}l>=10&&(u|=1<<1-c),c!==1&&(f=e.getNextSet(f),f=e.getNextUnset(f))}if(n.length!==2)throw new b;if(parseInt(n.toString())%4!==u)throw new b;return f},r.parseExtensionString=function(e){return e.length!==2?null:new Map([[Je.ISSUE_NUMBER,parseInt(e)]])},r}(),rs=function(){function r(){}return r.decodeRow=function(e,t,n){var i=Or.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new Jo;return a.decodeRow(e,t,i)}catch{var o=new ts;return o.decodeRow(e,t,i)}},r.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),r}(),ns=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ve=function(r){ns(e,r);function e(){var t=r.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=a}return t}return e.prototype.decodeRow=function(t,n,i){var a=e.findStartGuardPattern(n),o=i==null?null:i.get(Te.NEED_RESULT_POINT_CALLBACK);if(o!=null){var s=new Z((a[0]+a[1])/2,t);o.foundPossibleResultPoint(s)}var f=this.decodeMiddle(n,a,this.decodeRowStringBuffer),u=f.rowOffset,c=f.resultString;if(o!=null){var l=new Z(u,t);o.foundPossibleResultPoint(l)}var d=e.decodeEnd(n,u);if(o!=null){var h=new Z((d[0]+d[1])/2,t);o.foundPossibleResultPoint(h)}var p=d[1],v=p+(p-d[0]);if(v>=n.getSize()||!n.isRange(p,v,!1))throw new b;var _=c.toString();if(_.length<8)throw new k;if(!e.checkChecksum(_))throw new qe;var x=(a[1]+a[0])/2,g=(d[1]+d[0])/2,y=this.getBarcodeFormat(),A=[new Z(x,t),new Z(g,t)],E=new ht(_,null,0,A,y,new Date().getTime()),S=0;try{var T=rs.decodeRow(t,n,d[1]);E.putMetadata(Je.UPC_EAN_EXTENSION,T.getText()),E.putAllMetadata(T.getResultMetadata()),E.addResultPoints(T.getResultPoints()),S=T.getText().length}catch{}var F=i==null?null:i.get(Te.ALLOWED_EAN_EXTENSIONS);if(F!=null){var j=!1;for(var R in F)if(S.toString()===R){j=!0;break}if(!j)throw new b}return y===Y.EAN_13||Y.UPC_A,E},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var i=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,i=0,a=n-1;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(o<0||o>9)throw new k;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=t.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(o<0||o>9)throw new k;i+=o}return(1e3-i)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(Or),is=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pi=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Bn=function(r){is(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,n,i){var a,o,s,f,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var c=t.getSize(),l=n[1],d=0,h=0;h<6&&l<c;h++){var p=Ve.decodeDigit(t,u,l,Ve.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+p%10);try{for(var v=(a=void 0,pi(u)),_=v.next();!_.done;_=v.next()){var x=_.value;l+=x}}catch(E){a={error:E}}finally{try{_&&!_.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}p>=10&&(d|=1<<5-h)}i=e.determineFirstDigit(i,d);var g=Ve.findGuardPattern(t,l,!0,Ve.MIDDLE_PATTERN,new Int32Array(Ve.MIDDLE_PATTERN.length).fill(0));l=g[1];for(var h=0;h<6&&l<c;h++){var p=Ve.decodeDigit(t,u,l,Ve.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+p);try{for(var y=(s=void 0,pi(u)),A=y.next();!A.done;A=y.next()){var x=A.value;l+=x}}catch(T){s={error:T}}finally{try{A&&!A.done&&(f=y.return)&&f.call(y)}finally{if(s)throw s.error}}}return{rowOffset:l,resultString:i}},e.prototype.getBarcodeFormat=function(){return Y.EAN_13},e.determineFirstDigit=function(t,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode("0".charCodeAt(0)+i)+t,t;throw new b},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(Ve),as=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vi=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gi=function(r){as(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,n,i){var a,o,s,f,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var c=t.getSize(),l=n[1],d=0;d<4&&l<c;d++){var h=Ve.decodeDigit(t,u,l,Ve.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+h);try{for(var p=(a=void 0,vi(u)),v=p.next();!v.done;v=p.next()){var _=v.value;l+=_}}catch(A){a={error:A}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}}var x=Ve.findGuardPattern(t,l,!0,Ve.MIDDLE_PATTERN,new Int32Array(Ve.MIDDLE_PATTERN.length).fill(0));l=x[1];for(var d=0;d<4&&l<c;d++){var h=Ve.decodeDigit(t,u,l,Ve.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+h);try{for(var g=(s=void 0,vi(u)),y=g.next();!y.done;y=g.next()){var _=y.value;l+=_}}catch(S){s={error:S}}finally{try{y&&!y.done&&(f=g.return)&&f.call(g)}finally{if(s)throw s.error}}}return{rowOffset:l,resultString:i}},e.prototype.getBarcodeFormat=function(){return Y.EAN_8},e}(Ve),os=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_i=function(r){os(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.ean13Reader=new Bn,t}return e.prototype.getBarcodeFormat=function(){return Y.UPC_A},e.prototype.decode=function(t,n){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,n,i))},e.prototype.decodeMiddle=function(t,n,i){return this.ean13Reader.decodeMiddle(t,n,i)},e.prototype.maybeReturnResult=function(t){var n=t.getText();if(n.charAt(0)==="0"){var i=new ht(n.substring(1),null,null,t.getResultPoints(),Y.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new b},e.prototype.reset=function(){this.ean13Reader.reset()},e}(Ve),ss=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fs=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xi=function(r){ss(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,n,i){var a,o,s=this.decodeMiddleCounters.map(function(_){return _});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var f=t.getSize(),u=n[1],c=0,l=0;l<6&&u<f;l++){var d=e.decodeDigit(t,s,u,e.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+d%10);try{for(var h=(a=void 0,fs(s)),p=h.next();!p.done;p=h.next()){var v=p.value;u+=v}}catch(_){a={error:_}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(a)throw a.error}}d>=10&&(c|=1<<5-l)}return e.determineNumSysAndCheckDigit(new Ae(i),c),u},e.prototype.decodeEnd=function(t,n){return e.findGuardPatternWithoutCounters(t,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return Ve.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){t.insert(0,"0"+i),t.append("0"+a);return}throw b.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Y.UPC_E},e.convertUPCEtoUPCA=function(t){var n=t.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new Ae;i.append(t.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(Ve),us=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mi=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sn=function(r){us(e,r);function e(t){var n=r.call(this)||this,i=t==null?null:t.get(Te.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(Y.EAN_13)>-1&&a.push(new Bn),i.indexOf(Y.UPC_A)>-1&&a.push(new _i),i.indexOf(Y.EAN_8)>-1&&a.push(new gi),i.indexOf(Y.UPC_E)>-1&&a.push(new xi)),a.length===0&&(a.push(new Bn),a.push(new _i),a.push(new gi),a.push(new xi)),n.readers=a,n}return e.prototype.decodeRow=function(t,n,i){var a,o;try{for(var s=mi(this.readers),f=s.next();!f.done;f=s.next()){var u=f.value;try{var c=u.decodeRow(t,n,i),l=c.getBarcodeFormat()===Y.EAN_13&&c.getText().charAt(0)==="0",d=i==null?null:i.get(Te.POSSIBLE_FORMATS),h=d==null||d.includes(Y.UPC_A);if(l&&h){var p=c.getRawBytes(),v=new ht(c.getText().substring(1),p,p?p.length:null,c.getResultPoints(),Y.UPC_A);return v.putAllMetadata(c.getResultMetadata()),v}return c}catch{}}}catch(_){a={error:_}}finally{try{f&&!f.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}throw new b},e.prototype.reset=function(){var t,n;try{for(var i=mi(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e}(et),cs=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ls=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fr=function(r){cs(e,r);function e(){var t=r.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,n){for(var i=0;i<n.length;i++)if(et.patternMatchVariance(t,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new b},e.count=function(t){return ce.sum(new Int32Array(t))},e.increment=function(t,n){for(var i=0,a=n[0],o=1;o<t.length;o++)n[o]>a&&(a=n[o],i=o);t[i]++},e.decrement=function(t,n){for(var i=0,a=n[0],o=1;o<t.length;o++)n[o]<a&&(a=n[o],i=o);t[i]--},e.isFinderPattern=function(t){var n,i,a=t[0]+t[1],o=a+t[2]+t[3],s=a/o;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var f=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var c=ls(t),l=c.next();!l.done;l=c.next()){var d=l.value;d>u&&(u=d),d<f&&(f=d)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return u<10*f}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(et),pn=function(){function r(e,t){this.value=e,this.checksumPortion=t}return r.prototype.getValue=function(){return this.value},r.prototype.getChecksumPortion=function(){return this.checksumPortion},r.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},r.prototype.hashCode=function(){return this.value^this.checksumPortion},r}(),sa=function(){function r(e,t,n,i,a){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new Z(n,a)),this.resultPoints.push(new Z(i,a))}return r.prototype.getValue=function(){return this.value},r.prototype.getStartEnd=function(){return this.startEnd},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.hashCode=function(){return this.value},r}(),ds=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yr=function(){function r(){}return r.getRSSvalue=function(e,t,n){var i,a,o=0;try{for(var s=ds(e),f=s.next();!f.done;f=s.next()){var u=f.value;o+=u}}catch(g){i={error:g}}finally{try{f&&!f.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}for(var c=0,l=0,d=e.length,h=0;h<d-1;h++){var p=void 0;for(p=1,l|=1<<h;p<e[h];p++,l&=~(1<<h)){var v=r.combins(o-p-1,d-h-2);if(n&&l===0&&o-p-(d-h-1)>=d-h-1&&(v-=r.combins(o-p-(d-h),d-h-2)),d-h-1>1){for(var _=0,x=o-p-(d-h-2);x>t;x--)_+=r.combins(o-p-x-1,d-h-3);v-=_*(d-1-h)}else o-p>t&&v--;c+=v}o-=p}return c},r.combins=function(e,t){var n,i;e-t>t?(i=t,n=e-t):(i=e-t,n=t);for(var a=1,o=1,s=e;s>n;s--)a*=s,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},r}(),hs=function(){function r(){}return r.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var n=12*t,i=new ut(n),a=0,o=e[0],s=o.getRightChar().getValue(),f=11;f>=0;--f)s&1<<f&&i.set(a),a++;for(var f=1;f<e.length;++f){for(var u=e[f],c=u.getLeftChar().getValue(),l=11;l>=0;--l)c&1<<l&&i.set(a),a++;if(u.getRightChar()!=null)for(var d=u.getRightChar().getValue(),l=11;l>=0;--l)d&1<<l&&i.set(a),a++}return i},r}(),or=function(){function r(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return r.prototype.getDecodedInformation=function(){return this.decodedInformation},r.prototype.isFinished=function(){return this.finished},r}(),Qn=function(){function r(e){this.newPosition=e}return r.prototype.getNewPosition=function(){return this.newPosition},r}(),ps=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Tt=function(r){ps(e,r);function e(t,n){var i=r.call(this,t)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(Qn),vs=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sr=function(r){vs(e,r);function e(t,n,i){var a=r.call(this,t)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(Qn),gs=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_r=function(r){gs(e,r);function e(t,n,i){var a=r.call(this,t)||this;if(n<0||n>10||i<0||i>10)throw new k;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(Qn),en=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_s=function(){function r(){}return r.parseFieldsInGeneralPurpose=function(e){var t,n,i,a,o,s,f,u;if(!e)return null;if(e.length<2)throw new b;var c=e.substring(0,2);try{for(var l=en(r.TWO_DIGIT_DATA_LENGTH),d=l.next();!d.done;d=l.next()){var h=d.value;if(h[0]===c)return h[1]===r.VARIABLE_LENGTH?r.processVariableAI(2,h[2],e):r.processFixedAI(2,h[1],e)}}catch(S){t={error:S}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}if(e.length<3)throw new b;var p=e.substring(0,3);try{for(var v=en(r.THREE_DIGIT_DATA_LENGTH),_=v.next();!_.done;_=v.next()){var h=_.value;if(h[0]===p)return h[1]===r.VARIABLE_LENGTH?r.processVariableAI(3,h[2],e):r.processFixedAI(3,h[1],e)}}catch(S){i={error:S}}finally{try{_&&!_.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}try{for(var x=en(r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),g=x.next();!g.done;g=x.next()){var h=g.value;if(h[0]===p)return h[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,h[2],e):r.processFixedAI(4,h[1],e)}}catch(S){o={error:S}}finally{try{g&&!g.done&&(s=x.return)&&s.call(x)}finally{if(o)throw o.error}}if(e.length<4)throw new b;var y=e.substring(0,4);try{for(var A=en(r.FOUR_DIGIT_DATA_LENGTH),E=A.next();!E.done;E=A.next()){var h=E.value;if(h[0]===y)return h[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,h[2],e):r.processFixedAI(4,h[1],e)}}catch(S){f={error:S}}finally{try{E&&!E.done&&(u=A.return)&&u.call(A)}finally{if(f)throw f.error}}throw new b},r.processFixedAI=function(e,t,n){if(n.length<e)throw new b;var i=n.substring(0,e);if(n.length<e+t)throw new b;var a=n.substring(e,e+t),o=n.substring(e+t),s="("+i+")"+a,f=r.parseFieldsInGeneralPurpose(o);return f==null?s:s+f},r.processVariableAI=function(e,t,n){var i=n.substring(0,e),a;n.length<e+t?a=n.length:a=e+t;var o=n.substring(e,a),s=n.substring(a),f="("+i+")"+o,u=r.parseFieldsInGeneralPurpose(s);return u==null?f:f+u},r.VARIABLE_LENGTH=[],r.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",r.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",r.VARIABLE_LENGTH,20],["22",r.VARIABLE_LENGTH,29],["30",r.VARIABLE_LENGTH,8],["37",r.VARIABLE_LENGTH,8],["90",r.VARIABLE_LENGTH,30],["91",r.VARIABLE_LENGTH,30],["92",r.VARIABLE_LENGTH,30],["93",r.VARIABLE_LENGTH,30],["94",r.VARIABLE_LENGTH,30],["95",r.VARIABLE_LENGTH,30],["96",r.VARIABLE_LENGTH,30],["97",r.VARIABLE_LENGTH,3],["98",r.VARIABLE_LENGTH,30],["99",r.VARIABLE_LENGTH,30]],r.THREE_DIGIT_DATA_LENGTH=[["240",r.VARIABLE_LENGTH,30],["241",r.VARIABLE_LENGTH,30],["242",r.VARIABLE_LENGTH,6],["250",r.VARIABLE_LENGTH,30],["251",r.VARIABLE_LENGTH,30],["253",r.VARIABLE_LENGTH,17],["254",r.VARIABLE_LENGTH,20],["400",r.VARIABLE_LENGTH,30],["401",r.VARIABLE_LENGTH,30],["402",17],["403",r.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",r.VARIABLE_LENGTH,20],["421",r.VARIABLE_LENGTH,15],["422",3],["423",r.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",r.VARIABLE_LENGTH,15],["391",r.VARIABLE_LENGTH,18],["392",r.VARIABLE_LENGTH,15],["393",r.VARIABLE_LENGTH,18],["703",r.VARIABLE_LENGTH,30]],r.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",r.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",r.VARIABLE_LENGTH,20],["8003",r.VARIABLE_LENGTH,30],["8004",r.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",r.VARIABLE_LENGTH,30],["8008",r.VARIABLE_LENGTH,12],["8018",18],["8020",r.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",r.VARIABLE_LENGTH,70],["8200",r.VARIABLE_LENGTH,70]],r}(),ln=function(){function r(e){this.buffer=new Ae,this.information=e}return r.prototype.decodeAllCodes=function(e,t){var n=t,i=null;do{var a=this.decodeGeneralPurposeField(n,i),o=_s.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},r.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},r.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new _r(this.information.getSize(),_r.FNC1,_r.FNC1):new _r(this.information.getSize(),t-1,_r.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new _r(e+7,i,a)},r.prototype.extractNumericValueFromBitArray=function(e,t){return r.extractNumericValueFromBitArray(this.information,e,t)},r.extractNumericValueFromBitArray=function(e,t,n){for(var i=0,a=0;a<n;++a)e.get(t+a)&&(i|=1<<n-a-1);return i},r.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new sr(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new sr(this.current.getPosition(),this.buffer.toString())},r.prototype.parseBlocks=function(){var e,t;do{var n=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return t.getDecodedInformation()},r.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new sr(this.current.getPosition(),this.buffer.toString()):t=new sr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new or(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new sr(this.current.getPosition(),this.buffer.toString());return new or(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new or(!1)},r.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new sr(this.current.getPosition(),this.buffer.toString());return new or(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new or(!1)},r.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new sr(this.current.getPosition(),this.buffer.toString());return new or(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new or(!1)},r.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},r.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Tt(e+5,Tt.FNC1);if(t>=5&&t<15)return new Tt(e+5,"0"+(t-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Tt(e+7,""+(n+1));if(n>=90&&n<116)return new Tt(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new k}return new Tt(e+8,a)},r.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},r.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Tt(e+5,Tt.FNC1);if(t>=5&&t<15)return new Tt(e+5,"0"+(t-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Tt(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new $r("Decoding invalid alphanumeric value: "+n)}return new Tt(e+6,i)},r.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},r.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},r.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},r}(),fa=function(){function r(e){this.information=e,this.generalDecoder=new ln(e)}return r.prototype.getInformation=function(){return this.information},r.prototype.getGeneralDecoder=function(){return this.generalDecoder},r}(),xs=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dt=function(r){xs(e,r);function e(t){return r.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,n){t.append("(01)");var i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(t,n,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);o/100===0&&t.append("0"),o/10===0&&t.append("0"),t.append(o)}e.appendCheckDigit(t,i)},e.appendCheckDigit=function(t,n){for(var i=0,a=0;a<13;a++){var o=t.charAt(a+n).charCodeAt(0)-"0".charCodeAt(0);i+=a&1?o:3*o}i=10-i%10,i===10&&(i=0),t.append(i)},e.GTIN_SIZE=40,e}(fa),ms=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ys=function(r){ms(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new Ae;t.append("(01)");var n=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=1+1+2,e}(Dt),As=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Es=function(r){As(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new Ae;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=2+1+2,e}(fa),Is=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dn=function(r){Is(e,r);function e(t){return r.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(t,a);for(var o=this.checkWeight(a),s=1e5,f=0;f<5;++f)o/s===0&&t.append("0"),s/=10;t.append(o)},e}(Dt),Ss=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ua=function(r){Ss(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!=e.HEADER_SIZE+dn.GTIN_SIZE+e.WEIGHT_SIZE)throw new b;var t=new Ae;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+dn.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=4+1,e.WEIGHT_SIZE=15,e}(dn),Cs=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ws=function(r){Cs(e,r);function e(t){return r.call(this,t)||this}return e.prototype.addWeightCode=function(t,n){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(ua),bs=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ts=function(r){bs(e,r);function e(t){return r.call(this,t)||this}return e.prototype.addWeightCode=function(t,n){n<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(ua),Os=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ds=function(r){Os(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Dt.GTIN_SIZE)throw new b;var t=new Ae;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Dt.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(n),t.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Dt.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=5+1+2,e.LAST_DIGIT_SIZE=2,e}(Dt),Rs=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ns=function(r){Rs(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Dt.GTIN_SIZE)throw new b;var t=new Ae;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Dt.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(n),t.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Dt.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100==0&&t.append("0"),i/10==0&&t.append("0"),t.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Dt.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(a.getNewString()),t.toString()},e.HEADER_SIZE=5+1+2,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Dt),Ms=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Kt=function(r){Ms(e,r);function e(t,n,i){var a=r.call(this,t)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!=e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new b;var t=new Ae;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!=38400){t.append("("),t.append(this.dateCode),t.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var s=i;s/10==0&&t.append("0"),t.append(s),o/10==0&&t.append("0"),t.append(o),a/10==0&&t.append("0"),t.append(a)}},e.prototype.addWeightCode=function(t,n){t.append("("),t.append(this.firstAIdigits),t.append(n/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=7+1,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(dn);function Ps(r){try{if(r.get(1))return new ys(r);if(!r.get(2))return new Es(r);var e=ln.extractNumericValueFromBitArray(r,1,4);switch(e){case 4:return new ws(r);case 5:return new Ts(r)}var t=ln.extractNumericValueFromBitArray(r,1,5);switch(t){case 12:return new Ds(r);case 13:return new Ns(r)}var n=ln.extractNumericValueFromBitArray(r,1,7);switch(n){case 56:return new Kt(r,"310","11");case 57:return new Kt(r,"320","11");case 58:return new Kt(r,"310","13");case 59:return new Kt(r,"320","13");case 60:return new Kt(r,"310","15");case 61:return new Kt(r,"320","15");case 62:return new Kt(r,"310","17");case 63:return new Kt(r,"320","17")}}catch(i){throw console.log(i),new $r("unknown decoder: "+r)}}var yi=function(){function r(e,t,n,i){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=i}return r.prototype.mayBeLast=function(){return this.maybeLast},r.prototype.getLeftChar=function(){return this.leftchar},r.prototype.getRightChar=function(){return this.rightchar},r.prototype.getFinderPattern=function(){return this.finderpattern},r.prototype.mustBeLast=function(){return this.rightchar==null},r.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},r.equals=function(e,t){return e instanceof r?r.equalsOrNull(e.leftchar,t.leftchar)&&r.equalsOrNull(e.rightchar,t.rightchar)&&r.equalsOrNull(e.finderpattern,t.finderpattern):!1},r.equalsOrNull=function(e,t){return e===null?t===null:r.equals(e,t)},r.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},r}(),Ls=function(){function r(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}return r.prototype.getPairs=function(){return this.pairs},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.isReversed=function(){return this.wasReversed},r.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},r.prototype.toString=function(){return"{ "+this.pairs+" }"},r.prototype.equals=function(e,t){return e instanceof r?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},r.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var n;return e.forEach(function(i,a){t.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},r}(),Bs=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$t=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fs=function(r){Bs(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,t))}catch(s){if(s instanceof b){if(!this.pairs.length)throw new b;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(t,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new b},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return t&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(t,n){for(var i,a,o=n;o<this.rows.length;o++){var s=this.rows[o];this.pairs.length=0;try{for(var f=(i=void 0,$t(t)),u=f.next();!u.done;u=f.next()){var c=u.value;this.pairs.push(c.getPairs())}}catch(d){i={error:d}}finally{try{u&&!u.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var l=new Array(t);l.push(s);try{return this.checkRows(l,o+1)}catch(d){console.log(d)}}}throw new b},e.isValidSequence=function(t){var n,i;try{for(var a=$t(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var s=o.value;if(!(t.length>s.length)){for(var f=!0,u=0;u<t.length;u++)if(t[u].getFinderPattern().getValue()!=s[u]){f=!1;break}if(f)return!0}}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(t,n){for(var i=0,a=!1,o=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>t){o=s.isEquivalent(this.pairs);break}a=s.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Ls(this.pairs,t,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,n){var i,a,o,s,f,u;try{for(var c=$t(n),l=c.next();!l.done;l=c.next()){var d=l.value;if(d.getPairs().length!==t.length){var h=!0;try{for(var p=(o=void 0,$t(d.getPairs())),v=p.next();!v.done;v=p.next()){var _=v.value,x=!1;try{for(var g=(f=void 0,$t(t)),y=g.next();!y.done;y=g.next()){var A=y.value;if(yi.equals(_,A)){x=!0;break}}}catch(E){f={error:E}}finally{try{y&&!y.done&&(u=g.return)&&u.call(g)}finally{if(f)throw f.error}}x||(h=!1)}}catch(E){o={error:E}}finally{try{v&&!v.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}}}}catch(E){i={error:E}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}},e.isPartialRow=function(t,n){var i,a,o,s,f,u;try{for(var c=$t(n),l=c.next();!l.done;l=c.next()){var d=l.value,h=!0;try{for(var p=(o=void 0,$t(t)),v=p.next();!v.done;v=p.next()){var _=v.value,x=!1;try{for(var g=(f=void 0,$t(d.getPairs())),y=g.next();!y.done;y=g.next()){var A=y.value;if(_.equals(A)){x=!0;break}}}catch(E){f={error:E}}finally{try{y&&!y.done&&(u=g.return)&&u.call(g)}finally{if(f)throw f.error}}if(!x){h=!1;break}}}catch(E){o={error:E}}finally{try{v&&!v.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}if(h)return!0}}catch(E){i={error:E}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var n=hs.buildBitArray(t),i=Ps(n),a=i.parseInformation(),o=t[0].getFinderPattern().getResultPoints(),s=t[t.length-1].getFinderPattern().getResultPoints(),f=[o[0],o[1],s[0],s[1]];return new ht(a,null,null,f,Y.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),n=t.getLeftChar(),i=t.getRightChar();if(i==null)return!1;for(var a=i.getChecksumPortion(),o=2,s=1;s<this.pairs.size();++s){var f=this.pairs.get(s);a+=f.getLeftChar().getChecksumPortion(),o++;var u=f.getRightChar();u!=null&&(a+=u.getChecksumPortion(),o++)}a%=211;var c=211*(o-4)+a;return c==n.getValue()},e.getNextSecondBar=function(t,n){var i;return t.get(n)?(i=t.getNextUnset(n),i=t.getNextSet(i)):(i=t.getNextSet(n),i=t.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(t,n,i){var a=n.length%2==0;this.startFromEven&&(a=!a);var o,s=!0,f=-1;do this.findNextPair(t,n,f),o=this.parseFoundFinderPattern(t,i,a),o==null?f=e.getNextSecondBar(t,this.startEnd[0]):s=!1;while(s);var u=this.decodeDataCharacter(t,o,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new b;var c;try{c=this.decodeDataCharacter(t,o,a,!1)}catch(l){c=null,console.log(l)}return new yi(u,c,o,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=t.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(n))s=0;else{var f=n[n.length-1];s=f.getFinderPattern().getStartEnd()[1]}var u=n.length%2!=0;this.startFromEven&&(u=!u);for(var c=!1;s<o&&(c=!t.get(s),!!c);)s++;for(var l=0,d=s,h=s;h<o;h++)if(t.get(h)!=c)a[l]++;else{if(l==3){if(u&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=d,this.startEnd[1]=h;return}u&&e.reverseCounters(a),d+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,l--}else l++;a[l]=1,c=!c}throw new b},e.reverseCounters=function(t){for(var n=t.length,i=0;i<n/2;++i){var a=t[i];t[i]=t[n-i-1],t[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(t,n,i){var a,o,s;if(i){for(var f=this.startEnd[0]-1;f>=0&&!t.get(f);)f--;f++,a=this.startEnd[0]-f,o=f,s=this.startEnd[1]}else o=this.startEnd[0],s=t.getNextUnset(this.startEnd[1]+1),a=s-this.startEnd[1];var u=this.getDecodeFinderCounters();Ie.arraycopy(u,0,u,1,u.length-1),u[0]=a;var c;try{c=this.parseFinderValue(u,e.FINDER_PATTERNS)}catch{return null}return new sa(c,[o,s],o,s,n)},e.prototype.decodeDataCharacter=function(t,n,i,a){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(a)e.recordPatternInReverse(t,n.getStartEnd()[0],o);else{e.recordPattern(t,n.getStartEnd()[1],o);for(var f=0,u=o.length-1;f<u;f++,u--){var c=o[f];o[f]=o[u],o[u]=c}}var l=17,d=ce.sum(new Int32Array(o))/l,h=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new b;for(var p=this.getOddCounts(),v=this.getEvenCounts(),_=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors(),f=0;f<o.length;f++){var g=1*o[f]/d,y=g+.5;if(y<1){if(g<.3)throw new b;y=1}else if(y>8){if(g>8.7)throw new b;y=8}var A=f/2;f&1?(v[A]=y,x[A]=g-y):(p[A]=y,_[A]=g-y)}this.adjustOddEvenCounts(l);for(var E=4*n.getValue()+(i?0:2)+(a?0:1)-1,S=0,T=0,f=p.length-1;f>=0;f--){if(e.isNotA1left(n,i,a)){var F=e.WEIGHTS[E][2*f];T+=p[f]*F}S+=p[f]}for(var j=0,f=v.length-1;f>=0;f--)if(e.isNotA1left(n,i,a)){var F=e.WEIGHTS[E][2*f+1];j+=v[f]*F}var R=T+j;if(S&1||S>13||S<4)throw new b;var C=(13-S)/2,$=e.SYMBOL_WIDEST[C],K=9-$,O=yr.getRSSvalue(p,$,!0),z=yr.getRSSvalue(v,K,!1),ge=e.EVEN_TOTAL_SUBSET[C],_e=e.GSUM[C],Re=O*ge+z+_e;return new pn(Re,R)},e.isNotA1left=function(t,n,i){return!(t.getValue()==0&&n&&i)},e.prototype.adjustOddEvenCounts=function(t){var n=ce.sum(new Int32Array(this.getOddCounts())),i=ce.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);var s=!1,f=!1;i>13?f=!0:i<4&&(s=!0);var u=n+i-t,c=(n&1)==1,l=(i&1)==0;if(u==1)if(c){if(l)throw new b;o=!0}else{if(!l)throw new b;f=!0}else if(u==-1)if(c){if(l)throw new b;a=!0}else{if(!l)throw new b;s=!0}else if(u==0){if(c){if(!l)throw new b;n<i?(a=!0,f=!0):(o=!0,s=!0)}else if(l)throw new b}else throw new b;if(a){if(o)throw new b;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(f)throw new b;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(fr),ks=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Us=function(r){ks(e,r);function e(t,n,i){var a=r.call(this,t,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(pn),Hs=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Cn=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ai=function(r){Hs(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,n,i){var a,o,s,f,u=this.decodePair(n,!1,t,i);e.addOrTally(this.possibleLeftPairs,u),n.reverse();var c=this.decodePair(n,!0,t,i);e.addOrTally(this.possibleRightPairs,c),n.reverse();try{for(var l=Cn(this.possibleLeftPairs),d=l.next();!d.done;d=l.next()){var h=d.value;if(h.getCount()>1)try{for(var p=(s=void 0,Cn(this.possibleRightPairs)),v=p.next();!v.done;v=p.next()){var _=v.value;if(_.getCount()>1&&e.checkChecksum(h,_))return e.constructResult(h,_)}}catch(x){s={error:x}}finally{try{v&&!v.done&&(f=p.return)&&f.call(p)}finally{if(s)throw s.error}}}}catch(x){a={error:x}}finally{try{d&&!d.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}throw new b},e.addOrTally=function(t,n){var i,a;if(n!=null){var o=!1;try{for(var s=Cn(t),f=s.next();!f.done;f=s.next()){var u=f.value;if(u.getValue()===n.getValue()){u.incrementCount(),o=!0;break}}}catch(c){i={error:c}}finally{try{f&&!f.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}o||t.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,n){for(var i=4537077*t.getValue()+n.getValue(),a=new String(i).toString(),o=new Ae,s=13-a.length;s>0;s--)o.append("0");o.append(a);for(var f=0,s=0;s<13;s++){var u=o.charAt(s).charCodeAt(0)-"0".charCodeAt(0);f+=s&1?u:3*u}f=10-f%10,f===10&&(f=0),o.append(f.toString());var c=t.getFinderPattern().getResultPoints(),l=n.getFinderPattern().getResultPoints();return new ht(o.toString(),null,0,[c[0],c[1],l[0],l[1]],Y.RSS_14,new Date().getTime())},e.checkChecksum=function(t,n){var i=(t.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*t.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(t,n,i,a){try{var o=this.findFinderPattern(t,n),s=this.parseFoundFinderPattern(t,i,n,o),f=a==null?null:a.get(Te.NEED_RESULT_POINT_CALLBACK);if(f!=null){var u=(o[0]+o[1])/2;n&&(u=t.getSize()-1-u),f.foundPossibleResultPoint(new Z(u,i))}var c=this.decodeDataCharacter(t,s,!0),l=this.decodeDataCharacter(t,s,!1);return new Us(1597*c.getValue()+l.getValue(),c.getChecksumPortion()+4*l.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(t,n,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)et.recordPatternInReverse(t,n.getStartEnd()[0],a);else{et.recordPattern(t,n.getStartEnd()[1]+1,a);for(var s=0,f=a.length-1;s<f;s++,f--){var u=a[s];a[s]=a[f],a[f]=u}}for(var c=i?16:15,l=ce.sum(new Int32Array(a))/c,d=this.getOddCounts(),h=this.getEvenCounts(),p=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors(),s=0;s<a.length;s++){var _=a[s]/l,x=Math.floor(_+.5);x<1?x=1:x>8&&(x=8);var g=Math.floor(s/2);s&1?(h[g]=x,v[g]=_-x):(d[g]=x,p[g]=_-x)}this.adjustOddEvenCounts(i,c);for(var y=0,A=0,s=d.length-1;s>=0;s--)A*=9,A+=d[s],y+=d[s];for(var E=0,S=0,s=h.length-1;s>=0;s--)E*=9,E+=h[s],S+=h[s];var T=A+3*E;if(i){if(y&1||y>12||y<4)throw new b;var F=(12-y)/2,j=e.OUTSIDE_ODD_WIDEST[F],R=9-j,C=yr.getRSSvalue(d,j,!1),$=yr.getRSSvalue(h,R,!0),K=e.OUTSIDE_EVEN_TOTAL_SUBSET[F],O=e.OUTSIDE_GSUM[F];return new pn(C*K+$+O,T)}else{if(S&1||S>10||S<4)throw new b;var F=(10-S)/2,j=e.INSIDE_ODD_WIDEST[F],R=9-j,C=yr.getRSSvalue(d,j,!0),$=yr.getRSSvalue(h,R,!1),z=e.INSIDE_ODD_TOTAL_SUBSET[F],O=e.INSIDE_GSUM[F];return new pn($*z+C+O,T)}},e.prototype.findFinderPattern=function(t,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=t.getSize(),o=!1,s=0;s<a&&(o=!t.get(s),n!==o);)s++;for(var f=0,u=s,c=s;c<a;c++)if(t.get(c)!==o)i[f]++;else{if(f===3){if(fr.isFinderPattern(i))return[u,c];u+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,f--}else f++;i[f]=1,o=!o}throw new b},e.prototype.parseFoundFinderPattern=function(t,n,i,a){for(var o=t.get(a[0]),s=a[0]-1;s>=0&&o!==t.get(s);)s--;s++;var f=a[0]-s,u=this.getDecodeFinderCounters(),c=new Int32Array(u.length);Ie.arraycopy(u,0,c,1,u.length-1),c[0]=f;var l=this.parseFinderValue(c,e.FINDER_PATTERNS),d=s,h=a[1];return i&&(d=t.getSize()-1-d,h=t.getSize()-1-h),new sa(l,[s,a[1]],d,h,n)},e.prototype.adjustOddEvenCounts=function(t,n){var i=ce.sum(new Int32Array(this.getOddCounts())),a=ce.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1,f=!1,u=!1;t?(i>12?s=!0:i<4&&(o=!0),a>12?u=!0:a<4&&(f=!0)):(i>11?s=!0:i<5&&(o=!0),a>10?u=!0:a<4&&(f=!0));var c=i+a-n,l=(i&1)===(t?1:0),d=(a&1)===1;if(c===1)if(l){if(d)throw new b;s=!0}else{if(!d)throw new b;u=!0}else if(c===-1)if(l){if(d)throw new b;o=!0}else{if(!d)throw new b;f=!0}else if(c===0){if(l){if(!d)throw new b;i<a?(o=!0,u=!0):(s=!0,f=!0)}else if(d)throw new b}else throw new b;if(o){if(s)throw new b;fr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&fr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(u)throw new b;fr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&fr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(fr),Vs=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Vr=function(r){Vs(e,r);function e(t){var n=r.call(this)||this;n.readers=[];var i=t?t.get(Te.POSSIBLE_FORMATS):null,a=t&&t.get(Te.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;return i&&((i.includes(Y.EAN_13)||i.includes(Y.UPC_A)||i.includes(Y.EAN_8)||i.includes(Y.UPC_E))&&n.readers.push(new Sn(t)),i.includes(Y.CODE_39)&&n.readers.push(new di(a)),i.includes(Y.CODE_128)&&n.readers.push(new li),i.includes(Y.ITF)&&n.readers.push(new hi),i.includes(Y.RSS_14)&&n.readers.push(new Ai),i.includes(Y.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new Fs))),n.readers.length===0&&(n.readers.push(new Sn(t)),n.readers.push(new di),n.readers.push(new Sn(t)),n.readers.push(new li),n.readers.push(new hi),n.readers.push(new Ai)),n}return e.prototype.decodeRow=function(t,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(t,n,i)}catch{}throw new b},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e}(et),Gs=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){Gs(e,r);function e(t,n){return t===void 0&&(t=500),r.call(this,new Vr(n),t,n)||this}return e})(Mr);var Ei=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ve=function(){function r(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}return r.prototype.getECCodewords=function(){return this.ecCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r}(),le=function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r}(),Ws=function(){function r(e,t,n,i,a,o){var s,f;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var u=0,c=o.getECCodewords(),l=o.getECBlocks();try{for(var d=Ei(l),h=d.next();!h.done;h=d.next()){var p=h.value;u+=p.getCount()*(p.getDataCodewords()+c)}}catch(v){s={error:v}}finally{try{h&&!h.done&&(f=d.return)&&f.call(d)}finally{if(s)throw s.error}}this.totalCodewords=u}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},r.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},r.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},r.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r.getVersionForDimensions=function(e,t){var n,i;if(e&1||t&1)throw new k;try{for(var a=Ei(r.VERSIONS),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===t)return s}}catch(f){n={error:f}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new k},r.prototype.toString=function(){return""+this.versionNumber},r.buildVersions=function(){return[new r(1,10,10,8,8,new ve(5,new le(1,3))),new r(2,12,12,10,10,new ve(7,new le(1,5))),new r(3,14,14,12,12,new ve(10,new le(1,8))),new r(4,16,16,14,14,new ve(12,new le(1,12))),new r(5,18,18,16,16,new ve(14,new le(1,18))),new r(6,20,20,18,18,new ve(18,new le(1,22))),new r(7,22,22,20,20,new ve(20,new le(1,30))),new r(8,24,24,22,22,new ve(24,new le(1,36))),new r(9,26,26,24,24,new ve(28,new le(1,44))),new r(10,32,32,14,14,new ve(36,new le(1,62))),new r(11,36,36,16,16,new ve(42,new le(1,86))),new r(12,40,40,18,18,new ve(48,new le(1,114))),new r(13,44,44,20,20,new ve(56,new le(1,144))),new r(14,48,48,22,22,new ve(68,new le(1,174))),new r(15,52,52,24,24,new ve(42,new le(2,102))),new r(16,64,64,14,14,new ve(56,new le(2,140))),new r(17,72,72,16,16,new ve(36,new le(4,92))),new r(18,80,80,18,18,new ve(48,new le(4,114))),new r(19,88,88,20,20,new ve(56,new le(4,144))),new r(20,96,96,22,22,new ve(68,new le(4,174))),new r(21,104,104,24,24,new ve(56,new le(6,136))),new r(22,120,120,18,18,new ve(68,new le(6,175))),new r(23,132,132,20,20,new ve(62,new le(8,163))),new r(24,144,144,22,22,new ve(62,new le(8,156),new le(2,155))),new r(25,8,18,6,16,new ve(7,new le(1,5))),new r(26,8,32,6,14,new ve(11,new le(1,10))),new r(27,12,26,10,24,new ve(14,new le(1,16))),new r(28,12,36,10,16,new ve(18,new le(1,22))),new r(29,16,36,14,16,new ve(24,new le(1,32))),new r(30,16,48,14,22,new ve(28,new le(1,49)))]},r.VERSIONS=r.buildVersions(),r}(),Xs=function(){function r(e){var t=e.getHeight();if(t<8||t>144||t&1)throw new k;this.version=r.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Wt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return r.prototype.getVersion=function(){return this.version},r.readVersion=function(e){var t=e.getHeight(),n=e.getWidth();return Ws.getVersionForDimensions(t,n)},r.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),s=!1,f=!1,u=!1,c=!1;do if(n===a&&i===0&&!s)e[t++]=this.readCorner1(a,o)&255,n-=2,i+=2,s=!0;else if(n===a-2&&i===0&&o&3&&!f)e[t++]=this.readCorner2(a,o)&255,n-=2,i+=2,f=!0;else if(n===a+4&&i===2&&!(o&7)&&!u)e[t++]=this.readCorner3(a,o)&255,n-=2,i+=2,u=!0;else if(n===a-2&&i===0&&(o&7)===4&&!c)e[t++]=this.readCorner4(a,o)&255,n-=2,i+=2,c=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[t++]=this.readUtah(n,i,a,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[t++]=this.readUtah(n,i,a,o)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<o);if(t!==this.version.getTotalCodewords())throw new k;return e},r.prototype.readModule=function(e,t,n,i){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},r.prototype.readUtah=function(e,t,n,i){var a=0;return this.readModule(e-2,t-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,t-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,t-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,t-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,t,n,i)&&(a|=1),a<<=1,this.readModule(e,t-2,n,i)&&(a|=1),a<<=1,this.readModule(e,t-1,n,i)&&(a|=1),a<<=1,this.readModule(e,t,n,i)&&(a|=1),a},r.prototype.readCorner1=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.readCorner2=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner3=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner4=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new ee("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=t/i|0,s=n/a|0,f=o*i,u=s*a,c=new Wt(u,f),l=0;l<o;++l)for(var d=l*i,h=0;h<s;++h)for(var p=h*a,v=0;v<i;++v)for(var _=l*(i+2)+1+v,x=d+v,g=0;g<a;++g){var y=h*(a+2)+1+g;if(e.get(y,_)){var A=p+g;c.set(A,x)}}return c},r}(),Ii=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zs=function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t){var n,i,a,o,s=t.getECBlocks(),f=0,u=s.getECBlocks();try{for(var c=Ii(u),l=c.next();!l.done;l=c.next()){var d=l.value;f+=d.getCount()}}catch(O){n={error:O}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}var h=new Array(f),p=0;try{for(var v=Ii(u),_=v.next();!_.done;_=v.next())for(var d=_.value,x=0;x<d.getCount();x++){var g=d.getDataCodewords(),y=s.getECCodewords()+g;h[p++]=new r(g,new Uint8Array(y))}}catch(O){a={error:O}}finally{try{_&&!_.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}for(var A=h[0].codewords.length,E=A-s.getECCodewords(),S=E-1,T=0,x=0;x<S;x++)for(var F=0;F<p;F++)h[F].codewords[x]=e[T++];for(var j=t.getVersionNumber()===24,R=j?8:p,F=0;F<R;F++)h[F].codewords[E-1]=e[T++];for(var C=h[0].codewords.length,x=E;x<C;x++)for(var F=0;F<p;F++){var $=j?(F+8)%p:F,K=j&&$>7?x-1:x;h[$].codewords[K]=e[T++]}if(T!==e.length)throw new ee;return h},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r}(),ca=function(){function r(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return r.prototype.getBitOffset=function(){return this.bitOffset},r.prototype.getByteOffset=function(){return this.byteOffset},r.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new ee(""+e);var t=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var o=8-n,s=e<o?e:o,f=o-s,u=255>>8-s<<f;t=(a[i]&u)>>f,e-=s,n+=s,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)t=t<<8|a[i]&255,i++,e-=8;if(e>0){var f=8-e,u=255>>f<<f;t=t<<e|(a[i]&u)>>f,n+=e}}return this.bitOffset=n,this.byteOffset=i,t},r.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},r}(),He;(function(r){r[r.PAD_ENCODE=0]="PAD_ENCODE",r[r.ASCII_ENCODE=1]="ASCII_ENCODE",r[r.C40_ENCODE=2]="C40_ENCODE",r[r.TEXT_ENCODE=3]="TEXT_ENCODE",r[r.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",r[r.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",r[r.BASE256_ENCODE=6]="BASE256_ENCODE"})(He||(He={}));var js=function(){function r(){}return r.decode=function(e){var t=new ca(e),n=new Ae,i=new Ae,a=new Array,o=He.ASCII_ENCODE;do if(o===He.ASCII_ENCODE)o=this.decodeAsciiSegment(t,n,i);else{switch(o){case He.C40_ENCODE:this.decodeC40Segment(t,n);break;case He.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case He.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case He.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case He.BASE256_ENCODE:this.decodeBase256Segment(t,n,a);break;default:throw new k}o=He.ASCII_ENCODE}while(o!==He.PAD_ENCODE&&t.available()>0);return i.length()>0&&n.append(i.toString()),new xn(e,n.toString(),a.length===0?null:a,null)},r.decodeAsciiSegment=function(e,t,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new k;if(a<=128)return i&&(a+=128),t.append(String.fromCharCode(a-1)),He.ASCII_ENCODE;if(a===129)return He.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&t.append("0"),t.append(""+o)}else switch(a){case 230:return He.C40_ENCODE;case 231:return He.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:i=!0;break;case 236:t.append("[)>05"),n.insert(0,"");break;case 237:t.append("[)>06"),n.insert(0,"");break;case 238:return He.ANSIX12_ENCODE;case 239:return He.TEXT_ENCODE;case 240:return He.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new k;break}}while(e.available()>0);return He.ASCII_ENCODE},r.decodeC40Segment=function(e,t){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var f=i[s];switch(a){case 0:if(f<3)a=f+1;else if(f<this.C40_BASIC_SET_CHARS.length){var u=this.C40_BASIC_SET_CHARS[f];n?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):t.append(u)}else throw new k;break;case 1:n?(t.append(String.fromCharCode(f+128)),n=!1):t.append(String.fromCharCode(f)),a=0;break;case 2:if(f<this.C40_SHIFT2_SET_CHARS.length){var u=this.C40_SHIFT2_SET_CHARS[f];n?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):t.append(u)}else switch(f){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new k}a=0;break;case 3:n?(t.append(String.fromCharCode(f+224)),n=!1):t.append(String.fromCharCode(f+96)),a=0;break;default:throw new k}}}while(e.available()>0)},r.decodeTextSegment=function(e,t){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var f=i[s];switch(a){case 0:if(f<3)a=f+1;else if(f<this.TEXT_BASIC_SET_CHARS.length){var u=this.TEXT_BASIC_SET_CHARS[f];n?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):t.append(u)}else throw new k;break;case 1:n?(t.append(String.fromCharCode(f+128)),n=!1):t.append(String.fromCharCode(f)),a=0;break;case 2:if(f<this.TEXT_SHIFT2_SET_CHARS.length){var u=this.TEXT_SHIFT2_SET_CHARS[f];n?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):t.append(u)}else switch(f){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new k}a=0;break;case 3:if(f<this.TEXT_SHIFT3_SET_CHARS.length){var u=this.TEXT_SHIFT3_SET_CHARS[f];n?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):t.append(u),a=0}else throw new k;break;default:throw new k}}}while(e.available()>0)},r.decodeAnsiX12Segment=function(e,t){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(o){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(o<14)t.append(String.fromCharCode(o+44));else if(o<40)t.append(String.fromCharCode(o+51));else throw new k;break}}}while(e.available()>0)},r.parseTwoBytes=function(e,t,n){var i=(e<<8)+t-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},r.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}i&32||(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)},r.decodeBase256Segment=function(e,t,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new k;for(var s=new Uint8Array(o),f=0;f<o;f++){if(e.available()<8)throw new k;s[f]=this.unrandomize255State(e.readBits(8),i++)}n.push(s);try{t.append(Ft.decode(s,je.ISO88591))}catch(u){throw new $r("Platform does not support required encoding: "+u.message)}},r.unrandomize255State=function(e,t){var n=149*t%255+1,i=e-n;return i>=0?i:i+256},r.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],r.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],r.TEXT_SHIFT2_SET_CHARS=r.C40_SHIFT2_SET_CHARS,r.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],r}(),Ys=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ks=function(){function r(){this.rsDecoder=new mn(Gt.DATA_MATRIX_FIELD_256)}return r.prototype.decode=function(e){var t,n,i=new Xs(e),a=i.getVersion(),o=i.readCodewords(),s=zs.getDataBlocks(o,a),f=0;try{for(var u=Ys(s),c=u.next();!c.done;c=u.next()){var l=c.value;f+=l.getNumDataCodewords()}}catch(y){t={error:y}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}for(var d=new Uint8Array(f),h=s.length,p=0;p<h;p++){var v=s[p],_=v.getCodewords(),x=v.getNumDataCodewords();this.correctErrors(_,x);for(var g=0;g<x;g++)d[g*h+p]=_[g]}return js.decode(d)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new qe}for(var i=0;i<t;i++)e[i]=n[i]},r}(),$s=function(){function r(e){this.image=e,this.rectangleDetector=new Pn(this.image)}return r.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new b;t=this.shiftToModuleCenter(t);var n=t[0],i=t[1],a=t[2],o=t[3],s=this.transitionsBetween(n,o)+1,f=this.transitionsBetween(a,o)+1;(s&1)===1&&(s+=1),(f&1)===1&&(f+=1),4*s<7*f&&4*f<7*s&&(s=f=Math.max(s,f));var u=r.sampleGrid(this.image,n,i,a,o,s,f);return new Zn(u,[n,i,a,o])},r.shiftPoint=function(e,t,n){var i=(t.getX()-e.getX())/(n+1),a=(t.getY()-e.getY())/(n+1);return new Z(e.getX()+i,e.getY()+a)},r.moveAway=function(e,t,n){var i=e.getX(),a=e.getY();return i<t?i-=1:i+=1,a<n?a-=1:a+=1,new Z(i,a)},r.prototype.detectSolid1=function(e){var t=e[0],n=e[1],i=e[3],a=e[2],o=this.transitionsBetween(t,n),s=this.transitionsBetween(n,i),f=this.transitionsBetween(i,a),u=this.transitionsBetween(a,t),c=o,l=[a,t,n,i];return c>s&&(c=s,l[0]=t,l[1]=n,l[2]=i,l[3]=a),c>f&&(c=f,l[0]=n,l[1]=i,l[2]=a,l[3]=t),c>u&&(l[0]=i,l[1]=a,l[2]=t,l[3]=n),l},r.prototype.detectSolid2=function(e){var t=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(t,a),s=r.shiftPoint(n,i,(o+1)*4),f=r.shiftPoint(i,n,(o+1)*4),u=this.transitionsBetween(s,t),c=this.transitionsBetween(f,a);return u<c?(e[0]=t,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=t),e},r.prototype.correctTopRight=function(e){var t=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(t,a),s=this.transitionsBetween(n,a),f=r.shiftPoint(t,n,(s+1)*4),u=r.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(f,a),s=this.transitionsBetween(u,a);var c=new Z(a.getX()+(i.getX()-n.getX())/(o+1),a.getY()+(i.getY()-n.getY())/(o+1)),l=new Z(a.getX()+(t.getX()-n.getX())/(s+1),a.getY()+(t.getY()-n.getY())/(s+1));if(!this.isValid(c))return this.isValid(l)?l:null;if(!this.isValid(l))return c;var d=this.transitionsBetween(f,c)+this.transitionsBetween(u,c),h=this.transitionsBetween(f,l)+this.transitionsBetween(u,l);return d>h?c:l},r.prototype.shiftToModuleCenter=function(e){var t=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(t,a)+1,s=this.transitionsBetween(i,a)+1,f=r.shiftPoint(t,n,s*4),u=r.shiftPoint(i,n,o*4);o=this.transitionsBetween(f,a)+1,s=this.transitionsBetween(u,a)+1,(o&1)===1&&(o+=1),(s&1)===1&&(s+=1);var c=(t.getX()+n.getX()+i.getX()+a.getX())/4,l=(t.getY()+n.getY()+i.getY()+a.getY())/4;t=r.moveAway(t,c,l),n=r.moveAway(n,c,l),i=r.moveAway(i,c,l),a=r.moveAway(a,c,l);var d,h;return f=r.shiftPoint(t,n,s*4),f=r.shiftPoint(f,a,o*4),d=r.shiftPoint(n,t,s*4),d=r.shiftPoint(d,i,o*4),u=r.shiftPoint(i,a,s*4),u=r.shiftPoint(u,n,o*4),h=r.shiftPoint(a,i,s*4),h=r.shiftPoint(h,t,o*4),[f,d,u,h]},r.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},r.sampleGrid=function(e,t,n,i,a,o,s){var f=qn.getInstance();return f.sampleGrid(e,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,t.getX(),t.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},r.prototype.transitionsBetween=function(e,t){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(t.getX()),o=Math.trunc(t.getY()),s=Math.abs(o-i)>Math.abs(a-n);if(s){var f=n;n=i,i=f,f=a,a=o,o=f}for(var u=Math.abs(a-n),c=Math.abs(o-i),l=-u/2,d=i<o?1:-1,h=n<a?1:-1,p=0,v=this.image.get(s?i:n,s?n:i),_=n,x=i;_!==a;_+=h){var g=this.image.get(s?x:_,s?_:x);if(g!==v&&(p++,v=g),l+=c,l>0){if(x===o)break;x+=d,l-=u}}return p},r}(),Fn=function(){function r(){this.decoder=new Ks}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n,i;if(t!=null&&t.has(Te.PURE_BARCODE)){var a=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=r.NO_POINTS}else{var o=new $s(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var s=n.getRawBytes(),f=new ht(n.getText(),s,8*s.length,i,Y.DATA_MATRIX,Ie.currentTimeMillis()),u=n.getByteSegments();u!=null&&f.putMetadata(Je.BYTE_SEGMENTS,u);var c=n.getECLevel();return c!=null&&f.putMetadata(Je.ERROR_CORRECTION_LEVEL,c),f},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t==null||n==null)throw new b;var i=this.moduleSize(t,e),a=t[1],o=n[1],s=t[0],f=n[0],u=(f-s+1)/i,c=(o-a+1)/i;if(u<=0||c<=0)throw new b;var l=i/2;a+=l,s+=l;for(var d=new Wt(u,c),h=0;h<c;h++)for(var p=a+h*i,v=0;v<u;v++)e.get(s+v*i,p)&&d.set(v,h);return d},r.moduleSize=function(e,t){for(var n=t.getWidth(),i=e[0],a=e[1];i<n&&t.get(i,a);)i++;if(i===n)throw new b;var o=i-e[0];if(o===0)throw new b;return o},r.NO_POINTS=[],r}(),Zs=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){Zs(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Fn,t)||this}return e})(Mr);var Ar;(function(r){r[r.L=0]="L",r[r.M=1]="M",r[r.Q=2]="Q",r[r.H=3]="H"})(Ar||(Ar={}));var qs=function(){function r(e,t,n){this.value=e,this.stringValue=t,this.bits=n,r.FOR_BITS.set(n,this),r.FOR_VALUE.set(e,this)}return r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.fromString=function(e){switch(e){case"L":return r.L;case"M":return r.M;case"Q":return r.Q;case"H":return r.H;default:throw new Ot(e+"not available")}},r.prototype.toString=function(){return this.stringValue},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.forBits=function(e){if(e<0||e>=r.FOR_BITS.size)throw new ee;return r.FOR_BITS.get(e)},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.L=new r(Ar.L,"L",1),r.M=new r(Ar.M,"M",0),r.Q=new r(Ar.Q,"Q",3),r.H=new r(Ar.H,"H",2),r}(),Qs=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},la=function(){function r(e){this.errorCorrectionLevel=qs.forBits(e>>3&3),this.dataMask=e&7}return r.numBitsDiffering=function(e,t){return Qe.bitCount(e^t)},r.decodeFormatInformation=function(e,t){var n=r.doDecodeFormatInformation(e,t);return n!==null?n:r.doDecodeFormatInformation(e^r.FORMAT_INFO_MASK_QR,t^r.FORMAT_INFO_MASK_QR)},r.doDecodeFormatInformation=function(e,t){var n,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var s=Qs(r.FORMAT_INFO_DECODE_LOOKUP),f=s.next();!f.done;f=s.next()){var u=f.value,c=u[0];if(c===e||c===t)return new r(u[1]);var l=r.numBitsDiffering(e,c);l<a&&(o=u[1],a=l),e!==t&&(l=r.numBitsDiffering(t,c),l<a&&(o=u[1],a=l))}}catch(d){n={error:d}}finally{try{f&&!f.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a<=3?new r(o):null},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getDataMask=function(){return this.dataMask},r.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},r.FORMAT_INFO_MASK_QR=21522,r.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],r}(),Js=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},I=function(){function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return r.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},r.prototype.getNumBlocks=function(){var e,t,n=0,i=this.ecBlocks;try{for(var a=Js(i),o=a.next();!o.done;o=a.next()){var s=o.value;n+=s.getCount()}}catch(f){e={error:f}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n},r.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},r.prototype.getECBlocks=function(){return this.ecBlocks},r}(),m=function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r}(),ef=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dr=function(){function r(e,t){for(var n,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=a;var s=0,f=a[0].getECCodewordsPerBlock(),u=a[0].getECBlocks();try{for(var c=ef(u),l=c.next();!l.done;l=c.next()){var d=l.value;s+=d.getCount()*(d.getDataCodewords()+f)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}this.totalCodewords=s}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},r.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},r.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new k;try{return this.getVersionForNumber((e-17)/4)}catch{throw new k}},r.getVersionForNumber=function(e){if(e<1||e>40)throw new ee;return r.VERSIONS[e-1]},r.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,n=0,i=0;i<r.VERSION_DECODE_INFO.length;i++){var a=r.VERSION_DECODE_INFO[i];if(a===e)return r.getVersionForNumber(i+7);var o=la.numBitsDiffering(e,a);o<t&&(n=i+7,t=o)}return t<=3?r.getVersionForNumber(n):null},r.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new Wt(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||t.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},r.prototype.toString=function(){return""+this.versionNumber},r.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),r.VERSIONS=[new r(1,new Int32Array(0),new I(7,new m(1,19)),new I(10,new m(1,16)),new I(13,new m(1,13)),new I(17,new m(1,9))),new r(2,Int32Array.from([6,18]),new I(10,new m(1,34)),new I(16,new m(1,28)),new I(22,new m(1,22)),new I(28,new m(1,16))),new r(3,Int32Array.from([6,22]),new I(15,new m(1,55)),new I(26,new m(1,44)),new I(18,new m(2,17)),new I(22,new m(2,13))),new r(4,Int32Array.from([6,26]),new I(20,new m(1,80)),new I(18,new m(2,32)),new I(26,new m(2,24)),new I(16,new m(4,9))),new r(5,Int32Array.from([6,30]),new I(26,new m(1,108)),new I(24,new m(2,43)),new I(18,new m(2,15),new m(2,16)),new I(22,new m(2,11),new m(2,12))),new r(6,Int32Array.from([6,34]),new I(18,new m(2,68)),new I(16,new m(4,27)),new I(24,new m(4,19)),new I(28,new m(4,15))),new r(7,Int32Array.from([6,22,38]),new I(20,new m(2,78)),new I(18,new m(4,31)),new I(18,new m(2,14),new m(4,15)),new I(26,new m(4,13),new m(1,14))),new r(8,Int32Array.from([6,24,42]),new I(24,new m(2,97)),new I(22,new m(2,38),new m(2,39)),new I(22,new m(4,18),new m(2,19)),new I(26,new m(4,14),new m(2,15))),new r(9,Int32Array.from([6,26,46]),new I(30,new m(2,116)),new I(22,new m(3,36),new m(2,37)),new I(20,new m(4,16),new m(4,17)),new I(24,new m(4,12),new m(4,13))),new r(10,Int32Array.from([6,28,50]),new I(18,new m(2,68),new m(2,69)),new I(26,new m(4,43),new m(1,44)),new I(24,new m(6,19),new m(2,20)),new I(28,new m(6,15),new m(2,16))),new r(11,Int32Array.from([6,30,54]),new I(20,new m(4,81)),new I(30,new m(1,50),new m(4,51)),new I(28,new m(4,22),new m(4,23)),new I(24,new m(3,12),new m(8,13))),new r(12,Int32Array.from([6,32,58]),new I(24,new m(2,92),new m(2,93)),new I(22,new m(6,36),new m(2,37)),new I(26,new m(4,20),new m(6,21)),new I(28,new m(7,14),new m(4,15))),new r(13,Int32Array.from([6,34,62]),new I(26,new m(4,107)),new I(22,new m(8,37),new m(1,38)),new I(24,new m(8,20),new m(4,21)),new I(22,new m(12,11),new m(4,12))),new r(14,Int32Array.from([6,26,46,66]),new I(30,new m(3,115),new m(1,116)),new I(24,new m(4,40),new m(5,41)),new I(20,new m(11,16),new m(5,17)),new I(24,new m(11,12),new m(5,13))),new r(15,Int32Array.from([6,26,48,70]),new I(22,new m(5,87),new m(1,88)),new I(24,new m(5,41),new m(5,42)),new I(30,new m(5,24),new m(7,25)),new I(24,new m(11,12),new m(7,13))),new r(16,Int32Array.from([6,26,50,74]),new I(24,new m(5,98),new m(1,99)),new I(28,new m(7,45),new m(3,46)),new I(24,new m(15,19),new m(2,20)),new I(30,new m(3,15),new m(13,16))),new r(17,Int32Array.from([6,30,54,78]),new I(28,new m(1,107),new m(5,108)),new I(28,new m(10,46),new m(1,47)),new I(28,new m(1,22),new m(15,23)),new I(28,new m(2,14),new m(17,15))),new r(18,Int32Array.from([6,30,56,82]),new I(30,new m(5,120),new m(1,121)),new I(26,new m(9,43),new m(4,44)),new I(28,new m(17,22),new m(1,23)),new I(28,new m(2,14),new m(19,15))),new r(19,Int32Array.from([6,30,58,86]),new I(28,new m(3,113),new m(4,114)),new I(26,new m(3,44),new m(11,45)),new I(26,new m(17,21),new m(4,22)),new I(26,new m(9,13),new m(16,14))),new r(20,Int32Array.from([6,34,62,90]),new I(28,new m(3,107),new m(5,108)),new I(26,new m(3,41),new m(13,42)),new I(30,new m(15,24),new m(5,25)),new I(28,new m(15,15),new m(10,16))),new r(21,Int32Array.from([6,28,50,72,94]),new I(28,new m(4,116),new m(4,117)),new I(26,new m(17,42)),new I(28,new m(17,22),new m(6,23)),new I(30,new m(19,16),new m(6,17))),new r(22,Int32Array.from([6,26,50,74,98]),new I(28,new m(2,111),new m(7,112)),new I(28,new m(17,46)),new I(30,new m(7,24),new m(16,25)),new I(24,new m(34,13))),new r(23,Int32Array.from([6,30,54,78,102]),new I(30,new m(4,121),new m(5,122)),new I(28,new m(4,47),new m(14,48)),new I(30,new m(11,24),new m(14,25)),new I(30,new m(16,15),new m(14,16))),new r(24,Int32Array.from([6,28,54,80,106]),new I(30,new m(6,117),new m(4,118)),new I(28,new m(6,45),new m(14,46)),new I(30,new m(11,24),new m(16,25)),new I(30,new m(30,16),new m(2,17))),new r(25,Int32Array.from([6,32,58,84,110]),new I(26,new m(8,106),new m(4,107)),new I(28,new m(8,47),new m(13,48)),new I(30,new m(7,24),new m(22,25)),new I(30,new m(22,15),new m(13,16))),new r(26,Int32Array.from([6,30,58,86,114]),new I(28,new m(10,114),new m(2,115)),new I(28,new m(19,46),new m(4,47)),new I(28,new m(28,22),new m(6,23)),new I(30,new m(33,16),new m(4,17))),new r(27,Int32Array.from([6,34,62,90,118]),new I(30,new m(8,122),new m(4,123)),new I(28,new m(22,45),new m(3,46)),new I(30,new m(8,23),new m(26,24)),new I(30,new m(12,15),new m(28,16))),new r(28,Int32Array.from([6,26,50,74,98,122]),new I(30,new m(3,117),new m(10,118)),new I(28,new m(3,45),new m(23,46)),new I(30,new m(4,24),new m(31,25)),new I(30,new m(11,15),new m(31,16))),new r(29,Int32Array.from([6,30,54,78,102,126]),new I(30,new m(7,116),new m(7,117)),new I(28,new m(21,45),new m(7,46)),new I(30,new m(1,23),new m(37,24)),new I(30,new m(19,15),new m(26,16))),new r(30,Int32Array.from([6,26,52,78,104,130]),new I(30,new m(5,115),new m(10,116)),new I(28,new m(19,47),new m(10,48)),new I(30,new m(15,24),new m(25,25)),new I(30,new m(23,15),new m(25,16))),new r(31,Int32Array.from([6,30,56,82,108,134]),new I(30,new m(13,115),new m(3,116)),new I(28,new m(2,46),new m(29,47)),new I(30,new m(42,24),new m(1,25)),new I(30,new m(23,15),new m(28,16))),new r(32,Int32Array.from([6,34,60,86,112,138]),new I(30,new m(17,115)),new I(28,new m(10,46),new m(23,47)),new I(30,new m(10,24),new m(35,25)),new I(30,new m(19,15),new m(35,16))),new r(33,Int32Array.from([6,30,58,86,114,142]),new I(30,new m(17,115),new m(1,116)),new I(28,new m(14,46),new m(21,47)),new I(30,new m(29,24),new m(19,25)),new I(30,new m(11,15),new m(46,16))),new r(34,Int32Array.from([6,34,62,90,118,146]),new I(30,new m(13,115),new m(6,116)),new I(28,new m(14,46),new m(23,47)),new I(30,new m(44,24),new m(7,25)),new I(30,new m(59,16),new m(1,17))),new r(35,Int32Array.from([6,30,54,78,102,126,150]),new I(30,new m(12,121),new m(7,122)),new I(28,new m(12,47),new m(26,48)),new I(30,new m(39,24),new m(14,25)),new I(30,new m(22,15),new m(41,16))),new r(36,Int32Array.from([6,24,50,76,102,128,154]),new I(30,new m(6,121),new m(14,122)),new I(28,new m(6,47),new m(34,48)),new I(30,new m(46,24),new m(10,25)),new I(30,new m(2,15),new m(64,16))),new r(37,Int32Array.from([6,28,54,80,106,132,158]),new I(30,new m(17,122),new m(4,123)),new I(28,new m(29,46),new m(14,47)),new I(30,new m(49,24),new m(10,25)),new I(30,new m(24,15),new m(46,16))),new r(38,Int32Array.from([6,32,58,84,110,136,162]),new I(30,new m(4,122),new m(18,123)),new I(28,new m(13,46),new m(32,47)),new I(30,new m(48,24),new m(14,25)),new I(30,new m(42,15),new m(32,16))),new r(39,Int32Array.from([6,26,54,82,110,138,166]),new I(30,new m(20,117),new m(4,118)),new I(28,new m(40,47),new m(7,48)),new I(30,new m(43,24),new m(22,25)),new I(30,new m(10,15),new m(67,16))),new r(40,Int32Array.from([6,30,58,86,114,142,170]),new I(30,new m(19,118),new m(6,119)),new I(28,new m(18,47),new m(31,48)),new I(30,new m(34,24),new m(34,25)),new I(30,new m(20,15),new m(61,16)))],r}(),ze;(function(r){r[r.DATA_MASK_000=0]="DATA_MASK_000",r[r.DATA_MASK_001=1]="DATA_MASK_001",r[r.DATA_MASK_010=2]="DATA_MASK_010",r[r.DATA_MASK_011=3]="DATA_MASK_011",r[r.DATA_MASK_100=4]="DATA_MASK_100",r[r.DATA_MASK_101=5]="DATA_MASK_101",r[r.DATA_MASK_110=6]="DATA_MASK_110",r[r.DATA_MASK_111=7]="DATA_MASK_111"})(ze||(ze={}));var Si=function(){function r(e,t){this.value=e,this.isMasked=t}return r.prototype.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},r.values=new Map([[ze.DATA_MASK_000,new r(ze.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[ze.DATA_MASK_001,new r(ze.DATA_MASK_001,function(e,t){return(e&1)===0})],[ze.DATA_MASK_010,new r(ze.DATA_MASK_010,function(e,t){return t%3===0})],[ze.DATA_MASK_011,new r(ze.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[ze.DATA_MASK_100,new r(ze.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[ze.DATA_MASK_101,new r(ze.DATA_MASK_101,function(e,t){return e*t%6===0})],[ze.DATA_MASK_110,new r(ze.DATA_MASK_110,function(e,t){return e*t%6<3})],[ze.DATA_MASK_111,new r(ze.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),r}(),tf=function(){function r(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new k;this.bitMatrix=e}return r.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,n=i-1;n>=o;n--)a=this.copyBit(8,n,a);for(var t=i-8;t<i;t++)a=this.copyBit(t,8,a);if(this.parsedFormatInfo=la.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new k},r.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return dr.getVersionForNumber(t);for(var n=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,a,n);var s=dr.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(o,a,n);if(s=dr.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new k},r.prototype.copyBit=function(e,t,n){var i=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return i?n<<1|1:n<<1},r.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),n=Si.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=t.buildFunctionPattern(),o=!0,s=new Uint8Array(t.getTotalCodewords()),f=0,u=0,c=0,l=i-1;l>0;l-=2){l===6&&l--;for(var d=0;d<i;d++)for(var h=o?i-1-d:d,p=0;p<2;p++)a.get(l-p,h)||(c++,u<<=1,this.bitMatrix.get(l-p,h)&&(u|=1),c===8&&(s[f++]=u,c=0,u=0));o=!o}if(f!==t.getTotalCodewords())throw new k;return s},r.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=Si.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},r.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},r.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,n=e.getWidth();t<n;t++)for(var i=t+1,a=e.getHeight();i<a;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))},r}(),Ci=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rf=function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t,n){var i,a,o,s;if(e.length!==t.getTotalCodewords())throw new ee;var f=t.getECBlocksForLevel(n),u=0,c=f.getECBlocks();try{for(var l=Ci(c),d=l.next();!d.done;d=l.next()){var h=d.value;u+=h.getCount()}}catch(K){i={error:K}}finally{try{d&&!d.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}var p=new Array(u),v=0;try{for(var _=Ci(c),x=_.next();!x.done;x=_.next())for(var h=x.value,g=0;g<h.getCount();g++){var y=h.getDataCodewords(),A=f.getECCodewordsPerBlock()+y;p[v++]=new r(y,new Uint8Array(A))}}catch(K){o={error:K}}finally{try{x&&!x.done&&(s=_.return)&&s.call(_)}finally{if(o)throw o.error}}for(var E=p[0].codewords.length,S=p.length-1;S>=0;){var T=p[S].codewords.length;if(T===E)break;S--}S++;for(var F=E-f.getECCodewordsPerBlock(),j=0,g=0;g<F;g++)for(var R=0;R<v;R++)p[R].codewords[g]=e[j++];for(var R=S;R<v;R++)p[R].codewords[F]=e[j++];for(var C=p[0].codewords.length,g=F;g<C;g++)for(var R=0;R<v;R++){var $=R<S?g:g+1;p[R].codewords[$]=e[j++]}return p},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r}(),Et;(function(r){r[r.TERMINATOR=0]="TERMINATOR",r[r.NUMERIC=1]="NUMERIC",r[r.ALPHANUMERIC=2]="ALPHANUMERIC",r[r.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",r[r.BYTE=4]="BYTE",r[r.ECI=5]="ECI",r[r.KANJI=6]="KANJI",r[r.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",r[r.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",r[r.HANZI=9]="HANZI"})(Et||(Et={}));var Ce=function(){function r(e,t,n,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=i,r.FOR_BITS.set(i,this),r.FOR_VALUE.set(e,this)}return r.forBits=function(e){var t=r.FOR_BITS.get(e);if(t===void 0)throw new ee;return t},r.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),n;return t<=9?n=0:t<=26?n=1:n=2,this.characterCountBitsForVersions[n]},r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.toString=function(){return this.stringValue},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.TERMINATOR=new r(Et.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),r.NUMERIC=new r(Et.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),r.ALPHANUMERIC=new r(Et.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),r.STRUCTURED_APPEND=new r(Et.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),r.BYTE=new r(Et.BYTE,"BYTE",Int32Array.from([8,16,16]),4),r.ECI=new r(Et.ECI,"ECI",Int32Array.from([0,0,0]),7),r.KANJI=new r(Et.KANJI,"KANJI",Int32Array.from([8,10,12]),8),r.FNC1_FIRST_POSITION=new r(Et.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),r.FNC1_SECOND_POSITION=new r(Et.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),r.HANZI=new r(Et.HANZI,"HANZI",Int32Array.from([8,10,12]),13),r}(),nf=function(){function r(){}return r.decode=function(e,t,n,i){var a=new ca(e),o=new Ae,s=new Array,f=-1,u=-1;try{var c=null,l=!1,d=void 0;do{if(a.available()<4)d=Ce.TERMINATOR;else{var h=a.readBits(4);d=Ce.forBits(h)}switch(d){case Ce.TERMINATOR:break;case Ce.FNC1_FIRST_POSITION:case Ce.FNC1_SECOND_POSITION:l=!0;break;case Ce.STRUCTURED_APPEND:if(a.available()<16)throw new k;f=a.readBits(8),u=a.readBits(8);break;case Ce.ECI:var p=r.parseECIValue(a);if(c=Ge.getCharacterSetECIByValue(p),c===null)throw new k;break;case Ce.HANZI:var v=a.readBits(4),_=a.readBits(d.getCharacterCountBits(t));v===r.GB2312_SUBSET&&r.decodeHanziSegment(a,o,_);break;default:var x=a.readBits(d.getCharacterCountBits(t));switch(d){case Ce.NUMERIC:r.decodeNumericSegment(a,o,x);break;case Ce.ALPHANUMERIC:r.decodeAlphanumericSegment(a,o,x,l);break;case Ce.BYTE:r.decodeByteSegment(a,o,x,c,s,i);break;case Ce.KANJI:r.decodeKanjiSegment(a,o,x);break;default:throw new k}break}}while(d!==Ce.TERMINATOR)}catch{throw new k}return new xn(e,o.toString(),s.length===0?null:s,n===null?null:n.toString(),f,u)},r.decodeHanziSegment=function(e,t,n){if(n*13>e.available())throw new k;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/96<<8&4294967295|o%96;s<959?s+=41377:s+=42657,i[a]=s>>8&255,i[a+1]=s&255,a+=2,n--}try{t.append(Ft.decode(i,je.GB2312))}catch(f){throw new k(f)}},r.decodeKanjiSegment=function(e,t,n){if(n*13>e.available())throw new k;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/192<<8&4294967295|o%192;s<7936?s+=33088:s+=49472,i[a]=s>>8,i[a+1]=s,a+=2,n--}try{t.append(Ft.decode(i,je.SHIFT_JIS))}catch(f){throw new k(f)}},r.decodeByteSegment=function(e,t,n,i,a,o){if(8*n>e.available())throw new k;for(var s=new Uint8Array(n),f=0;f<n;f++)s[f]=e.readBits(8);var u;i===null?u=je.guessEncoding(s,o):u=i.getName();try{t.append(Ft.decode(s,u))}catch(c){throw new k(c)}a.push(s)},r.toAlphaNumericChar=function(e){if(e>=r.ALPHANUMERIC_CHARS.length)throw new k;return r.ALPHANUMERIC_CHARS[e]},r.decodeAlphanumericSegment=function(e,t,n,i){for(var a=t.length();n>1;){if(e.available()<11)throw new k;var o=e.readBits(11);t.append(r.toAlphaNumericChar(Math.floor(o/45))),t.append(r.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new k;t.append(r.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=a;s<t.length();s++)t.charAt(s)==="%"&&(s<t.length()-1&&t.charAt(s+1)==="%"?t.deleteCharAt(s+1):t.setCharAt(s,String.fromCharCode(29)))},r.decodeNumericSegment=function(e,t,n){for(;n>=3;){if(e.available()<10)throw new k;var i=e.readBits(10);if(i>=1e3)throw new k;t.append(r.toAlphaNumericChar(Math.floor(i/100))),t.append(r.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(r.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new k;var a=e.readBits(7);if(a>=100)throw new k;t.append(r.toAlphaNumericChar(Math.floor(a/10))),t.append(r.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new k;var o=e.readBits(4);if(o>=10)throw new k;t.append(r.toAlphaNumericChar(o))}},r.parseECIValue=function(e){var t=e.readBits(8);if(!(t&128))return t&127;if((t&192)===128){var n=e.readBits(8);return(t&63)<<8&4294967295|n}if((t&224)===192){var i=e.readBits(16);return(t&31)<<16&4294967295|i}throw new k},r.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",r.GB2312_SUBSET=1,r}(),da=function(){function r(e){this.mirrored=e}return r.prototype.isMirrored=function(){return this.mirrored},r.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},r}(),wi=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},af=function(){function r(){this.rsDecoder=new mn(Gt.QR_CODE_FIELD_256)}return r.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(Wt.parseFromBooleanArray(e),t)},r.prototype.decodeBitMatrix=function(e,t){var n=new tf(e),i=null;try{return this.decodeBitMatrixParser(n,t)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,t);return a.setOther(new da(!0)),a}catch(o){throw i!==null?i:o}},r.prototype.decodeBitMatrixParser=function(e,t){var n,i,a,o,s=e.readVersion(),f=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),c=rf.getDataBlocks(u,s,f),l=0;try{for(var d=wi(c),h=d.next();!h.done;h=d.next()){var p=h.value;l+=p.getNumDataCodewords()}}catch(S){n={error:S}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}var v=new Uint8Array(l),_=0;try{for(var x=wi(c),g=x.next();!g.done;g=x.next()){var p=g.value,y=p.getCodewords(),A=p.getNumDataCodewords();this.correctErrors(y,A);for(var E=0;E<A;E++)v[_++]=y[E]}}catch(S){a={error:S}}finally{try{g&&!g.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}return nf.decode(v,s,f,t)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new qe}for(var i=0;i<t;i++)e[i]=n[i]},r}(),of=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sf=function(r){of(e,r);function e(t,n,i){var a=r.call(this,t,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(t,n,i){if(Math.abs(n-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,i){var a=(this.getX()+n)/2,o=(this.getY()+t)/2,s=(this.estimatedModuleSize+i)/2;return new e(a,o,s)},e}(Z),ff=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uf=function(){function r(e,t,n,i,a,o,s){this.image=e,this.startX=t,this.startY=n,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return r.prototype.find=function(){for(var e=this.startX,t=this.height,n=this.width,i=e+n,a=this.startY+t/2,o=new Int32Array(3),s=this.image,f=0;f<t;f++){var u=a+(f&1?-Math.floor((f+1)/2):Math.floor((f+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var c=e;c<i&&!s.get(c,u);)c++;for(var l=0;c<i;){if(s.get(c,u))if(l===1)o[1]++;else if(l===2){if(this.foundPatternCross(o)){var d=this.handlePossibleCenter(o,u,c);if(d!==null)return d}o[0]=o[2],o[1]=1,o[2]=0,l=1}else o[++l]++;else l===1&&l++,o[l]++;c++}if(this.foundPatternCross(o)){var d=this.handlePossibleCenter(o,u,i);if(d!==null)return d}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new b},r.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},r.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,n=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=n)return!1;return!0},r.prototype.crossCheckVertical=function(e,t,n,i){var a=this.image,o=a.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var f=e;f>=0&&a.get(t,f)&&s[1]<=n;)s[1]++,f--;if(f<0||s[1]>n)return NaN;for(;f>=0&&!a.get(t,f)&&s[0]<=n;)s[0]++,f--;if(s[0]>n)return NaN;for(f=e+1;f<o&&a.get(t,f)&&s[1]<=n;)s[1]++,f++;if(f===o||s[1]>n)return NaN;for(;f<o&&!a.get(t,f)&&s[2]<=n;)s[2]++,f++;if(s[2]>n)return NaN;var u=s[0]+s[1]+s[2];return 5*Math.abs(u-i)>=2*i?NaN:this.foundPatternCross(s)?r.centerFromEnd(s,f):NaN},r.prototype.handlePossibleCenter=function(e,t,n){var i,a,o=e[0]+e[1]+e[2],s=r.centerFromEnd(e,n),f=this.crossCheckVertical(t,s,2*e[1],o);if(!isNaN(f)){var u=(e[0]+e[1]+e[2])/3;try{for(var c=ff(this.possibleCenters),l=c.next();!l.done;l=c.next()){var d=l.value;if(d.aboutEquals(u,f,s))return d.combineEstimate(f,s,u)}}catch(p){i={error:p}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}var h=new sf(s,f,u);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null},r}(),cf=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lf=function(r){cf(e,r);function e(t,n,i,a){var o=r.call(this,t,n)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,n,i){if(Math.abs(n-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,i){var a=this.count+1,o=(this.count*this.getX()+n)/a,s=(this.count*this.getY()+t)/a,f=(this.count*this.estimatedModuleSize+i)/a;return new e(o,s,f,a)},e}(Z),df=function(){function r(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r}(),Fr=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hf=function(){function r(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return r.prototype.getImage=function(){return this.image},r.prototype.getPossibleCenters=function(){return this.possibleCenters},r.prototype.find=function(e){var t=e!=null&&e.get(Te.TRY_HARDER)!==void 0,n=e!=null&&e.get(Te.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),s=Math.floor(3*a/(4*r.MAX_MODULES));(s<r.MIN_SKIP||t)&&(s=r.MIN_SKIP);for(var f=!1,u=new Int32Array(5),c=s-1;c<a&&!f;c+=s){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var l=0,d=0;d<o;d++)if(i.get(d,c))(l&1)===1&&l++,u[l]++;else if(l&1)u[l]++;else if(l===4)if(r.foundPatternCross(u)){var h=this.handlePossibleCenter(u,c,d,n);if(h===!0)if(s=2,this.hasSkipped===!0)f=this.haveMultiplyConfirmedCenters();else{var p=this.findRowSkip();p>u[2]&&(c+=p-u[2]-s,d=o-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,l=3;continue}l=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,l=3;else u[++l]++;if(r.foundPatternCross(u)){var h=this.handlePossibleCenter(u,c,o,n);h===!0&&(s=u[0],this.hasSkipped&&(f=this.haveMultiplyConfirmedCenters()))}}var v=this.selectBestPatterns();return Z.orderBestPatterns(v),new df(v)},r.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},r.foundPatternCross=function(e){for(var t=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;t+=i}if(t<7)return!1;var a=t/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},r.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},r.prototype.crossCheckDiagonal=function(e,t,n,i){for(var a=this.getCrossCheckStateCount(),o=0,s=this.image;e>=o&&t>=o&&s.get(t-o,e-o);)a[2]++,o++;if(e<o||t<o)return!1;for(;e>=o&&t>=o&&!s.get(t-o,e-o)&&a[1]<=n;)a[1]++,o++;if(e<o||t<o||a[1]>n)return!1;for(;e>=o&&t>=o&&s.get(t-o,e-o)&&a[0]<=n;)a[0]++,o++;if(a[0]>n)return!1;var f=s.getHeight(),u=s.getWidth();for(o=1;e+o<f&&t+o<u&&s.get(t+o,e+o);)a[2]++,o++;if(e+o>=f||t+o>=u)return!1;for(;e+o<f&&t+o<u&&!s.get(t+o,e+o)&&a[3]<n;)a[3]++,o++;if(e+o>=f||t+o>=u||a[3]>=n)return!1;for(;e+o<f&&t+o<u&&s.get(t+o,e+o)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return!1;var c=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(c-i)<2*i&&r.foundPatternCross(a)},r.prototype.crossCheckVertical=function(e,t,n,i){for(var a=this.image,o=a.getHeight(),s=this.getCrossCheckStateCount(),f=e;f>=0&&a.get(t,f);)s[2]++,f--;if(f<0)return NaN;for(;f>=0&&!a.get(t,f)&&s[1]<=n;)s[1]++,f--;if(f<0||s[1]>n)return NaN;for(;f>=0&&a.get(t,f)&&s[0]<=n;)s[0]++,f--;if(s[0]>n)return NaN;for(f=e+1;f<o&&a.get(t,f);)s[2]++,f++;if(f===o)return NaN;for(;f<o&&!a.get(t,f)&&s[3]<n;)s[3]++,f++;if(f===o||s[3]>=n)return NaN;for(;f<o&&a.get(t,f)&&s[4]<n;)s[4]++,f++;if(s[4]>=n)return NaN;var u=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(u-i)>=2*i?NaN:r.foundPatternCross(s)?r.centerFromEnd(s,f):NaN},r.prototype.crossCheckHorizontal=function(e,t,n,i){for(var a=this.image,o=a.getWidth(),s=this.getCrossCheckStateCount(),f=e;f>=0&&a.get(f,t);)s[2]++,f--;if(f<0)return NaN;for(;f>=0&&!a.get(f,t)&&s[1]<=n;)s[1]++,f--;if(f<0||s[1]>n)return NaN;for(;f>=0&&a.get(f,t)&&s[0]<=n;)s[0]++,f--;if(s[0]>n)return NaN;for(f=e+1;f<o&&a.get(f,t);)s[2]++,f++;if(f===o)return NaN;for(;f<o&&!a.get(f,t)&&s[3]<n;)s[3]++,f++;if(f===o||s[3]>=n)return NaN;for(;f<o&&a.get(f,t)&&s[4]<n;)s[4]++,f++;if(s[4]>=n)return NaN;var u=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(u-i)>=i?NaN:r.foundPatternCross(s)?r.centerFromEnd(s,f):NaN},r.prototype.handlePossibleCenter=function(e,t,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=r.centerFromEnd(e,n),s=this.crossCheckVertical(t,Math.floor(o),e[2],a);if(!isNaN(s)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(s),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(o),e[2],a)))){for(var f=a/7,u=!1,c=this.possibleCenters,l=0,d=c.length;l<d;l++){var h=c[l];if(h.aboutEquals(f,s,o)){c[l]=h.combineEstimate(s,o,f),u=!0;break}}if(!u){var p=new lf(o,s,f);c.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return!0}return!1},r.prototype.findRowSkip=function(){var e,t,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=Fr(this.possibleCenters),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.getCount()>=r.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(f){e={error:f}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return 0},r.prototype.haveMultiplyConfirmedCenters=function(){var e,t,n,i,a=0,o=0,s=this.possibleCenters.length;try{for(var f=Fr(this.possibleCenters),u=f.next();!u.done;u=f.next()){var c=u.value;c.getCount()>=r.CENTER_QUORUM&&(a++,o+=c.getEstimatedModuleSize())}}catch(v){e={error:v}}finally{try{u&&!u.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}if(a<3)return!1;var l=o/s,d=0;try{for(var h=Fr(this.possibleCenters),p=h.next();!p.done;p=h.next()){var c=p.value;d+=Math.abs(c.getEstimatedModuleSize()-l)}}catch(v){n={error:v}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}return d<=.05*o},r.prototype.selectBestPatterns=function(){var e,t,n,i,a=this.possibleCenters.length;if(a<3)throw new b;var o=this.possibleCenters,s;if(a>3){var f=0,u=0;try{for(var c=Fr(this.possibleCenters),l=c.next();!l.done;l=c.next()){var d=l.value,h=d.getEstimatedModuleSize();f+=h,u+=h*h}}catch(E){e={error:E}}finally{try{l&&!l.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}s=f/a;var p=Math.sqrt(u/a-s*s);o.sort(function(E,S){var T=Math.abs(S.getEstimatedModuleSize()-s),F=Math.abs(E.getEstimatedModuleSize()-s);return T<F?-1:T>F?1:0});for(var v=Math.max(.2*s,p),_=0;_<o.length&&o.length>3;_++){var x=o[_];Math.abs(x.getEstimatedModuleSize()-s)>v&&(o.splice(_,1),_--)}}if(o.length>3){var f=0;try{for(var g=Fr(o),y=g.next();!y.done;y=g.next()){var A=y.value;f+=A.getEstimatedModuleSize()}}catch(S){n={error:S}}finally{try{y&&!y.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}s=f/o.length,o.sort(function(S,T){if(T.getCount()===S.getCount()){var F=Math.abs(T.getEstimatedModuleSize()-s),j=Math.abs(S.getEstimatedModuleSize()-s);return F<j?1:F>j?-1:0}else return T.getCount()-S.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},r.CENTER_QUORUM=2,r.MIN_SKIP=3,r.MAX_MODULES=57,r}(),pf=function(){function r(e){this.image=e}return r.prototype.getImage=function(){return this.image},r.prototype.getResultPointCallback=function(){return this.resultPointCallback},r.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Te.NEED_RESULT_POINT_CALLBACK);var t=new hf(this.image,this.resultPointCallback),n=t.find(e);return this.processFinderPatternInfo(n)},r.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(t,n,i);if(a<1)throw new b("No pattern found in proccess finder.");var o=r.computeDimension(t,n,i,a),s=dr.getProvisionalVersionForDimension(o),f=s.getDimensionForVersion()-7,u=null;if(s.getAlignmentPatternCenters().length>0)for(var c=n.getX()-t.getX()+i.getX(),l=n.getY()-t.getY()+i.getY(),d=1-3/f,h=Math.floor(t.getX()+d*(c-t.getX())),p=Math.floor(t.getY()+d*(l-t.getY())),v=4;v<=16;v<<=1)try{u=this.findAlignmentInRegion(a,h,p,v);break}catch(y){if(!(y instanceof b))throw y}var _=r.createTransform(t,n,i,u,o),x=r.sampleGrid(this.image,_,o),g;return u===null?g=[i,t,n]:g=[i,t,n,u],new Zn(x,g)},r.createTransform=function(e,t,n,i,a){var o=a-3.5,s,f,u,c;return i!==null?(s=i.getX(),f=i.getY(),u=o-3,c=u):(s=t.getX()-e.getX()+n.getX(),f=t.getY()-e.getY()+n.getY(),u=o,c=o),oa.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,u,c,3.5,o,e.getX(),e.getY(),t.getX(),t.getY(),s,f,n.getX(),n.getY())},r.sampleGrid=function(e,t,n){var i=qn.getInstance();return i.sampleGridWithTransform(e,n,n,t)},r.computeDimension=function(e,t,n,i){var a=ce.round(Z.distance(e,t)/i),o=ce.round(Z.distance(e,n)/i),s=Math.floor((a+o)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new b("Dimensions could be not found.")}return s},r.prototype.calculateModuleSize=function(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2},r.prototype.calculateModuleSizeOneWay=function(e,t){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},r.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,t,n,i),o=1,s=e-(n-e);s<0?(o=e/(e-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var f=Math.floor(t-(i-t)*o);return o=1,f<0?(o=t/(t-f),f=0):f>=this.image.getHeight()&&(o=(this.image.getHeight()-1-t)/(f-t),f=this.image.getHeight()-1),s=Math.floor(e+(s-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,t,s,f),a-1},r.prototype.sizeOfBlackWhiteBlackRun=function(e,t,n,i){var a=Math.abs(i-t)>Math.abs(n-e);if(a){var o=e;e=t,t=o,o=n,n=i,i=o}for(var s=Math.abs(n-e),f=Math.abs(i-t),u=-s/2,c=e<n?1:-1,l=t<i?1:-1,d=0,h=n+c,p=e,v=t;p!==h;p+=c){var _=a?v:p,x=a?p:v;if(d===1===this.image.get(_,x)){if(d===2)return ce.distance(p,v,e,t);d++}if(u+=f,u>0){if(v===i)break;v+=l,u-=s}}return d===2?ce.distance(n+c,i,e,t):NaN},r.prototype.findAlignmentInRegion=function(e,t,n,i){var a=Math.floor(i*e),o=Math.max(0,t-a),s=Math.min(this.image.getWidth()-1,t+a);if(s-o<e*3)throw new b("Alignment top exceeds estimated module size.");var f=Math.max(0,n-a),u=Math.min(this.image.getHeight()-1,n+a);if(u-f<e*3)throw new b("Alignment bottom exceeds estimated module size.");var c=new uf(this.image,o,f,s-o,u-f,e,this.resultPointCallback);return c.find()},r}(),kn=function(){function r(){this.decoder=new af}return r.prototype.getDecoder=function(){return this.decoder},r.prototype.decode=function(e,t){var n,i;if(t!=null&&t.get(Te.PURE_BARCODE)!==void 0){var a=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,t),i=r.NO_POINTS}else{var o=new pf(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(o.getBits(),t),i=o.getPoints()}n.getOther()instanceof da&&n.getOther().applyMirroredCorrection(i);var s=new ht(n.getText(),n.getRawBytes(),void 0,i,Y.QR_CODE,void 0),f=n.getByteSegments();f!==null&&s.putMetadata(Je.BYTE_SEGMENTS,f);var u=n.getECLevel();return u!==null&&s.putMetadata(Je.ERROR_CORRECTION_LEVEL,u),n.hasStructuredAppend()&&(s.putMetadata(Je.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(Je.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t===null||n===null)throw new b;var i=this.moduleSize(t,e),a=t[1],o=n[1],s=t[0],f=n[0];if(s>=f||a>=o)throw new b;if(o-a!==f-s&&(f=s+(o-a),f>=e.getWidth()))throw new b;var u=Math.round((f-s+1)/i),c=Math.round((o-a+1)/i);if(u<=0||c<=0)throw new b;if(c!==u)throw new b;var l=Math.floor(i/2);a+=l,s+=l;var d=s+Math.floor((u-1)*i)-f;if(d>0){if(d>l)throw new b;s-=d}var h=a+Math.floor((c-1)*i)-o;if(h>0){if(h>l)throw new b;a-=h}for(var p=new Wt(u,c),v=0;v<c;v++)for(var _=a+Math.floor(v*i),x=0;x<u;x++)e.get(s+Math.floor(x*i),_)&&p.set(x,v);return p},r.moduleSize=function(e,t){for(var n=t.getHeight(),i=t.getWidth(),a=e[0],o=e[1],s=!0,f=0;a<i&&o<n;){if(s!==t.get(a,o)){if(++f===5)break;s=!s}a++,o++}if(a===i||o===n)throw new b;return(a-e[0])/7},r.NO_POINTS=new Array,r}(),vf=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ue=function(){function r(){}return r.prototype.PDF417Common=function(){},r.getBitCountSum=function(e){return ce.sum(e)},r.toIntArray=function(e){var t,n;if(e==null||!e.length)return r.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=vf(e),s=o.next();!s.done;s=o.next()){var f=s.value;i[a++]=f}}catch(u){t={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},r.getCodeword=function(e){var t=ct.binarySearch(r.SYMBOL_TABLE,e&262143);return t<0?-1:(r.CODEWORD_TABLE[t]-1)%r.NUMBER_OF_CODEWORDS},r.NUMBER_OF_CODEWORDS=929,r.MAX_CODEWORDS_IN_BARCODE=r.NUMBER_OF_CODEWORDS-1,r.MIN_ROWS_IN_BARCODE=3,r.MAX_ROWS_IN_BARCODE=90,r.MODULES_IN_CODEWORD=17,r.MODULES_IN_STOP_PATTERN=18,r.BARS_IN_MODULE=8,r.EMPTY_INT_ARRAY=new Int32Array([]),r.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),r.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),r}(),gf=function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r}(),_f=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xf=function(){function r(){}return r.detectMultiple=function(e,t,n){var i=e.getBlackMatrix(),a=r.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=r.detect(n,i)),new gf(i,a)},r.detect=function(e,t){for(var n,i,a=new Array,o=0,s=0,f=!1;o<t.getHeight();){var u=r.findVertices(t,o,s);if(u[0]==null&&u[3]==null){if(!f)break;f=!1,s=0;try{for(var c=(n=void 0,_f(a)),l=c.next();!l.done;l=c.next()){var d=l.value;d[1]!=null&&(o=Math.trunc(Math.max(o,d[1].getY()))),d[3]!=null&&(o=Math.max(o,Math.trunc(d[3].getY())))}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}o+=r.ROW_STEP;continue}if(f=!0,a.push(u),!e)break;u[2]!=null?(s=Math.trunc(u[2].getX()),o=Math.trunc(u[2].getY())):(s=Math.trunc(u[4].getX()),o=Math.trunc(u[4].getY()))}return a},r.findVertices=function(e,t,n){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return r.copyToResult(o,r.findRowsWithPattern(e,i,a,t,n,r.START_PATTERN),r.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),t=Math.trunc(o[4].getY())),r.copyToResult(o,r.findRowsWithPattern(e,i,a,t,n,r.STOP_PATTERN),r.INDEXES_STOP_PATTERN),o},r.copyToResult=function(e,t,n){for(var i=0;i<n.length;i++)e[n[i]]=t[i]},r.findRowsWithPattern=function(e,t,n,i,a,o){for(var s=new Array(4),f=!1,u=new Int32Array(o.length);i<t;i+=r.ROW_STEP){var c=r.findGuardPattern(e,a,i,n,!1,o,u);if(c!=null){for(;i>0;){var l=r.findGuardPattern(e,a,--i,n,!1,o,u);if(l!=null)c=l;else{i++;break}}s[0]=new Z(c[0],i),s[1]=new Z(c[1],i),f=!0;break}}var d=i+1;if(f){for(var h=0,l=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);d<t;d++){var c=r.findGuardPattern(e,l[0],d,n,!1,o,u);if(c!=null&&Math.abs(l[0]-c[0])<r.MAX_PATTERN_DRIFT&&Math.abs(l[1]-c[1])<r.MAX_PATTERN_DRIFT)l=c,h=0;else{if(h>r.SKIPPED_ROW_COUNT_MAX)break;h++}}d-=h+1,s[2]=new Z(l[0],d),s[3]=new Z(l[1],d)}return d-i<r.BARCODE_MIN_HEIGHT&&ct.fill(s,null),s},r.findGuardPattern=function(e,t,n,i,a,o,s){ct.fillWithin(s,0,s.length,0);for(var f=t,u=0;e.get(f,n)&&f>0&&u++<r.MAX_PIXEL_DRIFT;)f--;for(var c=f,l=0,d=o.length,h=a;c<i;c++){var p=e.get(c,n);if(p!==h)s[l]++;else{if(l===d-1){if(r.patternMatchVariance(s,o,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE)return new Int32Array([f,c]);f+=s[0]+s[1],Ie.arraycopy(s,2,s,0,l-1),s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,h=!h}}return l===d-1&&r.patternMatchVariance(s,o,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE?new Int32Array([f,c-1]):null},r.patternMatchVariance=function(e,t,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=t[s];if(a<o)return 1/0;var f=a/o;n*=f;for(var u=0,c=0;c<i;c++){var l=e[c],d=t[c]*f,h=l>d?l-d:d-l;if(h>n)return 1/0;u+=h}return u/a},r.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),r.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),r.MAX_AVG_VARIANCE=.42,r.MAX_INDIVIDUAL_VARIANCE=.8,r.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),r.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),r.MAX_PIXEL_DRIFT=3,r.MAX_PATTERN_DRIFT=5,r.SKIPPED_ROW_COUNT_MAX=25,r.ROW_STEP=5,r.BARCODE_MIN_HEIGHT=10,r}(),mf=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cr=function(){function r(e,t){if(t.length===0)throw new ee;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var i=1;i<n&&t[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),Ie.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){var t,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=mf(this.coefficients),o=a.next();!o.done;o=a.next()){var s=o.value;i=this.field.add(i,s)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i}for(var f=this.coefficients[0],u=this.coefficients.length,c=1;c<u;c++)f=this.field.add(this.field.multiply(e,f),this.coefficients[c]);return f},r.prototype.add=function(e){if(!this.field.equals(e.field))throw new ee("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var i=t;t=n,n=i}var a=new Int32Array(n.length),o=n.length-t.length;Ie.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=this.field.add(t[s-o],n[s]);return new r(this.field,a)},r.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new ee("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},r.prototype.multiply=function(e){return e instanceof r?this.multiplyOther(e):this.multiplyScalar(e)},r.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new ee("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new r(this.field,new Int32Array([0]));for(var t=this.coefficients,n=t.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=0;s<n;s++)for(var f=t[s],u=0;u<a;u++)o[s+u]=this.field.add(o[s+u],this.field.multiply(f,i[u]));return new r(this.field,o)},r.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new r(this.field,t)},r.prototype.multiplyScalar=function(e){if(e===0)return new r(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,n=new Int32Array(t),i=0;i<t;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new r(this.field,n)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new ee;if(t===0)return new r(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],t);return new r(this.field,i)},r.prototype.toString=function(){for(var e=new Ae,t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(t===0||n!==1)&&e.append(n),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},r}(),yf=function(){function r(){}return r.prototype.add=function(e,t){return(e+t)%this.modulus},r.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new ee;return this.logTable[e]},r.prototype.inverse=function(e){if(e===0)throw new aa;return this.expTable[this.modulus-this.logTable[e]-1]},r.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},r.prototype.getSize=function(){return this.modulus},r.prototype.equals=function(e){return e===this},r}(),Af=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ef=function(r){Af(e,r);function e(t,n){var i=r.call(this)||this;i.modulus=t,i.expTable=new Int32Array(t),i.logTable=new Int32Array(t);for(var a=1,o=0;o<t;o++)i.expTable[o]=a,a=a*n%t;for(var o=0;o<t-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new cr(i,new Int32Array([0])),i.one=new cr(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new ee;if(n===0)return this.zero;var i=new Int32Array(t+1);return i[0]=n,new cr(this,i)},e.PDF417_GF=new e(ue.NUMBER_OF_CODEWORDS,3),e}(yf),If=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sf=function(){function r(){this.field=Ef.PDF417_GF}return r.prototype.decode=function(e,t,n){for(var i,a,o=new cr(this.field,e),s=new Int32Array(t),f=!1,u=t;u>0;u--){var c=o.evaluateAt(this.field.exp(u));s[t-u]=c,c!==0&&(f=!0)}if(!f)return 0;var l=this.field.getOne();if(n!=null)try{for(var d=If(n),h=d.next();!h.done;h=d.next()){var p=h.value,v=this.field.exp(e.length-1-p),_=new cr(this.field,new Int32Array([this.field.subtract(0,v),1]));l=l.multiply(_)}}catch(F){i={error:F}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}for(var x=new cr(this.field,s),g=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),x,t),y=g[0],A=g[1],E=this.findErrorLocations(y),S=this.findErrorMagnitudes(A,y,E),u=0;u<E.length;u++){var T=e.length-1-this.field.log(E[u]);if(T<0)throw qe.getChecksumInstance();e[T]=this.field.subtract(e[T],S[u])}return E.length},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=e,o=t,s=this.field.getZero(),f=this.field.getOne();o.getDegree()>=Math.round(n/2);){var u=a,c=s;if(a=o,s=f,a.isZero())throw qe.getChecksumInstance();o=u;for(var l=this.field.getZero(),d=a.getCoefficient(a.getDegree()),h=this.field.inverse(d);o.getDegree()>=a.getDegree()&&!o.isZero();){var p=o.getDegree()-a.getDegree(),v=this.field.multiply(o.getCoefficient(o.getDegree()),h);l=l.add(this.field.buildMonomial(p,v)),o=o.subtract(a.multiplyByMonomial(p,v))}f=l.multiply(s).subtract(c).negative()}var _=f.getCoefficient(0);if(_===0)throw qe.getChecksumInstance();var x=this.field.inverse(_),g=f.multiply(x),y=o.multiply(x);return[g,y]},r.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),n=new Int32Array(t),i=0,a=1;a<this.field.getSize()&&i<t;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==t)throw qe.getChecksumInstance();return n},r.prototype.findErrorMagnitudes=function(e,t,n){for(var i=t.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,t.getCoefficient(o));for(var s=new cr(this.field,a),f=n.length,u=new Int32Array(f),o=0;o<f;o++){var c=this.field.inverse(n[o]),l=this.field.subtract(0,e.evaluateAt(c)),d=this.field.inverse(s.evaluateAt(c));u[o]=this.field.multiply(l,d)}return u},r}(),Un=function(){function r(e,t,n,i,a){e instanceof r?this.constructor_2(e):this.constructor_1(e,t,n,i,a)}return r.prototype.constructor_1=function(e,t,n,i,a){var o=t==null||n==null,s=i==null||a==null;if(o&&s)throw new b;o?(t=new Z(0,i.getY()),n=new Z(0,a.getY())):s&&(i=new Z(e.getWidth()-1,t.getY()),a=new Z(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},r.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},r.merge=function(e,t){return e==null?t:t==null?e:new r(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},r.prototype.addMissingRows=function(e,t,n){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,s=this.bottomRight;if(e>0){var f=n?this.topLeft:this.topRight,u=Math.trunc(f.getY()-e);u<0&&(u=0);var c=new Z(f.getX(),u);n?i=c:o=c}if(t>0){var l=n?this.bottomLeft:this.bottomRight,d=Math.trunc(l.getY()+t);d>=this.image.getHeight()&&(d=this.image.getHeight()-1);var h=new Z(l.getX(),d);n?a=h:s=h}return new r(this.image,i,a,o,s)},r.prototype.getMinX=function(){return this.minX},r.prototype.getMaxX=function(){return this.maxX},r.prototype.getMinY=function(){return this.minY},r.prototype.getMaxY=function(){return this.maxY},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getBottomRight=function(){return this.bottomRight},r}(),Cf=function(){function r(e,t,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}return r.prototype.getColumnCount=function(){return this.columnCount},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getRowCount=function(){return this.rowCount},r.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},r.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},r}(),Jn=function(){function r(){this.buffer=""}return r.form=function(e,t){var n=-1;function i(o,s,f,u,c,l){if(o==="%%")return"%";if(t[++n]!==void 0){o=u?parseInt(u.substr(1)):void 0;var d=c?parseInt(c.substr(1)):void 0,h;switch(l){case"s":h=t[n];break;case"c":h=t[n][0];break;case"f":h=parseFloat(t[n]).toFixed(o);break;case"p":h=parseFloat(t[n]).toPrecision(o);break;case"e":h=parseFloat(t[n]).toExponential(o);break;case"x":h=parseInt(t[n]).toString(d||16);break;case"d":h=parseFloat(parseInt(t[n],d||10).toPrecision(o)).toFixed(0);break}h=typeof h=="object"?JSON.stringify(h):(+h).toString(d);for(var p=parseInt(f),v=f&&f[0]+""=="0"?"0":" ";h.length<p;)h=s!==void 0?h+v:v+h;return h}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},r.prototype.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.buffer+=r.form(e,t)},r.prototype.toString=function(){return this.buffer},r}(),wf=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ha=function(){function r(e){this.boundingBox=new Un(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return r.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var n=1;n<r.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(t=this.codewords[i],t!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(t=this.codewords[i],t!=null)))return t}return null},r.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},r.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},r.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.getCodewords=function(){return this.codewords},r.prototype.toString=function(){var e,t,n=new Jn,i=0;try{for(var a=wf(this.codewords),o=a.next();!o.done;o=a.next()){var s=o.value;if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(f){e={error:f}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n.toString()},r.MAX_NEARBY_DISTANCE=5,r}(),bf=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tf=globalThis&&globalThis.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return a},Gr=function(){function r(){this.values=new Map}return r.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},r.prototype.getValue=function(){var e,t,n=-1,i=new Array,a=function(l,d){var h={getKey:function(){return l},getValue:function(){return d}};h.getValue()>n?(n=h.getValue(),i=[],i.push(h.getKey())):h.getValue()===n&&i.push(h.getKey())};try{for(var o=bf(this.values.entries()),s=o.next();!s.done;s=o.next()){var f=Tf(s.value,2),u=f[0],c=f[1];a(u,c)}}catch(l){e={error:l}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return ue.toIntArray(i)},r.prototype.getConfidence=function(e){return this.values.get(e)},r}(),Of=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wn=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bi=function(r){Of(e,r);function e(t,n){var i=r.call(this,t)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var t,n;try{for(var i=wn(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,t);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=-1,c=1,l=0,d=s;d<f;d++)if(n[d]!=null){var h=n[d],p=h.getRowNumber()-u;if(p===0)l++;else if(p===1)c=Math.max(c,l),l=1,u=h.getRowNumber();else if(p<0||h.getRowNumber()>=t.getRowCount()||p>d)n[d]=null;else{var v=void 0;c>2?v=(c-2)*p:v=p;for(var _=v>=d,x=1;x<=v&&!_;x++)_=n[d-x]!=null;_?n[d]=null:(u=h.getRowNumber(),l=1)}}},e.prototype.getRowHeights=function(){var t,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=wn(this.getCodewords()),s=o.next();!s.done;s=o.next()){var f=s.value;if(f!=null){var u=f.getRowNumber();if(u>=a.length)continue;a[u]++}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.getCodewords(),u=-1,c=o;c<s;c++)if(f[c]!=null){var l=f[c];l.setRowNumberAsRowIndicatorColumn();var d=l.getRowNumber()-u;d===0||(d===1?u=l.getRowNumber():l.getRowNumber()>=t.getRowCount()?f[c]=null:u=l.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var t,n,i=this.getCodewords(),a=new Gr,o=new Gr,s=new Gr,f=new Gr;try{for(var u=wn(i),c=u.next();!c.done;c=u.next()){var l=c.value;if(l!=null){l.setRowNumberAsRowIndicatorColumn();var d=l.getValue()%30,h=l.getRowNumber();switch(this._isLeft||(h+=2),h%3){case 0:o.setValue(d*3+1);break;case 1:f.setValue(d/3),s.setValue(d%3);break;case 2:a.setValue(d+1);break}}}}catch(v){t={error:v}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}if(a.getValue().length===0||o.getValue().length===0||s.getValue().length===0||f.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<ue.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>ue.MAX_ROWS_IN_BARCODE)return null;var p=new Cf(a.getValue()[0],o.getValue()[0],s.getValue()[0],f.getValue()[0]);return this.removeIncorrectCodewords(i,p),p},e.prototype.removeIncorrectCodewords=function(t,n){for(var i=0;i<t.length;i++){var a=t[i];if(t[i]!=null){var o=a.getValue()%30,s=a.getRowNumber();if(s>n.getRowCount()){t[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(t[i]=null);break;case 2:o+1!==n.getColumnCount()&&(t[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+r.prototype.toString.call(this)},e}(ha),Df=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rf=function(){function r(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return r.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=ue.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},r.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},r.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var n=this.detectionResultColumns[t].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,n));return e},r.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},r.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&t[n]!=null&&e[n].getRowNumber()===t[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},r.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var i=t[n].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=r.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},r.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var i=t[n].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=r.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},r.adjustRowNumberIfValid=function(e,t,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t},r.prototype.adjustRowNumbers=function(e,t,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=n[t],s=this.detectionResultColumns[e-1].getCodewords(),f=s;this.detectionResultColumns[e+1]!=null&&(f=this.detectionResultColumns[e+1].getCodewords());var u=new Array(14);u[2]=s[t],u[3]=f[t],t>0&&(u[0]=n[t-1],u[4]=s[t-1],u[5]=f[t-1]),t>1&&(u[8]=n[t-2],u[10]=s[t-2],u[11]=f[t-2]),t<n.length-1&&(u[1]=n[t+1],u[6]=s[t+1],u[7]=f[t+1]),t<n.length-2&&(u[9]=n[t+2],u[12]=s[t+2],u[13]=f[t+2]);try{for(var c=Df(u),l=c.next();!l.done;l=c.next()){var d=l.value;if(r.adjustRowNumber(o,d))return}}catch(h){i={error:h}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}}},r.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},r.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},r.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},r.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},r.prototype.setBoundingBox=function(e){this.boundingBox=e},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},r.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},r.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new Jn,n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){t.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){t.format("    |   ");continue}t.format(" %3d|%3d",a.getRowNumber(),a.getValue())}t.format("%n")}return t.toString()},r}(),Nf=function(){function r(e,t,n,i){this.rowNumber=r.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return r.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},r.prototype.isValidRowNumber=function(e){return e!==r.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},r.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},r.prototype.getWidth=function(){return this.endX-this.startX},r.prototype.getStartX=function(){return this.startX},r.prototype.getEndX=function(){return this.endX},r.prototype.getBucket=function(){return this.bucket},r.prototype.getValue=function(){return this.value},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.setRowNumber=function(e){this.rowNumber=e},r.prototype.toString=function(){return this.rowNumber+"|"+this.value},r.BARCODE_ROW_UNKNOWN=-1,r}(),Mf=function(){function r(){}return r.initialize=function(){for(var e=0;e<ue.SYMBOL_TABLE.length;e++)for(var t=ue.SYMBOL_TABLE[e],n=t&1,i=0;i<ue.BARS_IN_MODULE;i++){for(var a=0;(t&1)===n;)a+=1,t>>=1;n=t&1,r.RATIOS_TABLE[e]||(r.RATIOS_TABLE[e]=new Array(ue.BARS_IN_MODULE)),r.RATIOS_TABLE[e][ue.BARS_IN_MODULE-i-1]=Math.fround(a/ue.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},r.getDecodedValue=function(e){var t=r.getDecodedCodewordValue(r.sampleBitCounts(e));return t!==-1?t:r.getClosestDecodedValue(e)},r.sampleBitCounts=function(e){for(var t=ce.sum(e),n=new Int32Array(ue.BARS_IN_MODULE),i=0,a=0,o=0;o<ue.MODULES_IN_CODEWORD;o++){var s=t/(2*ue.MODULES_IN_CODEWORD)+o*t/ue.MODULES_IN_CODEWORD;a+e[i]<=s&&(a+=e[i],i++),n[i]++}return n},r.getDecodedCodewordValue=function(e){var t=r.getBitValue(e);return ue.getCodeword(t)===-1?-1:t},r.getBitValue=function(e){for(var t=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)},r.getClosestDecodedValue=function(e){var t=ce.sum(e),n=new Array(ue.BARS_IN_MODULE);if(t>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/t);var a=Mn.MAX_VALUE,o=-1;this.bSymbolTableReady||r.initialize();for(var s=0;s<r.RATIOS_TABLE.length;s++){for(var f=0,u=r.RATIOS_TABLE[s],c=0;c<ue.BARS_IN_MODULE;c++){var l=Math.fround(u[c]-n[c]);if(f+=Math.fround(l*l),f>=a)break}f<a&&(a=f,o=ue.SYMBOL_TABLE[s])}return o},r.bSymbolTableReady=!1,r.RATIOS_TABLE=new Array(ue.SYMBOL_TABLE.length).map(function(e){return new Array(ue.BARS_IN_MODULE)}),r}(),Pf=function(){function r(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return r.prototype.getSegmentIndex=function(){return this.segmentIndex},r.prototype.setSegmentIndex=function(e){this.segmentIndex=e},r.prototype.getFileId=function(){return this.fileId},r.prototype.setFileId=function(e){this.fileId=e},r.prototype.getOptionalData=function(){return this.optionalData},r.prototype.setOptionalData=function(e){this.optionalData=e},r.prototype.isLastSegment=function(){return this.lastSegment},r.prototype.setLastSegment=function(e){this.lastSegment=e},r.prototype.getSegmentCount=function(){return this.segmentCount},r.prototype.setSegmentCount=function(e){this.segmentCount=e},r.prototype.getSender=function(){return this.sender||null},r.prototype.setSender=function(e){this.sender=e},r.prototype.getAddressee=function(){return this.addressee||null},r.prototype.setAddressee=function(e){this.addressee=e},r.prototype.getFileName=function(){return this.fileName},r.prototype.setFileName=function(e){this.fileName=e},r.prototype.getFileSize=function(){return this.fileSize},r.prototype.setFileSize=function(e){this.fileSize=e},r.prototype.getChecksum=function(){return this.checksum},r.prototype.setChecksum=function(e){this.checksum=e},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.setTimestamp=function(e){this.timestamp=e},r}(),Ti=function(){function r(){}return r.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r}(),Lf=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Bf=function(r){Lf(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="NullPointerException",e}(dt),Ff=function(){function r(){}return r.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},r.prototype.writeBytesOffset=function(e,t,n){if(e==null)throw new Bf;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new Kn;if(n===0)return;for(var i=0;i<n;i++)this.write(e[t+i])},r.prototype.flush=function(){},r.prototype.close=function(){},r}(),kf=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Uf=function(r){kf(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(dt),Hf=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Vf=function(r){Hf(e,r);function e(t){t===void 0&&(t=32);var n=r.call(this)||this;if(n.count=0,t<0)throw new ee("Negative initial size: "+t);return n.buf=new Uint8Array(t),n}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var n=this.buf.length,i=n<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new Uf;i=Qe.MAX_VALUE}this.buf=ct.copyOfUint8Array(this.buf,i)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,n,i){if(n<0||n>t.length||i<0||n+i-t.length>0)throw new Kn;this.ensureCapacity(this.count+i),Ie.arraycopy(t,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return ct.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(Ff),ye;(function(r){r[r.ALPHA=0]="ALPHA",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.PUNCT=3]="PUNCT",r[r.ALPHA_SHIFT=4]="ALPHA_SHIFT",r[r.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ye||(ye={}));function pa(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var tn;function Qt(r){if(typeof tn>"u"&&(tn=pa()),tn===null)throw new Error("BigInt is not supported!");return tn(r)}function Gf(){var r=[];r[0]=Qt(1);var e=Qt(900);r[1]=e;for(var t=2;t<16;t++)r[t]=r[t-1]*e;return r}var Wf=function(){function r(){}return r.decode=function(e,t){var n=new Ae(""),i=Ge.ISO8859_1;n.enableDecoding(i);for(var a=1,o=e[a++],s=new Pf;a<e[0];){switch(o){case r.TEXT_COMPACTION_MODE_LATCH:a=r.textCompaction(e,a,n);break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:a=r.byteCompaction(o,e,i,a,n);break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case r.NUMERIC_COMPACTION_MODE_LATCH:a=r.numericCompaction(e,a,n);break;case r.ECI_CHARSET:Ge.getCharacterSetECIByValue(e[a++]);break;case r.ECI_GENERAL_PURPOSE:a+=2;break;case r.ECI_USER_DEFINED:a++;break;case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=r.decodeMacroBlock(e,a,s);break;case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:throw new k;default:a--,a=r.textCompaction(e,a,n);break}if(a<e.length)o=e[a++];else throw k.getFormatInstance()}if(n.length()===0)throw k.getFormatInstance();var f=new xn(null,n.toString(),null,t);return f.setOther(s),f},r.decodeMacroBlock=function(e,t,n){if(t+r.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw k.getFormatInstance();for(var i=new Int32Array(r.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<r.NUMBER_OF_SEQUENCE_CODEWORDS;a++,t++)i[a]=e[t];n.setSegmentIndex(Qe.parseInt(r.decodeBase900toBase10(i,r.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new Ae;t=r.textCompaction(e,t,o),n.setFileId(o.toString());var s=-1;for(e[t]===r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=t+1);t<e[0];)switch(e[t]){case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var f=new Ae;t=r.textCompaction(e,t+1,f),n.setFileName(f.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var u=new Ae;t=r.textCompaction(e,t+1,u),n.setSender(u.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var c=new Ae;t=r.textCompaction(e,t+1,c),n.setAddressee(c.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var l=new Ae;t=r.numericCompaction(e,t+1,l),n.setSegmentCount(Qe.parseInt(l.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var d=new Ae;t=r.numericCompaction(e,t+1,d),n.setTimestamp(Ti.parseLong(d.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var h=new Ae;t=r.numericCompaction(e,t+1,h),n.setChecksum(Qe.parseInt(h.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var p=new Ae;t=r.numericCompaction(e,t+1,p),n.setFileSize(Ti.parseLong(p.toString()));break;default:throw k.getFormatInstance()}break;case r.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw k.getFormatInstance()}if(s!==-1){var v=t-s;n.isLastSegment()&&v--,n.setOptionalData(ct.copyOfRange(e,s,s+v))}return t},r.textCompaction=function(e,t,n){for(var i=new Int32Array((e[0]-t)*2),a=new Int32Array((e[0]-t)*2),o=0,s=!1;t<e[0]&&!s;){var f=e[t++];if(f<r.TEXT_COMPACTION_MODE_LATCH)i[o]=f/30,i[o+1]=f%30,o+=2;else switch(f){case r.TEXT_COMPACTION_MODE_LATCH:i[o++]=r.TEXT_COMPACTION_MODE_LATCH;break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,s=!0;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,f=e[t++],a[o]=f,o++;break}}return r.decodeTextCompaction(i,a,o,n),t},r.decodeTextCompaction=function(e,t,n,i){for(var a=ye.ALPHA,o=ye.ALPHA,s=0;s<n;){var f=e[s],u="";switch(a){case ye.ALPHA:if(f<26)u=String.fromCharCode(65+f);else switch(f){case 26:u=" ";break;case r.LL:a=ye.LOWER;break;case r.ML:a=ye.MIXED;break;case r.PS:o=a,a=ye.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=ye.ALPHA;break}break;case ye.LOWER:if(f<26)u=String.fromCharCode(97+f);else switch(f){case 26:u=" ";break;case r.AS:o=a,a=ye.ALPHA_SHIFT;break;case r.ML:a=ye.MIXED;break;case r.PS:o=a,a=ye.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=ye.ALPHA;break}break;case ye.MIXED:if(f<r.PL)u=r.MIXED_CHARS[f];else switch(f){case r.PL:a=ye.PUNCT;break;case 26:u=" ";break;case r.LL:a=ye.LOWER;break;case r.AL:a=ye.ALPHA;break;case r.PS:o=a,a=ye.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=ye.ALPHA;break}break;case ye.PUNCT:if(f<r.PAL)u=r.PUNCT_CHARS[f];else switch(f){case r.PAL:a=ye.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=ye.ALPHA;break}break;case ye.ALPHA_SHIFT:if(a=o,f<26)u=String.fromCharCode(65+f);else switch(f){case 26:u=" ";break;case r.TEXT_COMPACTION_MODE_LATCH:a=ye.ALPHA;break}break;case ye.PUNCT_SHIFT:if(a=o,f<r.PAL)u=r.PUNCT_CHARS[f];else switch(f){case r.PAL:a=ye.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:a=ye.ALPHA;break}break}u!==""&&i.append(u),s++}},r.byteCompaction=function(e,t,n,i,a){var o=new Vf,s=0,f=0,u=!1;switch(e){case r.BYTE_COMPACTION_MODE_LATCH:for(var c=new Int32Array(6),l=t[i++];i<t[0]&&!u;)switch(c[s++]=l,f=900*f+l,l=t[i++],l){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,u=!0;break;default:if(s%5===0&&s>0){for(var d=0;d<6;++d)o.write(Number(Qt(f)>>Qt(8*(5-d))));f=0,s=0}break}i===t[0]&&l<r.TEXT_COMPACTION_MODE_LATCH&&(c[s++]=l);for(var h=0;h<s;h++)o.write(c[h]);break;case r.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!u;){var p=t[i++];if(p<r.TEXT_COMPACTION_MODE_LATCH)s++,f=900*f+p;else switch(p){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,u=!0;break}if(s%5===0&&s>0){for(var d=0;d<6;++d)o.write(Number(Qt(f)>>Qt(8*(5-d))));f=0,s=0}}break}return a.append(Ft.decode(o.toByteArray(),n)),i},r.numericCompaction=function(e,t,n){for(var i=0,a=!1,o=new Int32Array(r.MAX_NUMERIC_CODEWORDS);t<e[0]&&!a;){var s=e[t++];if(t===e[0]&&(a=!0),s<r.TEXT_COMPACTION_MODE_LATCH)o[i]=s,i++;else switch(s){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,a=!0;break}(i%r.MAX_NUMERIC_CODEWORDS===0||s===r.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(r.decodeBase900toBase10(o,i)),i=0)}return t},r.decodeBase900toBase10=function(e,t){for(var n=Qt(0),i=0;i<t;i++)n+=r.EXP900[t-i-1]*Qt(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new k;return a.substring(1)},r.TEXT_COMPACTION_MODE_LATCH=900,r.BYTE_COMPACTION_MODE_LATCH=901,r.NUMERIC_COMPACTION_MODE_LATCH=902,r.BYTE_COMPACTION_MODE_LATCH_6=924,r.ECI_USER_DEFINED=925,r.ECI_GENERAL_PURPOSE=926,r.ECI_CHARSET=927,r.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,r.MACRO_PDF417_TERMINATOR=922,r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,r.MAX_NUMERIC_CODEWORDS=15,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,r.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,r.PL=25,r.LL=27,r.AS=27,r.ML=28,r.AL=28,r.PS=29,r.PAL=29,r.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,r.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",r.EXP900=pa()?Gf():[],r.NUMBER_OF_SEQUENCE_CODEWORDS=2,r}(),kr=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xf=function(){function r(){}return r.decode=function(e,t,n,i,a,o,s){for(var f=new Un(e,t,n,i,a),u=null,c=null,l,d=!0;;d=!1){if(t!=null&&(u=r.getRowIndicatorColumn(e,f,t,!0,o,s)),i!=null&&(c=r.getRowIndicatorColumn(e,f,i,!1,o,s)),l=r.merge(u,c),l==null)throw b.getNotFoundInstance();var h=l.getBoundingBox();if(d&&h!=null&&(h.getMinY()<f.getMinY()||h.getMaxY()>f.getMaxY()))f=h;else break}l.setBoundingBox(f);var p=l.getBarcodeColumnCount()+1;l.setDetectionResultColumn(0,u),l.setDetectionResultColumn(p,c);for(var v=u!=null,_=1;_<=p;_++){var x=v?_:p-_;if(l.getDetectionResultColumn(x)===void 0){var g=void 0;x===0||x===p?g=new bi(f,x===0):g=new ha(f),l.setDetectionResultColumn(x,g);for(var y=-1,A=y,E=f.getMinY();E<=f.getMaxY();E++){if(y=r.getStartColumn(l,x,E,v),y<0||y>f.getMaxX()){if(A===-1)continue;y=A}var S=r.detectCodeword(e,f.getMinX(),f.getMaxX(),v,y,E,o,s);S!=null&&(g.setCodeword(E,S),A=y,o=Math.min(o,S.getWidth()),s=Math.max(s,S.getWidth()))}}}return r.createDecoderResult(l)},r.merge=function(e,t){if(e==null&&t==null)return null;var n=r.getBarcodeMetadata(e,t);if(n==null)return null;var i=Un.merge(r.adjustBoundingBox(e),r.adjustBoundingBox(t));return new Rf(n,i)},r.adjustBoundingBox=function(e){var t,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=r.getMax(i),o=0;try{for(var s=kr(i),f=s.next();!f.done;f=s.next()){var u=f.value;if(o+=a-u,u>0)break}}catch(h){t={error:h}}finally{try{f&&!f.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}for(var c=e.getCodewords(),l=0;o>0&&c[l]==null;l++)o--;for(var d=0,l=i.length-1;l>=0&&(d+=a-i[l],!(i[l]>0));l--);for(var l=c.length-1;d>0&&c[l]==null;l--)d--;return e.getBoundingBox().addMissingRows(o,d,e.isLeft())},r.getMax=function(e){var t,n,i=-1;try{for(var a=kr(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=Math.max(i,s)}}catch(f){t={error:f}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i},r.getBarcodeMetadata=function(e,t){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var i;return t==null||(i=t.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},r.getRowIndicatorColumn=function(e,t,n,i,a,o){for(var s=new bi(t,i),f=0;f<2;f++)for(var u=f===0?1:-1,c=Math.trunc(Math.trunc(n.getX())),l=Math.trunc(Math.trunc(n.getY()));l<=t.getMaxY()&&l>=t.getMinY();l+=u){var d=r.detectCodeword(e,0,e.getWidth(),i,c,l,a,o);d!=null&&(s.setCodeword(l,d),i?c=d.getStartX():c=d.getEndX())}return s},r.adjustCodewordCount=function(e,t){var n=t[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-r.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>ue.MAX_CODEWORDS_IN_BARCODE)throw b.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},r.createDecoderResult=function(e){var t=r.createBarcodeMatrix(e);r.adjustCodewordCount(e,t);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var f=0;f<e.getBarcodeColumnCount();f++){var u=t[s][f+1].getValue(),c=s*e.getBarcodeColumnCount()+f;u.length===0?n.push(c):u.length===1?i[c]=u[0]:(o.push(c),a.push(u))}for(var l=new Array(a.length),d=0;d<l.length;d++)l[d]=a[d];return r.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,ue.toIntArray(n),ue.toIntArray(o),l)},r.createDecoderResultFromAmbiguousValues=function(e,t,n,i,a){for(var o=new Int32Array(i.length),s=100;s-- >0;){for(var f=0;f<o.length;f++)t[i[f]]=a[f][o[f]];try{return r.decodeCodewords(t,e,n)}catch(c){var u=c instanceof qe;if(!u)throw c}if(o.length===0)throw qe.getChecksumInstance();for(var f=0;f<o.length;f++)if(o[f]<a[f].length-1){o[f]++;break}else if(o[f]=0,f===o.length-1)throw qe.getChecksumInstance()}throw qe.getChecksumInstance()},r.createBarcodeMatrix=function(e){for(var t,n,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<o.length;s++)for(var f=0;f<o[s].length;f++)o[s][f]=new Gr;var u=0;try{for(var c=kr(e.getDetectionResultColumns()),l=c.next();!l.done;l=c.next()){var d=l.value;if(d!=null)try{for(var h=(i=void 0,kr(d.getCodewords())),p=h.next();!p.done;p=h.next()){var v=p.value;if(v!=null){var _=v.getRowNumber();if(_>=0){if(_>=o.length)continue;o[_][u].setValue(v.getValue())}}}}catch(x){i={error:x}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}u++}}catch(x){t={error:x}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return o},r.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},r.getStartColumn=function(e,t,n,i){var a,o,s=i?1:-1,f=null;if(r.isValidBarcodeColumn(e,t-s)&&(f=e.getDetectionResultColumn(t-s).getCodeword(n)),f!=null)return i?f.getEndX():f.getStartX();if(f=e.getDetectionResultColumn(t).getCodewordNearby(n),f!=null)return i?f.getStartX():f.getEndX();if(r.isValidBarcodeColumn(e,t-s)&&(f=e.getDetectionResultColumn(t-s).getCodewordNearby(n)),f!=null)return i?f.getEndX():f.getStartX();for(var u=0;r.isValidBarcodeColumn(e,t-s);){t-=s;try{for(var c=(a=void 0,kr(e.getDetectionResultColumn(t).getCodewords())),l=c.next();!l.done;l=c.next()){var d=l.value;if(d!=null)return(i?d.getEndX():d.getStartX())+s*u*(d.getEndX()-d.getStartX())}}catch(h){a={error:h}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}u++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},r.detectCodeword=function(e,t,n,i,a,o,s,f){a=r.adjustCodewordStartColumn(e,t,n,i,a,o);var u=r.getModuleBitCount(e,t,n,i,a,o);if(u==null)return null;var c,l=ce.sum(u);if(i)c=a+l;else{for(var d=0;d<u.length/2;d++){var h=u[d];u[d]=u[u.length-1-d],u[u.length-1-d]=h}c=a,a=c-l}if(!r.checkCodewordSkew(l,s,f))return null;var p=Mf.getDecodedValue(u),v=ue.getCodeword(p);return v===-1?null:new Nf(a,c,r.getCodewordBucketNumber(p),v)},r.getModuleBitCount=function(e,t,n,i,a,o){for(var s=a,f=new Int32Array(8),u=0,c=i?1:-1,l=i;(i?s<n:s>=t)&&u<f.length;)e.get(s,o)===l?(f[u]++,s+=c):(u++,l=!l);return u===f.length||s===(i?n:t)&&u===f.length-1?f:null},r.getNumberOfECCodeWords=function(e){return 2<<e},r.adjustCodewordStartColumn=function(e,t,n,i,a,o){for(var s=a,f=i?-1:1,u=0;u<2;u++){for(;(i?s>=t:s<n)&&i===e.get(s,o);){if(Math.abs(a-s)>r.CODEWORD_SKEW_SIZE)return a;s+=f}f=-f,i=!i}return s},r.checkCodewordSkew=function(e,t,n){return t-r.CODEWORD_SKEW_SIZE<=e&&e<=n+r.CODEWORD_SKEW_SIZE},r.decodeCodewords=function(e,t,n){if(e.length===0)throw k.getFormatInstance();var i=1<<t+1,a=r.correctErrors(e,n,i);r.verifyCodewordCount(e,i);var o=Wf.decode(e,""+t);return o.setErrorsCorrected(a),o.setErasures(n.length),o},r.correctErrors=function(e,t,n){if(t!=null&&t.length>n/2+r.MAX_ERRORS||n<0||n>r.MAX_EC_CODEWORDS)throw qe.getChecksumInstance();return r.errorCorrection.decode(e,n,t)},r.verifyCodewordCount=function(e,t){if(e.length<4)throw k.getFormatInstance();var n=e[0];if(n>e.length)throw k.getFormatInstance();if(n===0)if(t<e.length)e[0]=e.length-t;else throw k.getFormatInstance()},r.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),n=0,i=t.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)t[i]++,e>>=1;return t},r.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},r.getCodewordBucketNumber_number=function(e){return r.getCodewordBucketNumber(r.getBitCountForCodeword(e))},r.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},r.toString=function(e){for(var t=new Jn,n=0;n<e.length;n++){t.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}t.format("%n")}return t.toString()},r.CODEWORD_SKEW_SIZE=2,r.MAX_ERRORS=3,r.MAX_EC_CODEWORDS=512,r.errorCorrection=new Sf,r}(),zf=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hn=function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=r.decode(e,t,!1);if(n==null||n.length===0||n[0]==null)throw b.getNotFoundInstance();return n[0]},r.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return r.decode(e,t,!0)}catch(n){throw n instanceof k||n instanceof qe?b.getNotFoundInstance():n}},r.decode=function(e,t,n){var i,a,o=new Array,s=xf.detectMultiple(e,t,n);try{for(var f=zf(s.getPoints()),u=f.next();!u.done;u=f.next()){var c=u.value,l=Xf.decode(s.getBits(),c[4],c[5],c[6],c[7],r.getMinCodewordWidth(c),r.getMaxCodewordWidth(c)),d=new ht(l.getText(),l.getRawBytes(),void 0,c,Y.PDF_417);d.putMetadata(Je.ERROR_CORRECTION_LEVEL,l.getECLevel());var h=l.getOther();h!=null&&d.putMetadata(Je.PDF417_EXTRA_METADATA,h),o.push(d)}}catch(p){i={error:p}}finally{try{u&&!u.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}return o.map(function(p){return p})},r.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMinWidth=function(e,t){return e==null||t==null?Qe.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(r.getMaxWidth(e[0],e[4]),r.getMaxWidth(e[6],e[2])*ue.MODULES_IN_CODEWORD/ue.MODULES_IN_STOP_PATTERN),Math.max(r.getMaxWidth(e[1],e[5]),r.getMaxWidth(e[7],e[3])*ue.MODULES_IN_CODEWORD/ue.MODULES_IN_STOP_PATTERN)))},r.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(r.getMinWidth(e[0],e[4]),r.getMinWidth(e[6],e[2])*ue.MODULES_IN_CODEWORD/ue.MODULES_IN_STOP_PATTERN),Math.min(r.getMinWidth(e[1],e[5]),r.getMinWidth(e[7],e[3])*ue.MODULES_IN_CODEWORD/ue.MODULES_IN_STOP_PATTERN)))},r.prototype.reset=function(){},r}(),jf=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Oi=function(r){jf(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReaderException",e}(dt),Di=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yf=function(){function r(){}return r.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},r.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},r.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(Te.TRY_HARDER)!==void 0,n=e==null?null:e.get(Te.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(o){return o===Y.UPC_A||o===Y.UPC_E||o===Y.EAN_13||o===Y.EAN_8||o===Y.CODABAR||o===Y.CODE_39||o===Y.CODE_93||o===Y.CODE_128||o===Y.ITF||o===Y.RSS_14||o===Y.RSS_EXPANDED});a&&!t&&i.push(new Vr(e)),n.includes(Y.QR_CODE)&&i.push(new kn),n.includes(Y.DATA_MATRIX)&&i.push(new Fn),n.includes(Y.AZTEC)&&i.push(new Ln),n.includes(Y.PDF_417)&&i.push(new Hn),a&&t&&i.push(new Vr(e))}i.length===0&&(t||i.push(new Vr(e)),i.push(new kn),i.push(new Fn),i.push(new Ln),i.push(new Hn),t&&i.push(new Vr(e))),this.readers=i},r.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var n=Di(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},r.prototype.decodeInternal=function(e){var t,n;if(this.readers===null)throw new Oi("No readers where selected, nothing can be read.");try{for(var i=Di(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(s){if(s instanceof Oi)continue}}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}throw new b("No MultiFormat Readers were able to detect the code.")},r}(),Kf=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$f=function(r){Kf(e,r);function e(t,n){t===void 0&&(t=null),n===void 0&&(n=500);var i=this,a=new Yf;return a.setHints(t),i=r.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e}(Mr),Zf=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){Zf(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Hn,t)||this}return e})(Mr);var qf=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){qf(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new kn,t)||this}return e})(Mr);var Vn;(function(r){r[r.ERROR_CORRECTION=0]="ERROR_CORRECTION",r[r.CHARACTER_SET=1]="CHARACTER_SET",r[r.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",r[r.MIN_SIZE=3]="MIN_SIZE",r[r.MAX_SIZE=4]="MAX_SIZE",r[r.MARGIN=5]="MARGIN",r[r.PDF417_COMPACT=6]="PDF417_COMPACT",r[r.PDF417_COMPACTION=7]="PDF417_COMPACTION",r[r.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",r[r.AZTEC_LAYERS=9]="AZTEC_LAYERS",r[r.QR_VERSION=10]="QR_VERSION"})(Vn||(Vn={}));const rn=Vn;var Qf=function(){function r(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new rr(e,Int32Array.from([1])))}return r.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var n=t[t.length-1],i=this.field,a=t.length;a<=e;a++){var o=n.multiply(new rr(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));t.push(o),n=o}return t[e]},r.prototype.encode=function(e,t){if(t===0)throw new ee("No error correction bytes");var n=e.length-t;if(n<=0)throw new ee("No data bytes provided");var i=this.buildGenerator(t),a=new Int32Array(n);Ie.arraycopy(e,0,a,0,n);var o=new rr(this.field,a);o=o.multiplyByMonomial(t,1);for(var s=o.divide(i)[1],f=s.getCoefficients(),u=t-f.length,c=0;c<u;c++)e[n+c]=0;Ie.arraycopy(f,0,e,n+u,f.length)},r}(),Wr=function(){function r(){}return r.applyMaskPenaltyRule1=function(e){return r.applyMaskPenaltyRule1Internal(e,!0)+r.applyMaskPenaltyRule1Internal(e,!1)},r.applyMaskPenaltyRule2=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var s=n[o],f=0;f<i-1;f++){var u=s[f];u===s[f+1]&&u===n[o+1][f]&&u===n[o+1][f+1]&&t++}return r.N2*t},r.applyMaskPenaltyRule3=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=0;s<i;s++){var f=n[o];s+6<i&&f[s]===1&&f[s+1]===0&&f[s+2]===1&&f[s+3]===1&&f[s+4]===1&&f[s+5]===0&&f[s+6]===1&&(r.isWhiteHorizontal(f,s-4,s)||r.isWhiteHorizontal(f,s+7,s+11))&&t++,o+6<a&&n[o][s]===1&&n[o+1][s]===0&&n[o+2][s]===1&&n[o+3][s]===1&&n[o+4][s]===1&&n[o+5][s]===0&&n[o+6][s]===1&&(r.isWhiteVertical(n,s,o-4,o)||r.isWhiteVertical(n,s,o+7,o+11))&&t++}return t*r.N3},r.isWhiteHorizontal=function(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(var i=t;i<n;i++)if(e[i]===1)return!1;return!0},r.isWhiteVertical=function(e,t,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][t]===1)return!1;return!0},r.applyMaskPenaltyRule4=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=n[o],f=0;f<i;f++)s[f]===1&&t++;var u=e.getHeight()*e.getWidth(),c=Math.floor(Math.abs(t*2-u)*10/u);return c*r.N4},r.getDataMaskBit=function(e,t,n){var i,a;switch(e){case 0:i=n+t&1;break;case 1:i=n&1;break;case 2:i=t%3;break;case 3:i=(n+t)%3;break;case 4:i=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:a=n*t,i=(a&1)+a%3;break;case 6:a=n*t,i=(a&1)+a%3&1;break;case 7:a=n*t,i=a%3+(n+t&1)&1;break;default:throw new ee("Invalid mask pattern: "+e)}return i===0},r.applyMaskPenaltyRule1Internal=function(e,t){for(var n=0,i=t?e.getHeight():e.getWidth(),a=t?e.getWidth():e.getHeight(),o=e.getArray(),s=0;s<i;s++){for(var f=0,u=-1,c=0;c<a;c++){var l=t?o[s][c]:o[c][s];l===u?f++:(f>=5&&(n+=r.N1+(f-5)),f=1,u=l)}f>=5&&(n+=r.N1+(f-5))}return n},r.N1=3,r.N2=3,r.N3=40,r.N4=10,r}(),Jf=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eu=function(){function r(e,t){this.width=e,this.height=t;for(var n=new Array(t),i=0;i!==t;i++)n[i]=new Uint8Array(e);this.bytes=n}return r.prototype.getHeight=function(){return this.height},r.prototype.getWidth=function(){return this.width},r.prototype.get=function(e,t){return this.bytes[t][e]},r.prototype.getArray=function(){return this.bytes},r.prototype.setNumber=function(e,t,n){this.bytes[t][e]=n},r.prototype.setBoolean=function(e,t,n){this.bytes[t][e]=n?1:0},r.prototype.clear=function(e){var t,n;try{for(var i=Jf(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;ct.fill(o,e)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],o=t.bytes[n],s=0,f=this.width;s<f;++s)if(a[s]!==o[s])return!1;return!0},r.prototype.toString=function(){for(var e=new Ae,t=0,n=this.height;t<n;++t){for(var i=this.bytes[t],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},r}(),Gn=function(){function r(){this.maskPattern=-1}return r.prototype.getMode=function(){return this.mode},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getVersion=function(){return this.version},r.prototype.getMaskPattern=function(){return this.maskPattern},r.prototype.getMatrix=function(){return this.matrix},r.prototype.toString=function(){var e=new Ae;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},r.prototype.setMode=function(e){this.mode=e},r.prototype.setECLevel=function(e){this.ecLevel=e},r.prototype.setVersion=function(e){this.version=e},r.prototype.setMaskPattern=function(e){this.maskPattern=e},r.prototype.setMatrix=function(e){this.matrix=e},r.isValidMaskPattern=function(e){return e>=0&&e<r.NUM_MASK_PATTERNS},r.NUM_MASK_PATTERNS=8,r}(),tu=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Se=function(r){tu(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="WriterException",e}(dt),Ri=function(){function r(){}return r.clearMatrix=function(e){e.clear(255)},r.buildMatrix=function(e,t,n,i,a){r.clearMatrix(a),r.embedBasicPatterns(n,a),r.embedTypeInfo(t,i,a),r.maybeEmbedVersionInfo(n,a),r.embedDataBits(e,i,a)},r.embedBasicPatterns=function(e,t){r.embedPositionDetectionPatternsAndSeparators(t),r.embedDarkDotAtLeftBottomCorner(t),r.maybeEmbedPositionAdjustmentPatterns(e,t),r.embedTimingPatterns(t)},r.embedTypeInfo=function(e,t,n){var i=new ut;r.makeTypeInfoBits(e,t,i);for(var a=0,o=i.getSize();a<o;++a){var s=i.get(i.getSize()-1-a),f=r.TYPE_INFO_COORDINATES[a],u=f[0],c=f[1];if(n.setBoolean(u,c,s),a<8){var l=n.getWidth()-a-1,d=8;n.setBoolean(l,d,s)}else{var l=8,d=n.getHeight()-7+(a-8);n.setBoolean(l,d,s)}}},r.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var n=new ut;r.makeVersionInfoBits(e,n);for(var i=6*3-1,a=0;a<6;++a)for(var o=0;o<3;++o){var s=n.get(i);i--,t.setBoolean(a,t.getHeight()-11+o,s),t.setBoolean(t.getHeight()-11+o,a,s)}}},r.embedDataBits=function(e,t,n){for(var i=0,a=-1,o=n.getWidth()-1,s=n.getHeight()-1;o>0;){for(o===6&&(o-=1);s>=0&&s<n.getHeight();){for(var f=0;f<2;++f){var u=o-f;if(r.isEmpty(n.get(u,s))){var c=void 0;i<e.getSize()?(c=e.get(i),++i):c=!1,t!==255&&Wr.getDataMaskBit(t,u,s)&&(c=!c),n.setBoolean(u,s,c)}}s+=a}a=-a,s+=a,o-=2}if(i!==e.getSize())throw new Se("Not all bits consumed: "+i+"/"+e.getSize())},r.findMSBSet=function(e){return 32-Qe.numberOfLeadingZeros(e)},r.calculateBCHCode=function(e,t){if(t===0)throw new ee("0 polynomial");var n=r.findMSBSet(t);for(e<<=n-1;r.findMSBSet(e)>=n;)e^=t<<r.findMSBSet(e)-n;return e},r.makeTypeInfoBits=function(e,t,n){if(!Gn.isValidMaskPattern(t))throw new Se("Invalid mask pattern");var i=e.getBits()<<3|t;n.appendBits(i,5);var a=r.calculateBCHCode(i,r.TYPE_INFO_POLY);n.appendBits(a,10);var o=new ut;if(o.appendBits(r.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new Se("should not happen but we got: "+n.getSize())},r.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var n=r.calculateBCHCode(e.getVersionNumber(),r.VERSION_INFO_POLY);if(t.appendBits(n,12),t.getSize()!==18)throw new Se("should not happen but we got: "+t.getSize())},r.isEmpty=function(e){return e===255},r.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var n=(t+1)%2;r.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),r.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}},r.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Se;e.setNumber(8,e.getHeight()-8,1)},r.embedHorizontalSeparationPattern=function(e,t,n){for(var i=0;i<8;++i){if(!r.isEmpty(n.get(e+i,t)))throw new Se;n.setNumber(e+i,t,0)}},r.embedVerticalSeparationPattern=function(e,t,n){for(var i=0;i<7;++i){if(!r.isEmpty(n.get(e,t+i)))throw new Se;n.setNumber(e,t+i,0)}},r.embedPositionAdjustmentPattern=function(e,t,n){for(var i=0;i<5;++i)for(var a=r.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,t+i,a[o])},r.embedPositionDetectionPattern=function(e,t,n){for(var i=0;i<7;++i)for(var a=r.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,t+i,a[o])},r.embedPositionDetectionPatternsAndSeparators=function(e){var t=r.POSITION_DETECTION_PATTERN[0].length;r.embedPositionDetectionPattern(0,0,e),r.embedPositionDetectionPattern(e.getWidth()-t,0,e),r.embedPositionDetectionPattern(0,e.getWidth()-t,e);var n=8;r.embedHorizontalSeparationPattern(0,n-1,e),r.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),r.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;r.embedVerticalSeparationPattern(i,0,e),r.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),r.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},r.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,o=i.length;a!==o;a++){var s=i[a];if(s>=0)for(var f=0;f!==o;f++){var u=i[f];u>=0&&r.isEmpty(t.get(u,s))&&r.embedPositionAdjustmentPattern(u-2,s-2,t)}}},r.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),r.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),r.VERSION_INFO_POLY=7973,r.TYPE_INFO_POLY=1335,r.TYPE_INFO_MASK_PATTERN=21522,r}(),ru=function(){function r(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return r.prototype.getDataBytes=function(){return this.dataBytes},r.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},r}(),Ni=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.calculateMaskPenalty=function(e){return Wr.applyMaskPenaltyRule1(e)+Wr.applyMaskPenaltyRule2(e)+Wr.applyMaskPenaltyRule3(e)+Wr.applyMaskPenaltyRule4(e)},r.encode=function(e,t,n){n===void 0&&(n=null);var i=r.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(rn.CHARACTER_SET)!==void 0;a&&(i=n.get(rn.CHARACTER_SET).toString());var o=this.chooseMode(e,i),s=new ut;if(o===Ce.BYTE&&(a||r.DEFAULT_BYTE_MODE_ENCODING!==i)){var f=Ge.getCharacterSetECIByName(i);f!==void 0&&this.appendECI(f,s)}this.appendModeInfo(o,s);var u=new ut;this.appendBytes(e,o,u,i);var c;if(n!==null&&n.get(rn.QR_VERSION)!==void 0){var l=Number.parseInt(n.get(rn.QR_VERSION).toString(),10);c=dr.getVersionForNumber(l);var d=this.calculateBitsNeeded(o,s,u,c);if(!this.willFit(d,c,t))throw new Se("Data too big for requested version")}else c=this.recommendVersion(t,o,s,u);var h=new ut;h.appendBitArray(s);var p=o===Ce.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(p,c,o,h),h.appendBitArray(u);var v=c.getECBlocksForLevel(t),_=c.getTotalCodewords()-v.getTotalECCodewords();this.terminateBits(_,h);var x=this.interleaveWithECBytes(h,c.getTotalCodewords(),_,v.getNumBlocks()),g=new Gn;g.setECLevel(t),g.setMode(o),g.setVersion(c);var y=c.getDimensionForVersion(),A=new eu(y,y),E=this.chooseMaskPattern(x,t,c,A);return g.setMaskPattern(E),Ri.buildMatrix(x,t,c,E,A),g.setMatrix(A),g},r.recommendVersion=function(e,t,n,i){var a=this.calculateBitsNeeded(t,n,i,dr.getVersionForNumber(1)),o=this.chooseVersion(a,e),s=this.calculateBitsNeeded(t,n,i,o);return this.chooseVersion(s,e)},r.calculateBitsNeeded=function(e,t,n,i){return t.getSize()+e.getCharacterCountBits(i)+n.getSize()},r.getAlphanumericCode=function(e){return e<r.ALPHANUMERIC_TABLE.length?r.ALPHANUMERIC_TABLE[e]:-1},r.chooseMode=function(e,t){if(t===void 0&&(t=null),Ge.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return Ce.KANJI;for(var n=!1,i=!1,a=0,o=e.length;a<o;++a){var s=e.charAt(a);if(r.isDigit(s))n=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return Ce.BYTE}return i?Ce.ALPHANUMERIC:n?Ce.NUMERIC:Ce.BYTE},r.isOnlyDoubleByteKanji=function(e){var t;try{t=Ft.encode(e,Ge.SJIS)}catch{return!1}var n=t.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=t[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},r.chooseMaskPattern=function(e,t,n,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,s=0;s<Gn.NUM_MASK_PATTERNS;s++){Ri.buildMatrix(e,t,n,s,i);var f=this.calculateMaskPenalty(i);f<a&&(a=f,o=s)}return o},r.chooseVersion=function(e,t){for(var n=1;n<=40;n++){var i=dr.getVersionForNumber(n);if(r.willFit(e,i,t))return i}throw new Se("Data too big")},r.willFit=function(e,t,n){var i=t.getTotalCodewords(),a=t.getECBlocksForLevel(n),o=a.getTotalECCodewords(),s=i-o,f=(e+7)/8;return s>=f},r.terminateBits=function(e,t){var n=e*8;if(t.getSize()>n)throw new Se("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(var i=0;i<4&&t.getSize()<n;++i)t.appendBit(!1);var a=t.getSize()&7;if(a>0)for(var i=a;i<8;i++)t.appendBit(!1);for(var o=e-t.getSizeInBytes(),i=0;i<o;++i)t.appendBits(i&1?17:236,8);if(t.getSize()!==n)throw new Se("Bits size does not equal capacity")},r.getNumDataBytesAndNumECBytesForBlockID=function(e,t,n,i,a,o){if(i>=n)throw new Se("Block ID too large");var s=e%n,f=n-s,u=Math.floor(e/n),c=u+1,l=Math.floor(t/n),d=l+1,h=u-l,p=c-d;if(h!==p)throw new Se("EC bytes mismatch");if(n!==f+s)throw new Se("RS blocks mismatch");if(e!==(l+h)*f+(d+p)*s)throw new Se("Total bytes mismatch");i<f?(a[0]=l,o[0]=h):(a[0]=d,o[0]=p)},r.interleaveWithECBytes=function(e,t,n,i){var a,o,s,f;if(e.getSizeInBytes()!==n)throw new Se("Number of bits and data bytes does not match");for(var u=0,c=0,l=0,d=new Array,h=0;h<i;++h){var p=new Int32Array(1),v=new Int32Array(1);r.getNumDataBytesAndNumECBytesForBlockID(t,n,i,h,p,v);var _=p[0],x=new Uint8Array(_);e.toBytes(8*u,x,0,_);var g=r.generateECBytes(x,v[0]);d.push(new ru(x,g)),c=Math.max(c,_),l=Math.max(l,g.length),u+=p[0]}if(n!==u)throw new Se("Data bytes does not match offset");for(var y=new ut,h=0;h<c;++h)try{for(var A=(a=void 0,Ni(d)),E=A.next();!E.done;E=A.next()){var S=E.value,x=S.getDataBytes();h<x.length&&y.appendBits(x[h],8)}}catch(R){a={error:R}}finally{try{E&&!E.done&&(o=A.return)&&o.call(A)}finally{if(a)throw a.error}}for(var h=0;h<l;++h)try{for(var T=(s=void 0,Ni(d)),F=T.next();!F.done;F=T.next()){var S=F.value,g=S.getErrorCorrectionBytes();h<g.length&&y.appendBits(g[h],8)}}catch(R){s={error:R}}finally{try{F&&!F.done&&(f=T.return)&&f.call(T)}finally{if(s)throw s.error}}if(t!==y.getSizeInBytes())throw new Se("Interleaving error: "+t+" and "+y.getSizeInBytes()+" differ.");return y},r.generateECBytes=function(e,t){for(var n=e.length,i=new Int32Array(n+t),a=0;a<n;a++)i[a]=e[a]&255;new Qf(Gt.QR_CODE_FIELD_256).encode(i,t);for(var o=new Uint8Array(t),a=0;a<t;a++)o[a]=i[n+a];return o},r.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},r.appendLengthInfo=function(e,t,n,i){var a=n.getCharacterCountBits(t);if(e>=1<<a)throw new Se(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},r.appendBytes=function(e,t,n,i){switch(t){case Ce.NUMERIC:r.appendNumericBytes(e,n);break;case Ce.ALPHANUMERIC:r.appendAlphanumericBytes(e,n);break;case Ce.BYTE:r.append8BitBytes(e,n,i);break;case Ce.KANJI:r.appendKanjiBytes(e,n);break;default:throw new Se("Invalid mode: "+t)}},r.getDigit=function(e){return e.charCodeAt(0)-48},r.isDigit=function(e){var t=r.getDigit(e);return t>=0&&t<=9},r.appendNumericBytes=function(e,t){for(var n=e.length,i=0;i<n;){var a=r.getDigit(e.charAt(i));if(i+2<n){var o=r.getDigit(e.charAt(i+1)),s=r.getDigit(e.charAt(i+2));t.appendBits(a*100+o*10+s,10),i+=3}else if(i+1<n){var o=r.getDigit(e.charAt(i+1));t.appendBits(a*10+o,7),i+=2}else t.appendBits(a,4),i++}},r.appendAlphanumericBytes=function(e,t){for(var n=e.length,i=0;i<n;){var a=r.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Se;if(i+1<n){var o=r.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new Se;t.appendBits(a*45+o,11),i+=2}else t.appendBits(a,6),i++}},r.append8BitBytes=function(e,t,n){var i;try{i=Ft.encode(e,n)}catch(f){throw new Se(f)}for(var a=0,o=i.length;a!==o;a++){var s=i[a];t.appendBits(s,8)}},r.appendKanjiBytes=function(e,t){var n;try{n=Ft.encode(e,Ge.SJIS)}catch(l){throw new Se(l)}for(var i=n.length,a=0;a<i;a+=2){var o=n[a]&255,s=n[a+1]&255,f=o<<8&4294967295|s,u=-1;if(f>=33088&&f<=40956?u=f-33088:f>=57408&&f<=60351&&(u=f-49472),u===-1)throw new Se("Invalid byte sequence");var c=(u>>8)*192+(u&255);t.appendBits(c,13)}},r.appendECI=function(e,t){t.appendBits(Ce.ECI.getBits(),4),t.appendBits(e.getValue(),8)},r.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),r.DEFAULT_BYTE_MODE_ENCODING=Ge.UTF8.getName(),r})();var nu=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){nu(e,r);function e(t,n,i,a,o,s,f,u){var c=r.call(this,s,f)||this;if(c.yuvData=t,c.dataWidth=n,c.dataHeight=i,c.left=a,c.top=o,a+s>n||o+f>i)throw new ee("Crop rectangle does not fit within image data.");return u&&c.reverseHorizontal(s,f),c}return e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new ee("Requested row is outside the image: "+t);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return Ie.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=t*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Ie.arraycopy(this.yuvData,o,a,0,i),a;for(var s=0;s<n;s++){var f=s*t;Ie.arraycopy(this.yuvData,o,a,f,t),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*n),a=this.yuvData,o=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var f=s*t,u=0;u<t;u++){var c=a[o+u*e.THUMBNAIL_SCALE_FACTOR]&255;i[f+u]=4278190080|c*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,n){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<n;a++,o+=this.dataWidth)for(var s=o+t/2,f=o,u=o+t-1;f<s;f++,u--){var c=i[f];i[f]=i[u],i[u]=c}},e.prototype.invert=function(){return new $n(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(_n);var iu=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){iu(e,r);function e(t,n,i,a,o,s,f){var u=r.call(this,n,i)||this;if(u.dataWidth=a,u.dataHeight=o,u.left=s,u.top=f,t.BYTES_PER_ELEMENT===4){for(var c=n*i,l=new Uint8ClampedArray(c),d=0;d<c;d++){var h=t[d],p=h>>16&255,v=h>>7&510,_=h&255;l[d]=(p+v+_)/4&255}u.luminances=l}else u.luminances=t;if(a===void 0&&(u.dataWidth=n),o===void 0&&(u.dataHeight=i),s===void 0&&(u.left=0),f===void 0&&(u.top=0),u.left+n>u.dataWidth||u.top+i>u.dataHeight)throw new ee("Crop rectangle does not fit within image data.");return u}return e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new ee("Requested row is outside the image: "+t);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return Ie.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=t*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Ie.arraycopy(this.luminances,o,a,0,i),a;for(var s=0;s<n;s++){var f=s*t;Ie.arraycopy(this.luminances,o,a,f,t),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+t,this.top+n)},e.prototype.invert=function(){return new $n(this)},e})(_n);var au=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){au(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e})(Ge);(function(){function r(){}return r.ISO_8859_1=Ge.ISO8859_1,r})();var ou=function(){function r(e){this.previous=e}return r.prototype.getPrevious=function(){return this.previous},r}(),su=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),va=function(r){su(e,r);function e(t,n,i){var a=r.call(this,t)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(t,n){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,n){return new e(this,t,n)},e.prototype.addBinaryShift=function(t,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,n)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+Qe.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e}(ou),fu=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){fu(e,r);function e(t,n,i){var a=r.call(this,t,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(t,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(t,n){return new e(this,t,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e})(va);var jr=0,vn=1,Er=2,ga=3,Xr=4;new va(null,0,0);var uu=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function cu(r){var e,t;try{for(var n=uu(r),i=n.next();!i.done;i=n.next()){var a=i.value;ct.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r[jr][Xr]=0,r[vn][Xr]=0,r[vn][jr]=28,r[ga][Xr]=0,r[Er][Xr]=0,r[Er][jr]=15,r}cu(ct.createInt32Array(6,6));globalThis&&globalThis.__values;function lu(r){var e=je.getCharCode(" "),t=je.getCharCode("."),n=je.getCharCode(",");r[jr][e]=1;for(var i=je.getCharCode("Z"),a=je.getCharCode("A"),o=a;o<=i;o++)r[jr][o]=o-a+2;r[vn][e]=1;for(var s=je.getCharCode("z"),f=je.getCharCode("a"),o=f;o<=s;o++)r[vn][o]=o-f+2;r[Er][e]=1;for(var u=je.getCharCode("9"),c=je.getCharCode("0"),o=c;o<=u;o++)r[Er][o]=o-c+2;r[Er][n]=12,r[Er][t]=13;for(var l=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],d=0;d<l.length;d++)r[ga][je.getCharCode(l[d])]=d;for(var h=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],d=0;d<h.length;d++)je.getCharCode(h[d])>0&&(r[Xr][je.getCharCode(h[d])]=d);return r}lu(ct.createInt32Array(5,256));globalThis&&globalThis.__values;globalThis&&globalThis.__values;const ei=new Map([["aztec",Y.AZTEC],["code_39",Y.CODE_39],["code_128",Y.CODE_128],["data_matrix",Y.DATA_MATRIX],["ean_8",Y.EAN_8],["ean_13",Y.EAN_13],["itf",Y.ITF],["pdf417",Y.PDF_417],["qr_code",Y.QR_CODE],["upc_a",Y.UPC_A],["upc_e",Y.UPC_E]]),du=new Map(Array.from(ei).map(([r,e])=>[e,r])),Mi=Array.from(ei.keys());class Pi{constructor(e){const t=(e==null?void 0:e.formats)??Mi;if(t.length===0)throw new TypeError("");if(t.includes("unknown"))throw new TypeError("");const n=new Map([[Te.POSSIBLE_FORMATS,t.map(i=>ei.get(i))]]);this.reader=new $f(n)}static async getSupportedFormats(){return Mi}async detect(e){let t,n=[];try{t=this.reader.decode(e)}catch{return n}let i=this.wrapResult(t);return n.push(i),n}wrapResult(e){const t=[];let n,i,a,o,s=e.getResultPoints();n=s[0].getX(),i=s[0].getY(),a=s[0].getX(),o=s[0].getY(),s.forEach(h=>{const p=h.getX(),v=h.getY();n=Math.min(p,n),i=Math.min(v,i),a=Math.max(p,a),o=Math.max(v,o)});let f=new DOMRectReadOnly(n,i,a-n,o-i),u={x:f.left,y:f.top},c={x:f.right,y:f.top},l={x:f.right,y:f.bottom},d={x:f.left,y:f.bottom};return t.push(u),t.push(c),t.push(l),t.push(d),{boundingBox:f,rawValue:e.getText(),format:du.get(e.getBarcodeFormat()),cornerPoints:t}}}let hu=class{constructor(e){this.reader=new Pi(e)}static async getSupportedFormats(){return Pi.getSupportedFormats()}async detect(e){return await this.reader.detect(e)}};function pu(r){let e,t;return{c(){e=de("video"),t=ne("Your browser doesn't support Barcode Detector"),this.h()},l(n){e=he(n,"VIDEO",{id:!0,class:!0});var i=pe(e);t=ie(i,"Your browser doesn't support Barcode Detector"),i.forEach(w),this.h()},h(){me(e,"id","videoElement"),me(e,"class","svelte-1m5p63n")},m(n,i){L(n,e,i),De(e,t),r[2](e)},p:Jt,i:Jt,o:Jt,d(n){n&&w(e),r[2](null)}}}function vu(r,e,t){let n,i;hr(r,Sr,x=>t(5,n=x)),hr(r,tr,x=>t(6,i=x));let{videoElement:a=void 0}=e,o,s=!1,f="BarcodeDetector"in window?new BarcodeDetector:new hu;const u=Xn(),c=(x,g)=>x.length===g.length&&x.every((y,A)=>y.rawValue===g[A].rawValue),l=async()=>{if(a){try{o=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1})}catch(x){throw on(Sr,n=x.stack?x:new Error(x),n),x}t(0,a.onloadeddata=()=>u("videoReady"),a),t(0,a.srcObject=o,a),await a.play(),s=!0}},d=()=>{s&&(o==null||o.getVideoTracks().forEach(x=>x.stop()),s=!1)};vr(async()=>{document.addEventListener("visibilitychange",h),v()}),Yr(()=>{document.removeEventListener("visibilitychange",h),d()});const h=()=>document.visibilityState==="visible"?v():d(),p=x=>new Promise(g=>setTimeout(g,x));let{refreshBarcodes:v=async()=>{if(!(!a||document.visibilityState==="hidden")){(!s||o.active)&&await l(),tr.reset();try{let x=[];do{const g=await f.detect(a);if(await p(Wa?500:50),g.length){a==null||a.pause();const y=await f.detect(a);c(g,y)?x=y:a.play()}}while(document.visibilityState==="visible"&&!x.length);on(tr,i=x,i)}catch(x){throw on(Sr,n=x.stack?x:new Error(x),n),x}finally{d()}}}}=e;function _(x){Ne[x?"unshift":"push"](()=>{a=x,t(0,a)})}return r.$$set=x=>{"videoElement"in x&&t(0,a=x.videoElement),"refreshBarcodes"in x&&t(1,v=x.refreshBarcodes)},[a,v,_]}class gu extends Le{constructor(e){super(),Be(this,e,vu,pu,Fe,{videoElement:0,refreshBarcodes:1})}}function _u(r){let e;return{c(){e=de("canvas"),this.h()},l(t){e=he(t,"CANVAS",{id:!0,width:!0,height:!0,class:!0}),pe(e).forEach(w),this.h()},h(){me(e,"id","canvasElement"),me(e,"width",r[1]),me(e,"height",r[2]),me(e,"class",Ra("")+" svelte-15r1420")},m(t,n){L(t,e,n),r[4](e)},p(t,[n]){n&2&&me(e,"width",t[1]),n&4&&me(e,"height",t[2])},i:Jt,o:Jt,d(t){t&&w(e),r[4](null)}}}function xu(r,e,t){let n;hr(r,tr,c=>t(3,n=c));let{width:i}=e,{height:a}=e,{canvasElement:o=void 0}=e;const s=(c,l,d)=>{const h="30, 255, 0",p="163, 90, 7";if(d.preference===!0)c.fillStyle=`rgba(${h}, 0.2)`,c.strokeStyle=`rgb(${h})`;else if(d.preference===!1)c.fillStyle=`rgba(${p}, 0.4)`,c.strokeStyle=`rgb(${p})`;else{const{x:v,y:_}=f(d.cornerPoints),x=c.createRadialGradient(v,_,10,v,_,100),g=c.createLinearGradient(d.boundingBox.left,d.boundingBox.top,d.boundingBox.right,d.boundingBox.bottom);x.addColorStop(0,`rgba(${h}, 0.2)`),x.addColorStop(.5,`rgba(${p}, 0.4)`);const y=d.boundingBox.width,A=d.boundingBox.width/10;for(let E=0;E<y;E=E+A){g.addColorStop(E/y,`rgb(${h})`);const S=(E+A/2)/y;g.addColorStop(S<=1?S:1,`rgb(${p})`)}c.strokeStyle=g,c.lineWidth=2,c.fillStyle=x}c.stroke(l),c.fill(l)},f=c=>c.reduce((l,d)=>({x:l.x+d.x/4,y:l.y+d.y/4}),{x:0,y:0});function u(c){Ne[c?"unshift":"push"](()=>{o=c,t(0,o)})}return r.$$set=c=>{"width"in c&&t(1,i=c.width),"height"in c&&t(2,a=c.height),"canvasElement"in c&&t(0,o=c.canvasElement)},r.$$.update=()=>{if(r.$$.dirty&15){const c=o==null?void 0:o.getContext("2d");c&&(c.clearRect(0,0,i,a),n.forEach(l=>{const d=new Path2D;c.lineWidth=2,d.moveTo(l.cornerPoints[0].x,l.cornerPoints[0].y),l.cornerPoints.forEach(h=>d.lineTo(h.x,h.y)),d.closePath(),s(c,d,l),n.length>1&&(o==null||o.addEventListener("click",h=>{c.isPointInPath(d,h.offsetX,h.offsetY)?(c.fillStyle="rgba(30, 255, 0, 0.2)",tr.select(l)):(c.fillStyle="transparent",tr.select(void 0))}))}))}},[o,i,a,n,u]}class mu extends Le{constructor(e){super(),Be(this,e,xu,_u,Fe,{width:1,height:2,canvasElement:0})}}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var yu={ANCHOR:"mdc-menu-surface--anchor",ANIMATING_CLOSED:"mdc-menu-surface--animating-closed",ANIMATING_OPEN:"mdc-menu-surface--animating-open",FIXED:"mdc-menu-surface--fixed",IS_OPEN_BELOW:"mdc-menu-surface--is-open-below",OPEN:"mdc-menu-surface--open",ROOT:"mdc-menu-surface"},Au={CLOSED_EVENT:"MDCMenuSurface:closed",CLOSING_EVENT:"MDCMenuSurface:closing",OPENED_EVENT:"MDCMenuSurface:opened",FOCUSABLE_ELEMENTS:["button:not(:disabled)",'[href]:not([aria-disabled="true"])',"input:not(:disabled)","select:not(:disabled)","textarea:not(:disabled)",'[tabindex]:not([tabindex="-1"]):not([aria-disabled="true"])'].join(", ")},Ur={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67,TOUCH_EVENT_WAIT_MS:30},Me;(function(r){r[r.BOTTOM=1]="BOTTOM",r[r.CENTER=2]="CENTER",r[r.RIGHT=4]="RIGHT",r[r.FLIP_RTL=8]="FLIP_RTL"})(Me||(Me={}));var Cr;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=4]="TOP_RIGHT",r[r.BOTTOM_LEFT=1]="BOTTOM_LEFT",r[r.BOTTOM_RIGHT=5]="BOTTOM_RIGHT",r[r.TOP_START=8]="TOP_START",r[r.TOP_END=12]="TOP_END",r[r.BOTTOM_START=9]="BOTTOM_START",r[r.BOTTOM_END=13]="BOTTOM_END"})(Cr||(Cr={}));/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Zt,Ut,re={LIST_ITEM_ACTIVATED_CLASS:"mdc-list-item--activated",LIST_ITEM_CLASS:"mdc-list-item",LIST_ITEM_DISABLED_CLASS:"mdc-list-item--disabled",LIST_ITEM_SELECTED_CLASS:"mdc-list-item--selected",LIST_ITEM_TEXT_CLASS:"mdc-list-item__text",LIST_ITEM_PRIMARY_TEXT_CLASS:"mdc-list-item__primary-text",ROOT:"mdc-list"};Zt={},Zt[""+re.LIST_ITEM_ACTIVATED_CLASS]="mdc-list-item--activated",Zt[""+re.LIST_ITEM_CLASS]="mdc-list-item",Zt[""+re.LIST_ITEM_DISABLED_CLASS]="mdc-list-item--disabled",Zt[""+re.LIST_ITEM_SELECTED_CLASS]="mdc-list-item--selected",Zt[""+re.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-list-item__primary-text",Zt[""+re.ROOT]="mdc-list";var xr=(Ut={},Ut[""+re.LIST_ITEM_ACTIVATED_CLASS]="mdc-deprecated-list-item--activated",Ut[""+re.LIST_ITEM_CLASS]="mdc-deprecated-list-item",Ut[""+re.LIST_ITEM_DISABLED_CLASS]="mdc-deprecated-list-item--disabled",Ut[""+re.LIST_ITEM_SELECTED_CLASS]="mdc-deprecated-list-item--selected",Ut[""+re.LIST_ITEM_TEXT_CLASS]="mdc-deprecated-list-item__text",Ut[""+re.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-deprecated-list-item__primary-text",Ut[""+re.ROOT]="mdc-deprecated-list",Ut),qt={ACTION_EVENT:"MDCList:action",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:'[role="checkbox"][aria-checked="true"]',ARIA_CHECKED_RADIO_SELECTOR:'[role="radio"][aria-checked="true"]',ARIA_CURRENT:"aria-current",ARIA_DISABLED:"aria-disabled",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:'[role="checkbox"]',ARIA_SELECTED:"aria-selected",ARIA_INTERACTIVE_ROLES_SELECTOR:'[role="listbox"], [role="menu"]',ARIA_MULTI_SELECTABLE_SELECTOR:'[aria-multiselectable="true"]',CHECKBOX_RADIO_SELECTOR:'input[type="checkbox"], input[type="radio"]',CHECKBOX_SELECTOR:'input[type="checkbox"]',CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:`
    .`+re.LIST_ITEM_CLASS+` button:not(:disabled),
    .`+re.LIST_ITEM_CLASS+` a,
    .`+xr[re.LIST_ITEM_CLASS]+` button:not(:disabled),
    .`+xr[re.LIST_ITEM_CLASS]+` a
  `,DEPRECATED_SELECTOR:".mdc-deprecated-list",FOCUSABLE_CHILD_ELEMENTS:`
    .`+re.LIST_ITEM_CLASS+` button:not(:disabled),
    .`+re.LIST_ITEM_CLASS+` a,
    .`+re.LIST_ITEM_CLASS+` input[type="radio"]:not(:disabled),
    .`+re.LIST_ITEM_CLASS+` input[type="checkbox"]:not(:disabled),
    .`+xr[re.LIST_ITEM_CLASS]+` button:not(:disabled),
    .`+xr[re.LIST_ITEM_CLASS]+` a,
    .`+xr[re.LIST_ITEM_CLASS]+` input[type="radio"]:not(:disabled),
    .`+xr[re.LIST_ITEM_CLASS]+` input[type="checkbox"]:not(:disabled)
  `,RADIO_SELECTOR:'input[type="radio"]',SELECTED_ITEM_SELECTOR:'[aria-selected="true"], [aria-current="true"]'},Ue={UNSET_INDEX:-1,TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS:300};/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Eu=["input","button","textarea","select"],ur=function(r){var e=r.target;if(e){var t=(""+e.tagName).toLowerCase();Eu.indexOf(t)===-1&&r.preventDefault()}};/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function Iu(){var r={bufferClearTimeout:0,currentFirstChar:"",sortedIndexCursor:0,typeaheadBuffer:""};return r}function Su(r,e){for(var t=new Map,n=0;n<r;n++){var i=e(n).trim();if(i){var a=i[0].toLowerCase();t.has(a)||t.set(a,[]),t.get(a).push({text:i.toLowerCase(),index:n})}}return t.forEach(function(o){o.sort(function(s,f){return s.index-f.index})}),t}function Wn(r,e){var t=r.nextChar,n=r.focusItemAtIndex,i=r.sortedIndexByFirstChar,a=r.focusedItemIndex,o=r.skipFocus,s=r.isItemAtIndexDisabled;clearTimeout(e.bufferClearTimeout),e.bufferClearTimeout=setTimeout(function(){xa(e)},Ue.TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS),e.typeaheadBuffer=e.typeaheadBuffer+t;var f;return e.typeaheadBuffer.length===1?f=Cu(i,a,s,e):f=wu(i,s,e),f!==-1&&!o&&n(f),f}function Cu(r,e,t,n){var i=n.typeaheadBuffer[0],a=r.get(i);if(!a)return-1;if(i===n.currentFirstChar&&a[n.sortedIndexCursor].index===e){n.sortedIndexCursor=(n.sortedIndexCursor+1)%a.length;var o=a[n.sortedIndexCursor].index;if(!t(o))return o}n.currentFirstChar=i;var s=-1,f;for(f=0;f<a.length;f++)if(!t(a[f].index)){s=f;break}for(;f<a.length;f++)if(a[f].index>e&&!t(a[f].index)){s=f;break}return s!==-1?(n.sortedIndexCursor=s,a[n.sortedIndexCursor].index):-1}function wu(r,e,t){var n=t.typeaheadBuffer[0],i=r.get(n);if(!i)return-1;var a=i[t.sortedIndexCursor];if(a.text.lastIndexOf(t.typeaheadBuffer,0)===0&&!e(a.index))return a.index;for(var o=(t.sortedIndexCursor+1)%i.length,s=-1;o!==t.sortedIndexCursor;){var f=i[o],u=f.text.lastIndexOf(t.typeaheadBuffer,0)===0,c=!e(f.index);if(u&&c){s=o;break}o=(o+1)%i.length}return s!==-1?(t.sortedIndexCursor=s,i[t.sortedIndexCursor].index):-1}function _a(r){return r.typeaheadBuffer.length>0}function xa(r){r.typeaheadBuffer=""}function Li(r,e){var t=r.event,n=r.isTargetListItem,i=r.focusedItemIndex,a=r.focusItemAtIndex,o=r.sortedIndexByFirstChar,s=r.isItemAtIndexDisabled,f=tt(t)==="ArrowLeft",u=tt(t)==="ArrowUp",c=tt(t)==="ArrowRight",l=tt(t)==="ArrowDown",d=tt(t)==="Home",h=tt(t)==="End",p=tt(t)==="Enter",v=tt(t)==="Spacebar";if(t.ctrlKey||t.metaKey||f||u||c||l||d||h||p)return-1;var _=!v&&t.key.length===1;if(_){ur(t);var x={focusItemAtIndex:a,focusedItemIndex:i,nextChar:t.key.toLowerCase(),sortedIndexByFirstChar:o,skipFocus:!1,isItemAtIndexDisabled:s};return Wn(x,e)}if(!v)return-1;n&&ur(t);var g=n&&_a(e);if(g){var x={focusItemAtIndex:a,focusedItemIndex:i,nextChar:" ",sortedIndexByFirstChar:o,skipFocus:!1,isItemAtIndexDisabled:s};return Wn(x,e)}return-1}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function bu(r){return r instanceof Array}var Tu=function(r){jt(e,r);function e(t){var n=r.call(this,It(It({},e.defaultAdapter),t))||this;return n.wrapFocus=!1,n.isVertical=!0,n.isSingleSelectionList=!1,n.selectedIndex=Ue.UNSET_INDEX,n.focusedItemIndex=Ue.UNSET_INDEX,n.useActivatedClass=!1,n.useSelectedAttr=!1,n.ariaCurrentAttrValue=null,n.isCheckboxList=!1,n.isRadioList=!1,n.hasTypeahead=!1,n.typeaheadState=Iu(),n.sortedIndexByFirstChar=new Map,n}return Object.defineProperty(e,"strings",{get:function(){return qt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return re},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Ue},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClassForElementIndex:function(){},focusItemAtIndex:function(){},getAttributeForElementIndex:function(){return null},getFocusedElementIndex:function(){return 0},getListItemCount:function(){return 0},hasCheckboxAtIndex:function(){return!1},hasRadioAtIndex:function(){return!1},isCheckboxCheckedAtIndex:function(){return!1},isFocusInsideList:function(){return!1},isRootFocused:function(){return!1},listItemAtIndexHasClass:function(){return!1},notifyAction:function(){},removeClassForElementIndex:function(){},setAttributeForElementIndex:function(){},setCheckedCheckboxOrRadioAtIndex:function(){},setTabIndexForListItemChildren:function(){},getPrimaryTextAtIndex:function(){return""}}},enumerable:!1,configurable:!0}),e.prototype.layout=function(){this.adapter.getListItemCount()!==0&&(this.adapter.hasCheckboxAtIndex(0)?this.isCheckboxList=!0:this.adapter.hasRadioAtIndex(0)?this.isRadioList=!0:this.maybeInitializeSingleSelection(),this.hasTypeahead&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex()))},e.prototype.getFocusedItemIndex=function(){return this.focusedItemIndex},e.prototype.setWrapFocus=function(t){this.wrapFocus=t},e.prototype.setVerticalOrientation=function(t){this.isVertical=t},e.prototype.setSingleSelection=function(t){this.isSingleSelectionList=t,t&&(this.maybeInitializeSingleSelection(),this.selectedIndex=this.getSelectedIndexFromDOM())},e.prototype.maybeInitializeSingleSelection=function(){var t=this.getSelectedIndexFromDOM();if(t!==Ue.UNSET_INDEX){var n=this.adapter.listItemAtIndexHasClass(t,re.LIST_ITEM_ACTIVATED_CLASS);n&&this.setUseActivatedClass(!0),this.isSingleSelectionList=!0,this.selectedIndex=t}},e.prototype.getSelectedIndexFromDOM=function(){for(var t=Ue.UNSET_INDEX,n=this.adapter.getListItemCount(),i=0;i<n;i++){var a=this.adapter.listItemAtIndexHasClass(i,re.LIST_ITEM_SELECTED_CLASS),o=this.adapter.listItemAtIndexHasClass(i,re.LIST_ITEM_ACTIVATED_CLASS);if(a||o){t=i;break}}return t},e.prototype.setHasTypeahead=function(t){this.hasTypeahead=t,t&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex())},e.prototype.isTypeaheadInProgress=function(){return this.hasTypeahead&&_a(this.typeaheadState)},e.prototype.setUseActivatedClass=function(t){this.useActivatedClass=t},e.prototype.setUseSelectedAttribute=function(t){this.useSelectedAttr=t},e.prototype.getSelectedIndex=function(){return this.selectedIndex},e.prototype.setSelectedIndex=function(t,n){var i=n===void 0?{}:n,a=i.forceUpdate;this.isIndexValid(t)&&(this.isCheckboxList?this.setCheckboxAtIndex(t):this.isRadioList?this.setRadioAtIndex(t):this.setSingleSelectionAtIndex(t,{forceUpdate:a}))},e.prototype.handleFocusIn=function(t){t>=0&&(this.focusedItemIndex=t,this.adapter.setAttributeForElementIndex(t,"tabindex","0"),this.adapter.setTabIndexForListItemChildren(t,"0"))},e.prototype.handleFocusOut=function(t){var n=this;t>=0&&(this.adapter.setAttributeForElementIndex(t,"tabindex","-1"),this.adapter.setTabIndexForListItemChildren(t,"-1")),setTimeout(function(){n.adapter.isFocusInsideList()||n.setTabindexToFirstSelectedOrFocusedItem()},0)},e.prototype.handleKeydown=function(t,n,i){var a=this,o=tt(t)==="ArrowLeft",s=tt(t)==="ArrowUp",f=tt(t)==="ArrowRight",u=tt(t)==="ArrowDown",c=tt(t)==="Home",l=tt(t)==="End",d=tt(t)==="Enter",h=tt(t)==="Spacebar",p=t.key==="A"||t.key==="a";if(this.adapter.isRootFocused()){if(s||l?(t.preventDefault(),this.focusLastElement()):(u||c)&&(t.preventDefault(),this.focusFirstElement()),this.hasTypeahead){var v={event:t,focusItemAtIndex:function(g){a.focusItemAtIndex(g)},focusedItemIndex:-1,isTargetListItem:n,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(g){return a.adapter.listItemAtIndexHasClass(g,re.LIST_ITEM_DISABLED_CLASS)}};Li(v,this.typeaheadState)}return}var _=this.adapter.getFocusedElementIndex();if(!(_===-1&&(_=i,_<0))){if(this.isVertical&&u||!this.isVertical&&f)ur(t),this.focusNextElement(_);else if(this.isVertical&&s||!this.isVertical&&o)ur(t),this.focusPrevElement(_);else if(c)ur(t),this.focusFirstElement();else if(l)ur(t),this.focusLastElement();else if(p&&t.ctrlKey&&this.isCheckboxList)t.preventDefault(),this.toggleAll(this.selectedIndex===Ue.UNSET_INDEX?[]:this.selectedIndex);else if((d||h)&&n){var x=t.target;if(x&&x.tagName==="A"&&d||(ur(t),this.adapter.listItemAtIndexHasClass(_,re.LIST_ITEM_DISABLED_CLASS)))return;this.isTypeaheadInProgress()||(this.isSelectableList()&&this.setSelectedIndexOnAction(_),this.adapter.notifyAction(_))}if(this.hasTypeahead){var v={event:t,focusItemAtIndex:function(y){a.focusItemAtIndex(y)},focusedItemIndex:this.focusedItemIndex,isTargetListItem:n,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(y){return a.adapter.listItemAtIndexHasClass(y,re.LIST_ITEM_DISABLED_CLASS)}};Li(v,this.typeaheadState)}}},e.prototype.handleClick=function(t,n){t!==Ue.UNSET_INDEX&&(this.adapter.listItemAtIndexHasClass(t,re.LIST_ITEM_DISABLED_CLASS)||(this.isSelectableList()&&this.setSelectedIndexOnAction(t,n),this.adapter.notifyAction(t)))},e.prototype.focusNextElement=function(t){var n=this.adapter.getListItemCount(),i=t+1;if(i>=n)if(this.wrapFocus)i=0;else return t;return this.focusItemAtIndex(i),i},e.prototype.focusPrevElement=function(t){var n=t-1;if(n<0)if(this.wrapFocus)n=this.adapter.getListItemCount()-1;else return t;return this.focusItemAtIndex(n),n},e.prototype.focusFirstElement=function(){return this.focusItemAtIndex(0),0},e.prototype.focusLastElement=function(){var t=this.adapter.getListItemCount()-1;return this.focusItemAtIndex(t),t},e.prototype.focusInitialElement=function(){var t=this.getFirstSelectedOrFocusedItemIndex();return this.focusItemAtIndex(t),t},e.prototype.setEnabled=function(t,n){this.isIndexValid(t)&&(n?(this.adapter.removeClassForElementIndex(t,re.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(t,qt.ARIA_DISABLED,"false")):(this.adapter.addClassForElementIndex(t,re.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(t,qt.ARIA_DISABLED,"true")))},e.prototype.setSingleSelectionAtIndex=function(t,n){var i=n===void 0?{}:n,a=i.forceUpdate;if(!(this.selectedIndex===t&&!a)){var o=re.LIST_ITEM_SELECTED_CLASS;this.useActivatedClass&&(o=re.LIST_ITEM_ACTIVATED_CLASS),this.selectedIndex!==Ue.UNSET_INDEX&&this.adapter.removeClassForElementIndex(this.selectedIndex,o),this.setAriaForSingleSelectionAtIndex(t),this.setTabindexAtIndex(t),t!==Ue.UNSET_INDEX&&this.adapter.addClassForElementIndex(t,o),this.selectedIndex=t}},e.prototype.setAriaForSingleSelectionAtIndex=function(t){this.selectedIndex===Ue.UNSET_INDEX&&(this.ariaCurrentAttrValue=this.adapter.getAttributeForElementIndex(t,qt.ARIA_CURRENT));var n=this.ariaCurrentAttrValue!==null,i=n?qt.ARIA_CURRENT:qt.ARIA_SELECTED;if(this.selectedIndex!==Ue.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex,i,"false"),t!==Ue.UNSET_INDEX){var a=n?this.ariaCurrentAttrValue:"true";this.adapter.setAttributeForElementIndex(t,i,a)}},e.prototype.getSelectionAttribute=function(){return this.useSelectedAttr?qt.ARIA_SELECTED:qt.ARIA_CHECKED},e.prototype.setRadioAtIndex=function(t){var n=this.getSelectionAttribute();this.adapter.setCheckedCheckboxOrRadioAtIndex(t,!0),this.selectedIndex!==Ue.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex,n,"false"),this.adapter.setAttributeForElementIndex(t,n,"true"),this.selectedIndex=t},e.prototype.setCheckboxAtIndex=function(t){for(var n=this.getSelectionAttribute(),i=0;i<this.adapter.getListItemCount();i++){var a=!1;t.indexOf(i)>=0&&(a=!0),this.adapter.setCheckedCheckboxOrRadioAtIndex(i,a),this.adapter.setAttributeForElementIndex(i,n,a?"true":"false")}this.selectedIndex=t},e.prototype.setTabindexAtIndex=function(t){this.focusedItemIndex===Ue.UNSET_INDEX&&t!==0?this.adapter.setAttributeForElementIndex(0,"tabindex","-1"):this.focusedItemIndex>=0&&this.focusedItemIndex!==t&&this.adapter.setAttributeForElementIndex(this.focusedItemIndex,"tabindex","-1"),!(this.selectedIndex instanceof Array)&&this.selectedIndex!==t&&this.adapter.setAttributeForElementIndex(this.selectedIndex,"tabindex","-1"),t!==Ue.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(t,"tabindex","0")},e.prototype.isSelectableList=function(){return this.isSingleSelectionList||this.isCheckboxList||this.isRadioList},e.prototype.setTabindexToFirstSelectedOrFocusedItem=function(){var t=this.getFirstSelectedOrFocusedItemIndex();this.setTabindexAtIndex(t)},e.prototype.getFirstSelectedOrFocusedItemIndex=function(){return this.isSelectableList()?typeof this.selectedIndex=="number"&&this.selectedIndex!==Ue.UNSET_INDEX?this.selectedIndex:bu(this.selectedIndex)&&this.selectedIndex.length>0?this.selectedIndex.reduce(function(t,n){return Math.min(t,n)}):0:Math.max(this.focusedItemIndex,0)},e.prototype.isIndexValid=function(t){var n=this;if(t instanceof Array){if(!this.isCheckboxList)throw new Error("MDCListFoundation: Array of index is only supported for checkbox based list");return t.length===0?!0:t.some(function(i){return n.isIndexInRange(i)})}else if(typeof t=="number"){if(this.isCheckboxList)throw new Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+t);return this.isIndexInRange(t)||this.isSingleSelectionList&&t===Ue.UNSET_INDEX}else return!1},e.prototype.isIndexInRange=function(t){var n=this.adapter.getListItemCount();return t>=0&&t<n},e.prototype.setSelectedIndexOnAction=function(t,n){n===void 0&&(n=!0),this.isCheckboxList?this.toggleCheckboxAtIndex(t,n):this.setSelectedIndex(t)},e.prototype.toggleCheckboxAtIndex=function(t,n){var i=this.getSelectionAttribute(),a=this.adapter.isCheckboxCheckedAtIndex(t);n&&(a=!a,this.adapter.setCheckedCheckboxOrRadioAtIndex(t,a)),this.adapter.setAttributeForElementIndex(t,i,a?"true":"false");var o=this.selectedIndex===Ue.UNSET_INDEX?[]:this.selectedIndex.slice();a?o.push(t):o=o.filter(function(s){return s!==t}),this.selectedIndex=o},e.prototype.focusItemAtIndex=function(t){this.adapter.focusItemAtIndex(t),this.focusedItemIndex=t},e.prototype.toggleAll=function(t){var n=this.adapter.getListItemCount();if(t.length===n)this.setCheckboxAtIndex([]);else{for(var i=[],a=0;a<n;a++)(!this.adapter.listItemAtIndexHasClass(a,re.LIST_ITEM_DISABLED_CLASS)||t.indexOf(a)>-1)&&i.push(a);this.setCheckboxAtIndex(i)}},e.prototype.typeaheadMatchItem=function(t,n,i){var a=this;i===void 0&&(i=!1);var o={focusItemAtIndex:function(s){a.focusItemAtIndex(s)},focusedItemIndex:n||this.focusedItemIndex,nextChar:t,sortedIndexByFirstChar:this.sortedIndexByFirstChar,skipFocus:i,isItemAtIndexDisabled:function(s){return a.adapter.listItemAtIndexHasClass(s,re.LIST_ITEM_DISABLED_CLASS)}};return Wn(o,this.typeaheadState)},e.prototype.typeaheadInitSortedIndex=function(){return Su(this.adapter.getListItemCount(),this.adapter.getPrimaryTextAtIndex)},e.prototype.clearTypeaheadBuffer=function(){xa(this.typeaheadState)},e}(Rr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ma=function(r){jt(e,r);function e(t){var n=r.call(this,It(It({},e.defaultAdapter),t))||this;return n.isSurfaceOpen=!1,n.isQuickOpen=!1,n.isHoistedElement=!1,n.isFixedPosition=!1,n.isHorizontallyCenteredOnViewport=!1,n.maxHeight=0,n.openAnimationEndTimerId=0,n.closeAnimationEndTimerId=0,n.animationRequestId=0,n.anchorCorner=Cr.TOP_START,n.originCorner=Cr.TOP_START,n.anchorMargin={top:0,right:0,bottom:0,left:0},n.position={x:0,y:0},n}return Object.defineProperty(e,"cssClasses",{get:function(){return yu},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Au},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Ur},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Corner",{get:function(){return Cr},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},hasAnchor:function(){return!1},isElementInContainer:function(){return!1},isFocused:function(){return!1},isRtl:function(){return!1},getInnerDimensions:function(){return{height:0,width:0}},getAnchorDimensions:function(){return null},getWindowDimensions:function(){return{height:0,width:0}},getBodyDimensions:function(){return{height:0,width:0}},getWindowScroll:function(){return{x:0,y:0}},setPosition:function(){},setMaxHeight:function(){},setTransformOrigin:function(){},saveFocus:function(){},restoreFocus:function(){},notifyClose:function(){},notifyOpen:function(){},notifyClosing:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=e.cssClasses,n=t.ROOT,i=t.OPEN;if(!this.adapter.hasClass(n))throw new Error(n+" class required in root element.");this.adapter.hasClass(i)&&(this.isSurfaceOpen=!0)},e.prototype.destroy=function(){clearTimeout(this.openAnimationEndTimerId),clearTimeout(this.closeAnimationEndTimerId),cancelAnimationFrame(this.animationRequestId)},e.prototype.setAnchorCorner=function(t){this.anchorCorner=t},e.prototype.flipCornerHorizontally=function(){this.originCorner=this.originCorner^Me.RIGHT},e.prototype.setAnchorMargin=function(t){this.anchorMargin.top=t.top||0,this.anchorMargin.right=t.right||0,this.anchorMargin.bottom=t.bottom||0,this.anchorMargin.left=t.left||0},e.prototype.setIsHoisted=function(t){this.isHoistedElement=t},e.prototype.setFixedPosition=function(t){this.isFixedPosition=t},e.prototype.isFixed=function(){return this.isFixedPosition},e.prototype.setAbsolutePosition=function(t,n){this.position.x=this.isFinite(t)?t:0,this.position.y=this.isFinite(n)?n:0},e.prototype.setIsHorizontallyCenteredOnViewport=function(t){this.isHorizontallyCenteredOnViewport=t},e.prototype.setQuickOpen=function(t){this.isQuickOpen=t},e.prototype.setMaxHeight=function(t){this.maxHeight=t},e.prototype.isOpen=function(){return this.isSurfaceOpen},e.prototype.open=function(){var t=this;this.isSurfaceOpen||(this.adapter.saveFocus(),this.isQuickOpen?(this.isSurfaceOpen=!0,this.adapter.addClass(e.cssClasses.OPEN),this.dimensions=this.adapter.getInnerDimensions(),this.autoposition(),this.adapter.notifyOpen()):(this.adapter.addClass(e.cssClasses.ANIMATING_OPEN),this.animationRequestId=requestAnimationFrame(function(){t.dimensions=t.adapter.getInnerDimensions(),t.autoposition(),t.adapter.addClass(e.cssClasses.OPEN),t.openAnimationEndTimerId=setTimeout(function(){t.openAnimationEndTimerId=0,t.adapter.removeClass(e.cssClasses.ANIMATING_OPEN),t.adapter.notifyOpen()},Ur.TRANSITION_OPEN_DURATION)}),this.isSurfaceOpen=!0))},e.prototype.close=function(t){var n=this;if(t===void 0&&(t=!1),!!this.isSurfaceOpen){if(this.adapter.notifyClosing(),this.isQuickOpen){this.isSurfaceOpen=!1,t||this.maybeRestoreFocus(),this.adapter.removeClass(e.cssClasses.OPEN),this.adapter.removeClass(e.cssClasses.IS_OPEN_BELOW),this.adapter.notifyClose();return}this.adapter.addClass(e.cssClasses.ANIMATING_CLOSED),requestAnimationFrame(function(){n.adapter.removeClass(e.cssClasses.OPEN),n.adapter.removeClass(e.cssClasses.IS_OPEN_BELOW),n.closeAnimationEndTimerId=setTimeout(function(){n.closeAnimationEndTimerId=0,n.adapter.removeClass(e.cssClasses.ANIMATING_CLOSED),n.adapter.notifyClose()},Ur.TRANSITION_CLOSE_DURATION)}),this.isSurfaceOpen=!1,t||this.maybeRestoreFocus()}},e.prototype.handleBodyClick=function(t){var n=t.target;this.adapter.isElementInContainer(n)||this.close()},e.prototype.handleKeydown=function(t){var n=t.keyCode,i=t.key,a=i==="Escape"||n===27;a&&this.close()},e.prototype.autoposition=function(){var t;this.measurements=this.getAutoLayoutmeasurements();var n=this.getoriginCorner(),i=this.getMenuSurfaceMaxHeight(n),a=this.hasBit(n,Me.BOTTOM)?"bottom":"top",o=this.hasBit(n,Me.RIGHT)?"right":"left",s=this.getHorizontalOriginOffset(n),f=this.getVerticalOriginOffset(n),u=this.measurements,c=u.anchorSize,l=u.surfaceSize,d=(t={},t[o]=s,t[a]=f,t);c.width/l.width>Ur.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&(o="center"),(this.isHoistedElement||this.isFixedPosition)&&this.adjustPositionForHoistedElement(d),this.adapter.setTransformOrigin(o+" "+a),this.adapter.setPosition(d),this.adapter.setMaxHeight(i?i+"px":""),this.hasBit(n,Me.BOTTOM)||this.adapter.addClass(e.cssClasses.IS_OPEN_BELOW)},e.prototype.getAutoLayoutmeasurements=function(){var t=this.adapter.getAnchorDimensions(),n=this.adapter.getBodyDimensions(),i=this.adapter.getWindowDimensions(),a=this.adapter.getWindowScroll();return t||(t={top:this.position.y,right:this.position.x,bottom:this.position.y,left:this.position.x,width:0,height:0}),{anchorSize:t,bodySize:n,surfaceSize:this.dimensions,viewportDistance:{top:t.top,right:i.width-t.right,bottom:i.height-t.bottom,left:t.left},viewportSize:i,windowScroll:a}},e.prototype.getoriginCorner=function(){var t=this.originCorner,n=this.measurements,i=n.viewportDistance,a=n.anchorSize,o=n.surfaceSize,s=e.numbers.MARGIN_TO_EDGE,f=this.hasBit(this.anchorCorner,Me.BOTTOM),u,c;f?(u=i.top-s+this.anchorMargin.bottom,c=i.bottom-s-this.anchorMargin.bottom):(u=i.top-s+this.anchorMargin.top,c=i.bottom-s+a.height-this.anchorMargin.top);var l=c-o.height>0;!l&&u>c&&(t=this.setBit(t,Me.BOTTOM));var d=this.adapter.isRtl(),h=this.hasBit(this.anchorCorner,Me.FLIP_RTL),p=this.hasBit(this.anchorCorner,Me.RIGHT)||this.hasBit(t,Me.RIGHT),v=!1;d&&h?v=!p:v=p;var _,x;v?(_=i.left+a.width+this.anchorMargin.right,x=i.right-this.anchorMargin.right):(_=i.left+this.anchorMargin.left,x=i.right+a.width-this.anchorMargin.left);var g=_-o.width>0,y=x-o.width>0,A=this.hasBit(t,Me.FLIP_RTL)&&this.hasBit(t,Me.RIGHT);return y&&A&&d||!g&&A?t=this.unsetBit(t,Me.RIGHT):(g&&v&&d||g&&!v&&p||!y&&_>=x)&&(t=this.setBit(t,Me.RIGHT)),t},e.prototype.getMenuSurfaceMaxHeight=function(t){if(this.maxHeight>0)return this.maxHeight;var n=this.measurements.viewportDistance,i=0,a=this.hasBit(t,Me.BOTTOM),o=this.hasBit(this.anchorCorner,Me.BOTTOM),s=e.numbers.MARGIN_TO_EDGE;return a?(i=n.top+this.anchorMargin.top-s,o||(i+=this.measurements.anchorSize.height)):(i=n.bottom-this.anchorMargin.bottom+this.measurements.anchorSize.height-s,o&&(i-=this.measurements.anchorSize.height)),i},e.prototype.getHorizontalOriginOffset=function(t){var n=this.measurements.anchorSize,i=this.hasBit(t,Me.RIGHT),a=this.hasBit(this.anchorCorner,Me.RIGHT);if(i){var o=a?n.width-this.anchorMargin.left:this.anchorMargin.right;return this.isHoistedElement||this.isFixedPosition?o-(this.measurements.viewportSize.width-this.measurements.bodySize.width):o}return a?n.width-this.anchorMargin.right:this.anchorMargin.left},e.prototype.getVerticalOriginOffset=function(t){var n=this.measurements.anchorSize,i=this.hasBit(t,Me.BOTTOM),a=this.hasBit(this.anchorCorner,Me.BOTTOM),o=0;return i?o=a?n.height-this.anchorMargin.top:-this.anchorMargin.bottom:o=a?n.height+this.anchorMargin.bottom:this.anchorMargin.top,o},e.prototype.adjustPositionForHoistedElement=function(t){var n,i,a=this.measurements,o=a.windowScroll,s=a.viewportDistance,f=a.surfaceSize,u=a.viewportSize,c=Object.keys(t);try{for(var l=Pa(c),d=l.next();!d.done;d=l.next()){var h=d.value,p=t[h]||0;if(this.isHorizontallyCenteredOnViewport&&(h==="left"||h==="right")){t[h]=(u.width-f.width)/2;continue}p+=s[h],this.isFixedPosition||(h==="top"?p+=o.y:h==="bottom"?p-=o.y:h==="left"?p+=o.x:p-=o.x),t[h]=p}}catch(v){n={error:v}}finally{try{d&&!d.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}},e.prototype.maybeRestoreFocus=function(){var t=this,n=this.adapter.isFocused(),i=document.activeElement&&this.adapter.isElementInContainer(document.activeElement);(n||i)&&setTimeout(function(){t.adapter.restoreFocus()},Ur.TOUCH_EVENT_WAIT_MS)},e.prototype.hasBit=function(t,n){return Boolean(t&n)},e.prototype.setBit=function(t,n){return t|n},e.prototype.unsetBit=function(t,n){return t^n},e.prototype.isFinite=function(t){return typeof t=="number"&&isFinite(t)},e}(Rr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var wr={MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group",ROOT:"mdc-menu"},mr={ARIA_CHECKED_ATTR:"aria-checked",ARIA_DISABLED_ATTR:"aria-disabled",CHECKBOX_SELECTOR:'input[type="checkbox"]',LIST_SELECTOR:".mdc-list,.mdc-deprecated-list",SELECTED_EVENT:"MDCMenu:selected",SKIP_RESTORE_FOCUS:"data-menu-item-skip-restore-focus"},Ou={FOCUS_ROOT_INDEX:-1},Ir;(function(r){r[r.NONE=0]="NONE",r[r.LIST_ROOT=1]="LIST_ROOT",r[r.FIRST_ITEM=2]="FIRST_ITEM",r[r.LAST_ITEM=3]="LAST_ITEM"})(Ir||(Ir={}));/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Du=function(r){jt(e,r);function e(t){var n=r.call(this,It(It({},e.defaultAdapter),t))||this;return n.closeAnimationEndTimerId=0,n.defaultFocusState=Ir.LIST_ROOT,n.selectedIndex=-1,n}return Object.defineProperty(e,"cssClasses",{get:function(){return wr},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return mr},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Ou},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},getAttributeFromElementAtIndex:function(){return null},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){},getSelectedSiblingOfItemAtIndex:function(){return-1},isSelectableItemAtIndex:function(){return!1}}},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.closeAnimationEndTimerId&&clearTimeout(this.closeAnimationEndTimerId),this.adapter.closeSurface()},e.prototype.handleKeydown=function(t){var n=t.key,i=t.keyCode,a=n==="Tab"||i===9;a&&this.adapter.closeSurface(!0)},e.prototype.handleItemAction=function(t){var n=this,i=this.adapter.getElementIndex(t);if(!(i<0)){this.adapter.notifySelected({index:i});var a=this.adapter.getAttributeFromElementAtIndex(i,mr.SKIP_RESTORE_FOCUS)==="true";this.adapter.closeSurface(a),this.closeAnimationEndTimerId=setTimeout(function(){var o=n.adapter.getElementIndex(t);o>=0&&n.adapter.isSelectableItemAtIndex(o)&&n.setSelectedIndex(o)},ma.numbers.TRANSITION_CLOSE_DURATION)}},e.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState){case Ir.FIRST_ITEM:this.adapter.focusItemAtIndex(0);break;case Ir.LAST_ITEM:this.adapter.focusItemAtIndex(this.adapter.getMenuItemCount()-1);break;case Ir.NONE:break;default:this.adapter.focusListRoot();break}},e.prototype.setDefaultFocusState=function(t){this.defaultFocusState=t},e.prototype.getSelectedIndex=function(){return this.selectedIndex},e.prototype.setSelectedIndex=function(t){if(this.validatedIndex(t),!this.adapter.isSelectableItemAtIndex(t))throw new Error("MDCMenuFoundation: No selection group at specified index.");var n=this.adapter.getSelectedSiblingOfItemAtIndex(t);n>=0&&(this.adapter.removeAttributeFromElementAtIndex(n,mr.ARIA_CHECKED_ATTR),this.adapter.removeClassFromElementAtIndex(n,wr.MENU_SELECTED_LIST_ITEM)),this.adapter.addClassToElementAtIndex(t,wr.MENU_SELECTED_LIST_ITEM),this.adapter.addAttributeToElementAtIndex(t,mr.ARIA_CHECKED_ATTR,"true"),this.selectedIndex=t},e.prototype.setEnabled=function(t,n){this.validatedIndex(t),n?(this.adapter.removeClassFromElementAtIndex(t,re.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(t,mr.ARIA_DISABLED_ATTR,"false")):(this.adapter.addClassToElementAtIndex(t,re.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(t,mr.ARIA_DISABLED_ATTR,"true"))},e.prototype.validatedIndex=function(t){var n=this.adapter.getMenuItemCount(),i=t>=0&&t<n;if(!i)throw new Error("MDCMenuFoundation: No list item at specified index.")},e}(Rr);const{document:Ru}=Zi;function Nu(r){let e,t,n,i,a,o,s,f;const u=r[31].default,c=Rt(u,r,r[30],null);let l=[{class:n=Ee({[r[2]]:!0,"mdc-menu-surface":!0,"mdc-menu-surface--fixed":r[5],"mdc-menu-surface--open":r[4],"smui-menu-surface--static":r[4],"mdc-menu-surface--fullwidth":r[7],...r[10]})},{style:i=Object.entries(r[11]).map(Bi).concat([r[3]]).join(" ")},r[13]],d={};for(let h=0;h<l.length;h+=1)d=ae(d,l[h]);return{c(){e=se(),t=de("div"),c&&c.c(),this.h()},l(h){e=fe(h),t=he(h,"DIV",{class:!0,style:!0});var p=pe(t);c&&c.l(p),p.forEach(w),this.h()},h(){ft(t,d)},m(h,p){L(h,e,p),L(h,t,p),c&&c.m(t,null),r[33](t),o=!0,s||(f=[er(Ru.body,"click",r[32],!0),mt(a=pr.call(null,t,r[1])),mt(r[12].call(null,t)),er(t,"keydown",r[34])],s=!0)},p(h,p){c&&c.p&&(!o||p[0]&1073741824)&&Nt(c,u,h,h[30],o?Pt(u,h[30],p,null):Mt(h[30]),null),ft(t,d=yt(l,[(!o||p[0]&1204&&n!==(n=Ee({[h[2]]:!0,"mdc-menu-surface":!0,"mdc-menu-surface--fixed":h[5],"mdc-menu-surface--open":h[4],"smui-menu-surface--static":h[4],"mdc-menu-surface--fullwidth":h[7],...h[10]})))&&{class:n},(!o||p[0]&2056&&i!==(i=Object.entries(h[11]).map(Bi).concat([h[3]]).join(" ")))&&{style:i},p[0]&8192&&h[13]])),a&&nr(a.update)&&p[0]&2&&a.update.call(null,h[1])},i(h){o||(M(c,h),o=!0)},o(h){P(c,h),o=!1},d(h){h&&w(e),h&&w(t),c&&c.d(h),r[33](null),s=!1,Dr(f)}}}const Bi=([r,e])=>`${r}: ${e};`;function Mu(r,e,t){const n=["use","class","style","static","anchor","fixed","open","managed","fullWidth","quickOpen","anchorElement","anchorCorner","anchorMargin","maxHeight","horizontallyCenteredOnViewport","isOpen","setOpen","setAbsolutePosition","setIsHoisted","isFixed","getElement"];let i=Oe(e,n),{$$slots:a={},$$scope:o}=e;var s,f,u;const c=wt(St());let{use:l=[]}=e,{class:d=""}=e,{style:h=""}=e,{static:p=!1}=e,{anchor:v=!0}=e,{fixed:_=!1}=e,{open:x=p}=e,{managed:g=!1}=e,{fullWidth:y=!1}=e,{quickOpen:A=!1}=e,{anchorElement:E=void 0}=e,{anchorCorner:S=void 0}=e,{anchorMargin:T={top:0,right:0,bottom:0,left:0}}=e,{maxHeight:F=0}=e,{horizontallyCenteredOnViewport:j=!1}=e,R,C,$={},K={},O;Ye("SMUI:list:role","menu"),Ye("SMUI:list:item:role","menuitem");const z=Cr;vr(()=>(t(9,C=new ma({addClass:_e,removeClass:Re,hasClass:ge,hasAnchor:()=>!!E,notifyClose:()=>{g||t(0,x=p),x||Ke(R,"SMUIMenuSurface:closed",void 0,void 0,!0)},notifyClosing:()=>{g||t(0,x=p),x||Ke(R,"SMUIMenuSurface:closing",void 0,void 0,!0)},notifyOpen:()=>{g||t(0,x=!0),x&&Ke(R,"SMUIMenuSurface:opened",void 0,void 0,!0)},isElementInContainer:D=>R.contains(D),isRtl:()=>getComputedStyle(R).getPropertyValue("direction")==="rtl",setTransformOrigin:D=>{t(11,K["transform-origin"]=D,K)},isFocused:()=>document.activeElement===R,saveFocus:()=>{var D;O=(D=document.activeElement)!==null&&D!==void 0?D:void 0},restoreFocus:()=>{(!R||R.contains(document.activeElement))&&O&&document.contains(O)&&"focus"in O&&O.focus()},getInnerDimensions:()=>({width:R.offsetWidth,height:R.offsetHeight}),getAnchorDimensions:()=>E?E.getBoundingClientRect():null,getWindowDimensions:()=>({width:window.innerWidth,height:window.innerHeight}),getBodyDimensions:()=>({width:document.body.clientWidth,height:document.body.clientHeight}),getWindowScroll:()=>({x:window.pageXOffset,y:window.pageYOffset}),setPosition:D=>{t(11,K.left="left"in D?`${D.left}px`:"",K),t(11,K.right="right"in D?`${D.right}px`:"",K),t(11,K.top="top"in D?`${D.top}px`:"",K),t(11,K.bottom="bottom"in D?`${D.bottom}px`:"",K)},setMaxHeight:D=>{t(11,K["max-height"]=D,K)}})),Ke(R,"SMUIMenuSurface:mount",{get open(){return x},set open(D){t(0,x=D)},closeProgrammatic:$e}),C.init(),()=>{var D;const We=C.isHoistedElement;C.destroy(),We&&((D=R.parentNode)===null||D===void 0||D.removeChild(R))})),Yr(()=>{var W;v&&R&&((W=R.parentElement)===null||W===void 0||W.classList.remove("mdc-menu-surface--anchor"))});function ge(W){return W in $?$[W]:gt().classList.contains(W)}function _e(W){$[W]||t(10,$[W]=!0,$)}function Re(W){(!(W in $)||$[W])&&t(10,$[W]=!1,$)}function $e(W){C.close(W),t(0,x=!1)}function ke(){return x}function pt(W){t(0,x=W)}function vt(W,D){return C.setAbsolutePosition(W,D)}function G(W){return C.setIsHoisted(W)}function q(){return C.isFixed()}function gt(){return R}const _t=W=>C&&x&&!g&&C.handleBodyClick(W);function we(W){Ne[W?"unshift":"push"](()=>{R=W,t(8,R)})}const Lt=W=>C&&C.handleKeydown(W);return r.$$set=W=>{e=ae(ae({},e),Ct(W)),t(13,i=Oe(e,n)),"use"in W&&t(1,l=W.use),"class"in W&&t(2,d=W.class),"style"in W&&t(3,h=W.style),"static"in W&&t(4,p=W.static),"anchor"in W&&t(15,v=W.anchor),"fixed"in W&&t(5,_=W.fixed),"open"in W&&t(0,x=W.open),"managed"in W&&t(6,g=W.managed),"fullWidth"in W&&t(7,y=W.fullWidth),"quickOpen"in W&&t(16,A=W.quickOpen),"anchorElement"in W&&t(14,E=W.anchorElement),"anchorCorner"in W&&t(17,S=W.anchorCorner),"anchorMargin"in W&&t(18,T=W.anchorMargin),"maxHeight"in W&&t(19,F=W.maxHeight),"horizontallyCenteredOnViewport"in W&&t(20,j=W.horizontallyCenteredOnViewport),"$$scope"in W&&t(30,o=W.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&939557120&&R&&v&&!(!(t(27,s=R.parentElement)===null||s===void 0)&&s.classList.contains("mdc-menu-surface--anchor"))&&(t(28,f=R.parentElement)===null||f===void 0||f.classList.add("mdc-menu-surface--anchor"),t(14,E=t(29,u=R.parentElement)!==null&&u!==void 0?u:void 0)),r.$$.dirty[0]&513&&C&&C.isOpen()!==x&&(x?C.open():C.close()),r.$$.dirty[0]&66048&&C&&C.setQuickOpen(A),r.$$.dirty[0]&544&&C&&C.setFixedPosition(_),r.$$.dirty[0]&524800&&C&&C.setMaxHeight(F),r.$$.dirty[0]&1049088&&C&&C.setIsHorizontallyCenteredOnViewport(j),r.$$.dirty[0]&131584&&C&&S!=null&&(typeof S=="string"?C.setAnchorCorner(z[S]):C.setAnchorCorner(S)),r.$$.dirty[0]&262656&&C&&C.setAnchorMargin(T)},[x,l,d,h,p,_,g,y,R,C,$,K,c,i,E,v,A,S,T,F,j,ke,pt,vt,G,q,gt,s,f,u,o,a,_t,we,Lt]}class Pu extends Le{constructor(e){super(),Be(this,e,Mu,Nu,Fe,{use:1,class:2,style:3,static:4,anchor:15,fixed:5,open:0,managed:6,fullWidth:7,quickOpen:16,anchorElement:14,anchorCorner:17,anchorMargin:18,maxHeight:19,horizontallyCenteredOnViewport:20,isOpen:21,setOpen:22,setAbsolutePosition:23,setIsHoisted:24,isFixed:25,getElement:26},null,[-1,-1])}get isOpen(){return this.$$.ctx[21]}get setOpen(){return this.$$.ctx[22]}get setAbsolutePosition(){return this.$$.ctx[23]}get setIsHoisted(){return this.$$.ctx[24]}get isFixed(){return this.$$.ctx[25]}get getElement(){return this.$$.ctx[26]}}function Lu(r){let e;const t=r[17].default,n=Rt(t,r,r[22],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,a){n&&n.m(i,a),e=!0},p(i,a){n&&n.p&&(!e||a&4194304)&&Nt(n,t,i,i[22],e?Pt(t,i[22],a,null):Mt(i[22]),null)},i(i){e||(M(n,i),e=!0)},o(i){P(n,i),e=!1},d(i){n&&n.d(i)}}}function Bu(r){let e,t,n;const i=[{use:r[5]},{class:Ee({[r[1]]:!0,"mdc-menu":!0})},r[9]];function a(s){r[19](s)}let o={$$slots:{default:[Lu]},$$scope:{ctx:r}};for(let s=0;s<i.length;s+=1)o=ae(o,i[s]);return r[0]!==void 0&&(o.open=r[0]),e=new Pu({props:o}),r[18](e),Ne.push(()=>sn(e,"open",a,r[0])),e.$on("SMUIMenuSurface:mount",r[7]),e.$on("SMUIList:mount",r[8]),e.$on("SMUIMenuSurface:opened",r[20]),e.$on("keydown",r[6]),e.$on("SMUIList:action",r[21]),{c(){U(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,f){H(e,s,f),n=!0},p(s,[f]){const u=f&546?yt(i,[f&32&&{use:s[5]},f&2&&{class:Ee({[s[1]]:!0,"mdc-menu":!0})},f&512&&st(s[9])]):{};f&4194304&&(u.$$scope={dirty:f,ctx:s}),!t&&f&1&&(t=!0,u.open=s[0],fn(()=>t=!1)),e.$set(u)},i(s){n||(M(e.$$.fragment,s),n=!0)},o(s){P(e.$$.fragment,s),n=!1},d(s){r[18](null),V(e,s)}}}function Fu(r,e,t){let n;const i=["use","class","open","isOpen","setOpen","setDefaultFocusState","getSelectedIndex","getMenuSurface","getElement"];let a=Oe(e,i),{$$slots:o={},$$scope:s}=e;const{closest:f}=Yn,u=wt(St());let{use:c=[]}=e,{class:l=""}=e,{open:d=!1}=e,h,p,v,_;vr(()=>(t(3,p=new Du({addClassToElementAtIndex:(O,z)=>{_.addClassForElementIndex(O,z)},removeClassFromElementAtIndex:(O,z)=>{_.removeClassForElementIndex(O,z)},addAttributeToElementAtIndex:(O,z,ge)=>{_.setAttributeForElementIndex(O,z,ge)},removeAttributeFromElementAtIndex:(O,z)=>{_.removeAttributeForElementIndex(O,z)},getAttributeFromElementAtIndex:(O,z)=>_.getAttributeFromElementIndex(O,z),elementContainsClass:(O,z)=>O.classList.contains(z),closeSurface:O=>v.closeProgrammatic(O),getElementIndex:O=>_.getOrderedList().map(z=>z.element).indexOf(O),notifySelected:O=>Ke(j(),"SMUIMenu:selected",{index:O.index,item:_.getOrderedList()[O.index].element},void 0,!0),getMenuItemCount:()=>_.items.length,focusItemAtIndex:O=>_.focusItemAtIndex(O),focusListRoot:()=>"focus"in _.element&&_.element.focus(),isSelectableItemAtIndex:O=>!!f(_.getOrderedList()[O].element,`.${wr.MENU_SELECTION_GROUP}`),getSelectedSiblingOfItemAtIndex:O=>{const z=_.getOrderedList(),ge=f(z[O].element,`.${wr.MENU_SELECTION_GROUP}`),_e=ge==null?void 0:ge.querySelector(`.${wr.MENU_SELECTED_LIST_ITEM}`);return _e?z.map(Re=>Re.element).indexOf(_e):-1}})),Ke(j(),"SMUIMenu:mount",p),p.init(),()=>{p.destroy()}));function x(O){p&&p.handleKeydown(O)}function g(O){v||(v=O.detail)}function y(O){_||t(4,_=O.detail)}function A(){return d}function E(O){t(0,d=O)}function S(O){p.setDefaultFocusState(O)}function T(){return p.getSelectedIndex()}function F(){return h}function j(){return h.getElement()}function R(O){Ne[O?"unshift":"push"](()=>{h=O,t(2,h)})}function C(O){d=O,t(0,d)}const $=()=>p&&p.handleMenuSurfaceOpened(),K=O=>p&&p.handleItemAction(_.getOrderedList()[O.detail.index].element);return r.$$set=O=>{e=ae(ae({},e),Ct(O)),t(9,a=Oe(e,i)),"use"in O&&t(10,c=O.use),"class"in O&&t(1,l=O.class),"open"in O&&t(0,d=O.open),"$$scope"in O&&t(22,s=O.$$scope)},r.$$.update=()=>{r.$$.dirty&1024&&t(5,n=[u,...c])},[d,l,h,p,_,n,x,g,y,a,c,A,E,S,T,F,j,o,R,C,$,K,s]}class ku extends Le{constructor(e){super(),Be(this,e,Fu,Bu,Fe,{use:10,class:1,open:0,isOpen:11,setOpen:12,setDefaultFocusState:13,getSelectedIndex:14,getMenuSurface:15,getElement:16})}get isOpen(){return this.$$.ctx[11]}get setOpen(){return this.$$.ctx[12]}get setDefaultFocusState(){return this.$$.ctx[13]}get getSelectedIndex(){return this.$$.ctx[14]}get getMenuSurface(){return this.$$.ctx[15]}get getElement(){return this.$$.ctx[16]}}function Uu(r){let e;const t=r[37].default,n=Rt(t,r,r[43],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,a){n&&n.m(i,a),e=!0},p(i,a){n&&n.p&&(!e||a[1]&4096)&&Nt(n,t,i,i[43],e?Pt(t,i[43],a,null):Mt(i[43]),null)},i(i){e||(M(n,i),e=!0)},o(i){P(n,i),e=!1},d(i){n&&n.d(i)}}}function Hu(r){let e,t,n;const i=[{use:[r[17],...r[0]]},{class:Ee({[r[1]]:!0,"mdc-deprecated-list":!0,"mdc-deprecated-list--non-interactive":r[2],"mdc-deprecated-list--dense":r[3],"mdc-deprecated-list--textual-list":r[4],"mdc-deprecated-list--avatar-list":r[5]||r[18],"mdc-deprecated-list--icon-list":r[6],"mdc-deprecated-list--image-list":r[7],"mdc-deprecated-list--thumbnail-list":r[8],"mdc-deprecated-list--video-list":r[9],"mdc-deprecated-list--two-line":r[10],"smui-list--three-line":r[11]&&!r[10]})},{role:r[15]},r[23]];var a=r[12];function o(s){let f={$$slots:{default:[Uu]},$$scope:{ctx:s}};for(let u=0;u<i.length;u+=1)f=ae(f,i[u]);return{props:f}}return a&&(e=kt(a,o(r)),r[38](e),e.$on("keydown",r[39]),e.$on("focusin",r[40]),e.$on("focusout",r[41]),e.$on("click",r[42]),e.$on("SMUIListItem:mount",r[19]),e.$on("SMUIListItem:unmount",r[20]),e.$on("SMUI:action",r[21])),{c(){e&&U(e.$$.fragment),t=Pe()},l(s){e&&X(e.$$.fragment,s),t=Pe()},m(s,f){e&&H(e,s,f),L(s,t,f),n=!0},p(s,f){const u=f[0]&8818687?yt(i,[f[0]&131073&&{use:[s[17],...s[0]]},f[0]&266238&&{class:Ee({[s[1]]:!0,"mdc-deprecated-list":!0,"mdc-deprecated-list--non-interactive":s[2],"mdc-deprecated-list--dense":s[3],"mdc-deprecated-list--textual-list":s[4],"mdc-deprecated-list--avatar-list":s[5]||s[18],"mdc-deprecated-list--icon-list":s[6],"mdc-deprecated-list--image-list":s[7],"mdc-deprecated-list--thumbnail-list":s[8],"mdc-deprecated-list--video-list":s[9],"mdc-deprecated-list--two-line":s[10],"smui-list--three-line":s[11]&&!s[10]})},f[0]&32768&&{role:s[15]},f[0]&8388608&&st(s[23])]):{};if(f[1]&4096&&(u.$$scope={dirty:f,ctx:s}),a!==(a=s[12])){if(e){Xt();const c=e;P(c.$$.fragment,1,0,()=>{V(c,1)}),zt()}a?(e=kt(a,o(s)),s[38](e),e.$on("keydown",s[39]),e.$on("focusin",s[40]),e.$on("focusout",s[41]),e.$on("click",s[42]),e.$on("SMUIListItem:mount",s[19]),e.$on("SMUIListItem:unmount",s[20]),e.$on("SMUI:action",s[21]),U(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else a&&e.$set(u)},i(s){n||(e&&M(e.$$.fragment,s),n=!0)},o(s){e&&P(e.$$.fragment,s),n=!1},d(s){r[38](null),s&&w(t),e&&V(e,s)}}}function Vu(r,e,t){const n=["use","class","nonInteractive","dense","textualList","avatarList","iconList","imageList","thumbnailList","videoList","twoLine","threeLine","vertical","wrapFocus","singleSelection","selectedIndex","radioList","checkList","hasTypeahead","component","layout","setEnabled","getTypeaheadInProgress","getSelectedIndex","getFocusedItemIndex","getElement"];let i=Oe(e,n),{$$slots:a={},$$scope:o}=e;var s;const{closest:f,matches:u}=Yn,c=wt(St());let{use:l=[]}=e,{class:d=""}=e,{nonInteractive:h=!1}=e,{dense:p=!1}=e,{textualList:v=!1}=e,{avatarList:_=!1}=e,{iconList:x=!1}=e,{imageList:g=!1}=e,{thumbnailList:y=!1}=e,{videoList:A=!1}=e,{twoLine:E=!1}=e,{threeLine:S=!1}=e,{vertical:T=!0}=e,{wrapFocus:F=(s=xt("SMUI:list:wrapFocus"))!==null&&s!==void 0?s:!1}=e,{singleSelection:j=!1}=e,{selectedIndex:R=-1}=e,{radioList:C=!1}=e,{checkList:$=!1}=e,{hasTypeahead:K=!1}=e,O,z,ge=[],_e=xt("SMUI:list:role"),Re=xt("SMUI:list:nav");const $e=new WeakMap;let ke=xt("SMUI:dialog:selection"),pt=xt("SMUI:addLayoutListener"),vt,{component:G=Re?La:Ba}=e;Ye("SMUI:list:nonInteractive",h),Ye("SMUI:separator:context","list"),_e||(j?(_e="listbox",Ye("SMUI:list:item:role","option")):C?(_e="radiogroup",Ye("SMUI:list:item:role","radio")):$?(_e="group",Ye("SMUI:list:item:role","checkbox")):(_e="list",Ye("SMUI:list:item:role",void 0))),pt&&(vt=pt(Lr)),vr(()=>{t(13,z=new Tu({addClassForElementIndex:D,focusItemAtIndex:Lt,getAttributeForElementIndex:(J,Q)=>{var be,Br;return(Br=(be=we()[J])===null||be===void 0?void 0:be.getAttr(Q))!==null&&Br!==void 0?Br:null},getFocusedElementIndex:()=>document.activeElement?we().map(J=>J.element).indexOf(document.activeElement):-1,getListItemCount:()=>ge.length,getPrimaryTextAtIndex:Xe,hasCheckboxAtIndex:J=>{var Q,be;return(be=(Q=we()[J])===null||Q===void 0?void 0:Q.hasCheckbox)!==null&&be!==void 0?be:!1},hasRadioAtIndex:J=>{var Q,be;return(be=(Q=we()[J])===null||Q===void 0?void 0:Q.hasRadio)!==null&&be!==void 0?be:!1},isCheckboxCheckedAtIndex:J=>{var Q;const be=we()[J];return(Q=(be==null?void 0:be.hasCheckbox)&&be.checked)!==null&&Q!==void 0?Q:!1},isFocusInsideList:()=>O!=null&&Yt()!==document.activeElement&&Yt().contains(document.activeElement),isRootFocused:()=>O!=null&&document.activeElement===Yt(),listItemAtIndexHasClass:W,notifyAction:J=>{t(24,R=J),O!=null&&Ke(Yt(),"SMUIList:action",{index:J},void 0,!0)},removeClassForElementIndex:We,setAttributeForElementIndex:qr,setCheckedCheckboxOrRadioAtIndex:(J,Q)=>{we()[J].checked=Q},setTabIndexForListItemChildren:(J,Q)=>{const be=we()[J],Br="button:not(:disabled), a";Array.prototype.forEach.call(be.element.querySelectorAll(Br),Da=>{Da.setAttribute("tabindex",Q)})}}));const N={get element(){return Yt()},get items(){return ge},get typeaheadInProgress(){return z.isTypeaheadInProgress()},typeaheadMatchItem(J,Q){return z.typeaheadMatchItem(J,Q,!0)},getOrderedList:we,focusItemAtIndex:Lt,addClassForElementIndex:D,removeClassForElementIndex:We,setAttributeForElementIndex:qr,removeAttributeForElementIndex:B,getAttributeFromElementIndex:te,getPrimaryTextAtIndex:Xe};return Ke(Yt(),"SMUIList:mount",N),z.init(),()=>{z.destroy()}}),Yr(()=>{vt&&vt()});function q(N){ge.push(N.detail),$e.set(N.detail.element,N.detail),j&&N.detail.selected&&t(24,R=bt(N.detail.element)),N.stopPropagation()}function gt(N){var J;const Q=(J=N.detail&&ge.indexOf(N.detail))!==null&&J!==void 0?J:-1;Q!==-1&&(ge.splice(Q,1),ge=ge,$e.delete(N.detail.element)),N.stopPropagation()}function _t(N){if(C||$){const J=bt(N.target);if(J!==-1){const Q=we()[J];Q&&(C&&!Q.checked||$)&&(Q.checked=!Q.checked,Q.activateRipple(),window.requestAnimationFrame(()=>{Q.deactivateRipple()}))}}}function we(){return O==null?[]:[...Yt().children].map(N=>$e.get(N)).filter(N=>N&&N._smui_list_item_accessor)}function Lt(N){const J=we()[N];J&&"focus"in J.element&&J.element.focus()}function W(N,J){var Q;const be=we()[N];return(Q=be&&be.hasClass(J))!==null&&Q!==void 0?Q:!1}function D(N,J){const Q=we()[N];Q&&Q.addClass(J)}function We(N,J){const Q=we()[N];Q&&Q.removeClass(J)}function qr(N,J,Q){const be=we()[N];be&&be.addAttr(J,Q)}function B(N,J){const Q=we()[N];Q&&Q.removeAttr(J)}function te(N,J){const Q=we()[N];return Q?Q.getAttr(J):null}function Xe(N){var J;const Q=we()[N];return(J=Q&&Q.getPrimaryText())!==null&&J!==void 0?J:""}function bt(N){const J=f(N,".mdc-deprecated-list-item, .mdc-deprecated-list");return J&&u(J,".mdc-deprecated-list-item")?we().map(Q=>Q==null?void 0:Q.element).indexOf(J):-1}function Lr(){return z.layout()}function Qr(N,J){return z.setEnabled(N,J)}function Ia(){return z.isTypeaheadInProgress()}function ni(){return z.getSelectedIndex()}function Sa(){return z.getFocusedItemIndex()}function Yt(){return O.getElement()}function Ca(N){Ne[N?"unshift":"push"](()=>{O=N,t(14,O)})}const wa=N=>z&&z.handleKeydown(N,N.target.classList.contains("mdc-deprecated-list-item"),bt(N.target)),ba=N=>z&&z.handleFocusIn(bt(N.target)),Ta=N=>z&&z.handleFocusOut(bt(N.target)),Oa=N=>z&&z.handleClick(bt(N.target),!u(N.target,'input[type="checkbox"], input[type="radio"]'));return r.$$set=N=>{e=ae(ae({},e),Ct(N)),t(23,i=Oe(e,n)),"use"in N&&t(0,l=N.use),"class"in N&&t(1,d=N.class),"nonInteractive"in N&&t(2,h=N.nonInteractive),"dense"in N&&t(3,p=N.dense),"textualList"in N&&t(4,v=N.textualList),"avatarList"in N&&t(5,_=N.avatarList),"iconList"in N&&t(6,x=N.iconList),"imageList"in N&&t(7,g=N.imageList),"thumbnailList"in N&&t(8,y=N.thumbnailList),"videoList"in N&&t(9,A=N.videoList),"twoLine"in N&&t(10,E=N.twoLine),"threeLine"in N&&t(11,S=N.threeLine),"vertical"in N&&t(25,T=N.vertical),"wrapFocus"in N&&t(26,F=N.wrapFocus),"singleSelection"in N&&t(27,j=N.singleSelection),"selectedIndex"in N&&t(24,R=N.selectedIndex),"radioList"in N&&t(28,C=N.radioList),"checkList"in N&&t(29,$=N.checkList),"hasTypeahead"in N&&t(30,K=N.hasTypeahead),"component"in N&&t(12,G=N.component),"$$scope"in N&&t(43,o=N.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&33562624&&z&&z.setVerticalOrientation(T),r.$$.dirty[0]&67117056&&z&&z.setWrapFocus(F),r.$$.dirty[0]&1073750016&&z&&z.setHasTypeahead(K),r.$$.dirty[0]&134225920&&z&&z.setSingleSelection(j),r.$$.dirty[0]&151003136&&z&&j&&ni()!==R&&z.setSelectedIndex(R)},[l,d,h,p,v,_,x,g,y,A,E,S,G,z,O,_e,u,c,ke,q,gt,_t,bt,i,R,T,F,j,C,$,K,Lr,Qr,Ia,ni,Sa,Yt,a,Ca,wa,ba,Ta,Oa,o]}class Gu extends Le{constructor(e){super(),Be(this,e,Vu,Hu,Fe,{use:0,class:1,nonInteractive:2,dense:3,textualList:4,avatarList:5,iconList:6,imageList:7,thumbnailList:8,videoList:9,twoLine:10,threeLine:11,vertical:25,wrapFocus:26,singleSelection:27,selectedIndex:24,radioList:28,checkList:29,hasTypeahead:30,component:12,layout:31,setEnabled:32,getTypeaheadInProgress:33,getSelectedIndex:34,getFocusedItemIndex:35,getElement:36},null,[-1,-1])}get layout(){return this.$$.ctx[31]}get setEnabled(){return this.$$.ctx[32]}get getTypeaheadInProgress(){return this.$$.ctx[33]}get getSelectedIndex(){return this.$$.ctx[34]}get getFocusedItemIndex(){return this.$$.ctx[35]}get getElement(){return this.$$.ctx[36]}}function Fi(r){let e;return{c(){e=de("span"),this.h()},l(t){e=he(t,"SPAN",{class:!0}),pe(e).forEach(w),this.h()},h(){me(e,"class","mdc-deprecated-list-item__ripple")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function Wu(r){let e,t,n=r[7]&&Fi();const i=r[32].default,a=Rt(i,r,r[35],null);return{c(){n&&n.c(),e=Pe(),a&&a.c()},l(o){n&&n.l(o),e=Pe(),a&&a.l(o)},m(o,s){n&&n.m(o,s),L(o,e,s),a&&a.m(o,s),t=!0},p(o,s){o[7]?n||(n=Fi(),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),a&&a.p&&(!t||s[1]&16)&&Nt(a,i,o,o[35],t?Pt(i,o[35],s,null):Mt(o[35]),null)},i(o){t||(M(a,o),t=!0)},o(o){P(a,o),t=!1},d(o){n&&n.d(o),o&&w(e),a&&a.d(o)}}}function Xu(r){let e,t,n;const i=[{use:[...r[6]?[]:[[br,{ripple:!r[14],unbounded:!1,color:(r[1]||r[0])&&r[5]==null?"primary":r[5],disabled:r[9],addClass:r[22],removeClass:r[23],addStyle:r[24]}]],r[20],...r[2]]},{class:Ee({[r[3]]:!0,"mdc-deprecated-list-item":!0,"mdc-deprecated-list-item--activated":r[1],"mdc-deprecated-list-item--selected":r[0],"mdc-deprecated-list-item--disabled":r[9],"mdc-menu-item--selected":!r[21]&&r[8]==="menuitem"&&r[0],"smui-menu-item--non-interactive":r[6],...r[16]})},{style:Object.entries(r[17]).map(ki).concat([r[4]]).join(" ")},r[21]&&r[1]?{"aria-current":"page"}:{},r[21]?{}:{role:r[8]},!r[21]&&r[8]==="option"?{"aria-selected":r[0]?"true":"false"}:{},!r[21]&&(r[8]==="radio"||r[8]==="checkbox")?{"aria-checked":r[14]&&r[14].checked?"true":"false"}:{},r[21]?{}:{"aria-disabled":r[9]?"true":"false"},{"data-menu-item-skip-restore-focus":r[10]||void 0},{tabindex:r[19]},{href:r[11]},r[18],r[27]];var a=r[12];function o(s){let f={$$slots:{default:[Wu]},$$scope:{ctx:s}};for(let u=0;u<i.length;u+=1)f=ae(f,i[u]);return{props:f}}return a&&(e=kt(a,o(r)),r[33](e),e.$on("click",r[13]),e.$on("keydown",r[25]),e.$on("SMUIGenericInput:mount",r[26]),e.$on("SMUIGenericInput:unmount",r[34])),{c(){e&&U(e.$$.fragment),t=Pe()},l(s){e&&X(e.$$.fragment,s),t=Pe()},m(s,f){e&&H(e,s,f),L(s,t,f),n=!0},p(s,f){const u=f[0]&167726975?yt(i,[f[0]&30425703&&{use:[...s[6]?[]:[[br,{ripple:!s[14],unbounded:!1,color:(s[1]||s[0])&&s[5]==null?"primary":s[5],disabled:s[9],addClass:s[22],removeClass:s[23],addStyle:s[24]}]],s[20],...s[2]]},f[0]&2163531&&{class:Ee({[s[3]]:!0,"mdc-deprecated-list-item":!0,"mdc-deprecated-list-item--activated":s[1],"mdc-deprecated-list-item--selected":s[0],"mdc-deprecated-list-item--disabled":s[9],"mdc-menu-item--selected":!s[21]&&s[8]==="menuitem"&&s[0],"smui-menu-item--non-interactive":s[6],...s[16]})},f[0]&131088&&{style:Object.entries(s[17]).map(ki).concat([s[4]]).join(" ")},f[0]&2097154&&st(s[21]&&s[1]?{"aria-current":"page"}:{}),f[0]&2097408&&st(s[21]?{}:{role:s[8]}),f[0]&2097409&&st(!s[21]&&s[8]==="option"?{"aria-selected":s[0]?"true":"false"}:{}),f[0]&2113792&&st(!s[21]&&(s[8]==="radio"||s[8]==="checkbox")?{"aria-checked":s[14]&&s[14].checked?"true":"false"}:{}),f[0]&2097664&&st(s[21]?{}:{"aria-disabled":s[9]?"true":"false"}),f[0]&1024&&{"data-menu-item-skip-restore-focus":s[10]||void 0},f[0]&524288&&{tabindex:s[19]},f[0]&2048&&{href:s[11]},f[0]&262144&&st(s[18]),f[0]&134217728&&st(s[27])]):{};if(f[0]&128|f[1]&16&&(u.$$scope={dirty:f,ctx:s}),a!==(a=s[12])){if(e){Xt();const c=e;P(c.$$.fragment,1,0,()=>{V(c,1)}),zt()}a?(e=kt(a,o(s)),s[33](e),e.$on("click",s[13]),e.$on("keydown",s[25]),e.$on("SMUIGenericInput:mount",s[26]),e.$on("SMUIGenericInput:unmount",s[34]),U(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else a&&e.$set(u)},i(s){n||(e&&M(e.$$.fragment,s),n=!0)},o(s){e&&P(e.$$.fragment,s),n=!1},d(s){r[33](null),s&&w(t),e&&V(e,s)}}}let zu=0;const ki=([r,e])=>`${r}: ${e};`;function ju(r,e,t){let n;const i=["use","class","style","color","nonInteractive","ripple","activated","role","selected","disabled","skipRestoreFocus","tabindex","inputId","href","component","action","getPrimaryText","getElement"];let a=Oe(e,i),{$$slots:o={},$$scope:s}=e;var f;const u=wt(St());let c=()=>{};function l(B){return B===c}let{use:d=[]}=e,{class:h=""}=e,{style:p=""}=e,{color:v=void 0}=e,{nonInteractive:_=(f=xt("SMUI:list:nonInteractive"))!==null&&f!==void 0?f:!1}=e;Ye("SMUI:list:nonInteractive",void 0);let{ripple:x=!_}=e,{activated:g=!1}=e,{role:y=xt("SMUI:list:item:role")}=e;Ye("SMUI:list:item:role",void 0);let{selected:A=!1}=e,{disabled:E=!1}=e,{skipRestoreFocus:S=!1}=e,{tabindex:T=c}=e,{inputId:F="SMUI-form-field-list-"+zu++}=e,{href:j=void 0}=e,R,C={},$={},K={},O,z,ge=xt("SMUI:list:item:nav"),{component:_e=ge?j?zn:Nr:ea}=e;Ye("SMUI:generic:input:props",{id:F}),Ye("SMUI:separator:context",void 0),vr(()=>{if(!A&&!_){let te=!0,Xe=R;for(;Xe.previousSibling;)if(Xe=Xe.previousSibling,Xe.nodeType===1&&Xe.classList.contains("mdc-deprecated-list-item")&&!Xe.classList.contains("mdc-deprecated-list-item--disabled")){te=!1;break}te&&(z=window.requestAnimationFrame(gt))}const B={_smui_list_item_accessor:!0,get element(){return D()},get selected(){return A},set selected(te){t(0,A=te)},hasClass:Re,addClass:$e,removeClass:ke,getAttr:vt,addAttr:G,removeAttr:q,getPrimaryText:W,get checked(){var te;return(te=O&&O.checked)!==null&&te!==void 0?te:!1},set checked(te){O&&t(14,O.checked=!!te,O)},get hasCheckbox(){return!!(O&&"_smui_checkbox_accessor"in O)},get hasRadio(){return!!(O&&"_smui_radio_accessor"in O)},activateRipple(){O&&O.activateRipple()},deactivateRipple(){O&&O.deactivateRipple()},getValue(){return a.value},action:Lt,get tabindex(){return n},set tabindex(te){t(28,T=te)},get disabled(){return E},get activated(){return g},set activated(te){t(1,g=te)}};return Ke(D(),"SMUIListItem:mount",B),()=>{Ke(D(),"SMUIListItem:unmount",B)}}),Yr(()=>{z&&window.cancelAnimationFrame(z)});function Re(B){return B in C?C[B]:D().classList.contains(B)}function $e(B){C[B]||t(16,C[B]=!0,C)}function ke(B){(!(B in C)||C[B])&&t(16,C[B]=!1,C)}function pt(B,te){$[B]!=te&&(te===""||te==null?(delete $[B],t(17,$)):t(17,$[B]=te,$))}function vt(B){var te;return B in K?(te=K[B])!==null&&te!==void 0?te:null:D().getAttribute(B)}function G(B,te){K[B]!==te&&t(18,K[B]=te,K)}function q(B){(!(B in K)||K[B]!=null)&&t(18,K[B]=void 0,K)}function gt(){let B=!0,te=R.getElement();for(;te.nextElementSibling;)if(te=te.nextElementSibling,te.nodeType===1&&te.classList.contains("mdc-deprecated-list-item")){const Xe=te.attributes.getNamedItem("tabindex");if(Xe&&Xe.value==="0"){B=!1;break}}B&&t(19,n=0)}function _t(B){const te=B.key==="Enter",Xe=B.key==="Space";(te||Xe)&&Lt(B)}function we(B){("_smui_checkbox_accessor"in B.detail||"_smui_radio_accessor"in B.detail)&&t(14,O=B.detail)}function Lt(B){E||Ke(D(),"SMUI:action",B)}function W(){var B,te,Xe;const bt=D(),Lr=bt.querySelector(".mdc-deprecated-list-item__primary-text");if(Lr)return(B=Lr.textContent)!==null&&B!==void 0?B:"";const Qr=bt.querySelector(".mdc-deprecated-list-item__text");return Qr?(te=Qr.textContent)!==null&&te!==void 0?te:"":(Xe=bt.textContent)!==null&&Xe!==void 0?Xe:""}function D(){return R.getElement()}function We(B){Ne[B?"unshift":"push"](()=>{R=B,t(15,R)})}const qr=()=>t(14,O=void 0);return r.$$set=B=>{e=ae(ae({},e),Ct(B)),t(27,a=Oe(e,i)),"use"in B&&t(2,d=B.use),"class"in B&&t(3,h=B.class),"style"in B&&t(4,p=B.style),"color"in B&&t(5,v=B.color),"nonInteractive"in B&&t(6,_=B.nonInteractive),"ripple"in B&&t(7,x=B.ripple),"activated"in B&&t(1,g=B.activated),"role"in B&&t(8,y=B.role),"selected"in B&&t(0,A=B.selected),"disabled"in B&&t(9,E=B.disabled),"skipRestoreFocus"in B&&t(10,S=B.skipRestoreFocus),"tabindex"in B&&t(28,T=B.tabindex),"inputId"in B&&t(29,F=B.inputId),"href"in B&&t(11,j=B.href),"component"in B&&t(12,_e=B.component),"$$scope"in B&&t(35,s=B.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&268452417&&t(19,n=l(T)?!_&&!E&&(A||O&&O.checked)?0:-1:T)},[A,g,d,h,p,v,_,x,y,E,S,j,_e,Lt,O,R,C,$,K,n,u,ge,$e,ke,pt,_t,we,a,T,F,W,D,o,We,qr,s]}let Yu=class extends Le{constructor(e){super(),Be(this,e,ju,Xu,Fe,{use:2,class:3,style:4,color:5,nonInteractive:6,ripple:7,activated:1,role:8,selected:0,disabled:9,skipRestoreFocus:10,tabindex:28,inputId:29,href:11,component:12,action:13,getPrimaryText:30,getElement:31},null,[-1,-1])}get action(){return this.$$.ctx[13]}get getPrimaryText(){return this.$$.ctx[30]}get getElement(){return this.$$.ctx[31]}};const Zr=At({class:"mdc-deprecated-list-item__text",component:Nr});At({class:"mdc-deprecated-list-item__primary-text",component:Nr});At({class:"mdc-deprecated-list-item__secondary-text",component:Nr});function Ku(r){let e,t,n,i,a,o;const s=r[8].default,f=Rt(s,r,r[7],null);let u=[{class:t=Ee({[r[1]]:!0,"mdc-deprecated-list-item__graphic":!0,"mdc-menu__selection-group-icon":r[4]})},r[5]],c={};for(let l=0;l<u.length;l+=1)c=ae(c,u[l]);return{c(){e=de("span"),f&&f.c(),this.h()},l(l){e=he(l,"SPAN",{class:!0});var d=pe(e);f&&f.l(d),d.forEach(w),this.h()},h(){ft(e,c)},m(l,d){L(l,e,d),f&&f.m(e,null),r[9](e),i=!0,a||(o=[mt(n=pr.call(null,e,r[0])),mt(r[3].call(null,e))],a=!0)},p(l,[d]){f&&f.p&&(!i||d&128)&&Nt(f,s,l,l[7],i?Pt(s,l[7],d,null):Mt(l[7]),null),ft(e,c=yt(u,[(!i||d&2&&t!==(t=Ee({[l[1]]:!0,"mdc-deprecated-list-item__graphic":!0,"mdc-menu__selection-group-icon":l[4]})))&&{class:t},d&32&&l[5]])),n&&nr(n.update)&&d&1&&n.update.call(null,l[0])},i(l){i||(M(f,l),i=!0)},o(l){P(f,l),i=!1},d(l){l&&w(e),f&&f.d(l),r[9](null),a=!1,Dr(o)}}}function $u(r,e,t){const n=["use","class","getElement"];let i=Oe(e,n),{$$slots:a={},$$scope:o}=e;const s=wt(St());let{use:f=[]}=e,{class:u=""}=e,c,l=xt("SMUI:list:graphic:menu-selection-group");function d(){return c}function h(p){Ne[p?"unshift":"push"](()=>{c=p,t(2,c)})}return r.$$set=p=>{e=ae(ae({},e),Ct(p)),t(5,i=Oe(e,n)),"use"in p&&t(0,f=p.use),"class"in p&&t(1,u=p.class),"$$scope"in p&&t(7,o=p.$$scope)},[f,u,c,s,l,i,d,o,a,h]}let Zu=class extends Le{constructor(e){super(),Be(this,e,$u,Ku,Fe,{use:0,class:1,getElement:6})}get getElement(){return this.$$.ctx[6]}};At({class:"mdc-deprecated-list-item__meta",component:Nr});At({class:"mdc-deprecated-list-group",component:gn});At({class:"mdc-deprecated-list-group__subheader",component:Fa});function qu(r){let e,t,n;const i=[{use:[r[9],...r[0]]},{class:Ee({[r[1]]:!0,"mdc-deprecated-list-divider":!0,"mdc-deprecated-list-divider--padded":r[2],"mdc-deprecated-list-divider--inset":r[3],"mdc-deprecated-list-divider--inset-leading":r[4],"mdc-deprecated-list-divider--inset-trailing":r[5],"mdc-deprecated-list-divider--inset-padding":r[6]})},{role:"separator"},r[10]];var a=r[7];function o(s){let f={};for(let u=0;u<i.length;u+=1)f=ae(f,i[u]);return{props:f}}return a&&(e=kt(a,o()),r[12](e)),{c(){e&&U(e.$$.fragment),t=Pe()},l(s){e&&X(e.$$.fragment,s),t=Pe()},m(s,f){e&&H(e,s,f),L(s,t,f),n=!0},p(s,[f]){const u=f&1663?yt(i,[f&513&&{use:[s[9],...s[0]]},f&126&&{class:Ee({[s[1]]:!0,"mdc-deprecated-list-divider":!0,"mdc-deprecated-list-divider--padded":s[2],"mdc-deprecated-list-divider--inset":s[3],"mdc-deprecated-list-divider--inset-leading":s[4],"mdc-deprecated-list-divider--inset-trailing":s[5],"mdc-deprecated-list-divider--inset-padding":s[6]})},i[2],f&1024&&st(s[10])]):{};if(a!==(a=s[7])){if(e){Xt();const c=e;P(c.$$.fragment,1,0,()=>{V(c,1)}),zt()}a?(e=kt(a,o()),s[12](e),U(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else a&&e.$set(u)},i(s){n||(e&&M(e.$$.fragment,s),n=!0)},o(s){e&&P(e.$$.fragment,s),n=!1},d(s){r[12](null),s&&w(t),e&&V(e,s)}}}function Qu(r,e,t){const n=["use","class","padded","inset","insetLeading","insetTrailing","insetPadding","component","getElement"];let i=Oe(e,n);const a=wt(St());let{use:o=[]}=e,{class:s=""}=e,{padded:f=!1}=e,{inset:u=!1}=e,{insetLeading:c=!1}=e,{insetTrailing:l=!1}=e,{insetPadding:d=!1}=e,h,p=xt("SMUI:list:item:nav"),v=xt("SMUI:separator:context"),{component:_=p||v!=="list"?ka:ea}=e;function x(){return h.getElement()}function g(y){Ne[y?"unshift":"push"](()=>{h=y,t(8,h)})}return r.$$set=y=>{e=ae(ae({},e),Ct(y)),t(10,i=Oe(e,n)),"use"in y&&t(0,o=y.use),"class"in y&&t(1,s=y.class),"padded"in y&&t(2,f=y.padded),"inset"in y&&t(3,u=y.inset),"insetLeading"in y&&t(4,c=y.insetLeading),"insetTrailing"in y&&t(5,l=y.insetTrailing),"insetPadding"in y&&t(6,d=y.insetPadding),"component"in y&&t(7,_=y.component)},[o,s,f,u,c,l,d,_,h,a,i,x,g]}let Ju=class extends Le{constructor(e){super(),Be(this,e,Qu,qu,Fe,{use:0,class:1,padded:2,inset:3,insetLeading:4,insetTrailing:5,insetPadding:6,component:7,getElement:11})}get getElement(){return this.$$.ctx[11]}};const zr=Yu,Pr=Zu,ec=Ju;At({class:"mdc-menu__selection-group-icon",component:Pr});/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Vt={CLOSING:"mdc-snackbar--closing",OPEN:"mdc-snackbar--open",OPENING:"mdc-snackbar--opening"},yn={ACTION_SELECTOR:".mdc-snackbar__action",ARIA_LIVE_LABEL_TEXT_ATTR:"data-mdc-snackbar-label-text",CLOSED_EVENT:"MDCSnackbar:closed",CLOSING_EVENT:"MDCSnackbar:closing",DISMISS_SELECTOR:".mdc-snackbar__dismiss",LABEL_SELECTOR:".mdc-snackbar__label",OPENED_EVENT:"MDCSnackbar:opened",OPENING_EVENT:"MDCSnackbar:opening",REASON_ACTION:"action",REASON_DISMISS:"dismiss",SURFACE_SELECTOR:".mdc-snackbar__surface"},Bt={DEFAULT_AUTO_DISMISS_TIMEOUT_MS:5e3,INDETERMINATE:-1,MAX_AUTO_DISMISS_TIMEOUT_MS:1e4,MIN_AUTO_DISMISS_TIMEOUT_MS:4e3,SNACKBAR_ANIMATION_CLOSE_TIME_MS:75,SNACKBAR_ANIMATION_OPEN_TIME_MS:150,ARIA_LIVE_DELAY_MS:1e3};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var tc=Bt.ARIA_LIVE_DELAY_MS,Ui=yn.ARIA_LIVE_LABEL_TEXT_ATTR;function rc(r,e){e===void 0&&(e=r);var t=r.getAttribute("aria-live"),n=e.textContent.trim();!n||!t||(r.setAttribute("aria-live","off"),e.textContent="",e.innerHTML='<span style="display: inline-block; width: 0; height: 1px;">&nbsp;</span>',e.setAttribute(Ui,n),setTimeout(function(){r.setAttribute("aria-live",t),e.removeAttribute(Ui),e.textContent=n},tc))}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Hi=Vt.OPENING,Vi=Vt.OPEN,Gi=Vt.CLOSING,nc=yn.REASON_ACTION,bn=yn.REASON_DISMISS,ic=function(r){jt(e,r);function e(t){var n=r.call(this,It(It({},e.defaultAdapter),t))||this;return n.opened=!1,n.animationFrame=0,n.animationTimer=0,n.autoDismissTimer=0,n.autoDismissTimeoutMs=Bt.DEFAULT_AUTO_DISMISS_TIMEOUT_MS,n.closeOnEscape=!0,n}return Object.defineProperty(e,"cssClasses",{get:function(){return Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return yn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Bt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},announce:function(){},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},removeClass:function(){}}},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.clearAutoDismissTimer(),cancelAnimationFrame(this.animationFrame),this.animationFrame=0,clearTimeout(this.animationTimer),this.animationTimer=0,this.adapter.removeClass(Hi),this.adapter.removeClass(Vi),this.adapter.removeClass(Gi)},e.prototype.open=function(){var t=this;this.clearAutoDismissTimer(),this.opened=!0,this.adapter.notifyOpening(),this.adapter.removeClass(Gi),this.adapter.addClass(Hi),this.adapter.announce(),this.runNextAnimationFrame(function(){t.adapter.addClass(Vi),t.animationTimer=setTimeout(function(){var n=t.getTimeoutMs();t.handleAnimationTimerEnd(),t.adapter.notifyOpened(),n!==Bt.INDETERMINATE&&(t.autoDismissTimer=setTimeout(function(){t.close(bn)},n))},Bt.SNACKBAR_ANIMATION_OPEN_TIME_MS)})},e.prototype.close=function(t){var n=this;t===void 0&&(t=""),this.opened&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=0,this.clearAutoDismissTimer(),this.opened=!1,this.adapter.notifyClosing(t),this.adapter.addClass(Vt.CLOSING),this.adapter.removeClass(Vt.OPEN),this.adapter.removeClass(Vt.OPENING),clearTimeout(this.animationTimer),this.animationTimer=setTimeout(function(){n.handleAnimationTimerEnd(),n.adapter.notifyClosed(t)},Bt.SNACKBAR_ANIMATION_CLOSE_TIME_MS))},e.prototype.isOpen=function(){return this.opened},e.prototype.getTimeoutMs=function(){return this.autoDismissTimeoutMs},e.prototype.setTimeoutMs=function(t){var n=Bt.MIN_AUTO_DISMISS_TIMEOUT_MS,i=Bt.MAX_AUTO_DISMISS_TIMEOUT_MS,a=Bt.INDETERMINATE;if(t===Bt.INDETERMINATE||t<=i&&t>=n)this.autoDismissTimeoutMs=t;else throw new Error(`
        timeoutMs must be an integer in the range `+n+"â€“"+i+`
        (or `+a+" to disable), but got '"+t+"'")},e.prototype.getCloseOnEscape=function(){return this.closeOnEscape},e.prototype.setCloseOnEscape=function(t){this.closeOnEscape=t},e.prototype.handleKeyDown=function(t){var n=t.key==="Escape"||t.keyCode===27;n&&this.getCloseOnEscape()&&this.close(bn)},e.prototype.handleActionButtonClick=function(t){this.close(nc)},e.prototype.handleActionIconClick=function(t){this.close(bn)},e.prototype.clearAutoDismissTimer=function(){clearTimeout(this.autoDismissTimer),this.autoDismissTimer=0},e.prototype.handleAnimationTimerEnd=function(){this.animationTimer=0,this.adapter.removeClass(Vt.OPENING),this.adapter.removeClass(Vt.CLOSING)},e.prototype.runNextAnimationFrame=function(t){var n=this;cancelAnimationFrame(this.animationFrame),this.animationFrame=requestAnimationFrame(function(){n.animationFrame=0,clearTimeout(n.animationTimer),n.animationTimer=setTimeout(t,0)})},e}(Rr);function ac(r){let e,t,n,i,a,o,s,f,u;const c=r[25].default,l=Rt(c,r,r[24],null);let d=[{class:n=Ee({[r[4]]:!0,"mdc-snackbar__surface":!0})},{role:"status"},{"aria-relevant":"additions"},ai(r[12],"surface$")],h={};for(let _=0;_<d.length;_+=1)h=ae(h,d[_]);let p=[{class:a=Ee({[r[1]]:!0,"mdc-snackbar":!0,"mdc-snackbar--stacked":r[2]==="stacked","mdc-snackbar--leading":r[3],...r[8]})},ii(r[12],["surface$"])],v={};for(let _=0;_<p.length;_+=1)v=ae(v,p[_]);return{c(){e=de("aside"),t=de("div"),l&&l.c(),this.h()},l(_){e=he(_,"ASIDE",{class:!0});var x=pe(e);t=he(x,"DIV",{class:!0,role:!0,"aria-relevant":!0});var g=pe(t);l&&l.l(g),g.forEach(w),x.forEach(w),this.h()},h(){ft(t,h),ft(e,v)},m(_,x){L(_,e,x),De(e,t),l&&l.m(t,null),r[26](e),s=!0,f||(u=[mt(i=pr.call(null,t,r[5])),er(t,"click",r[10]),mt(o=pr.call(null,e,r[0])),mt(r[9].call(null,e)),er(e,"SMUISnackbar:closed",r[11]),er(e,"keydown",r[27])],f=!0)},p(_,x){l&&l.p&&(!s||x[0]&16777216)&&Nt(l,c,_,_[24],s?Pt(c,_[24],x,null):Mt(_[24]),null),ft(t,h=yt(d,[(!s||x[0]&16&&n!==(n=Ee({[_[4]]:!0,"mdc-snackbar__surface":!0})))&&{class:n},{role:"status"},{"aria-relevant":"additions"},x[0]&4096&&ai(_[12],"surface$")])),i&&nr(i.update)&&x[0]&32&&i.update.call(null,_[5]),ft(e,v=yt(p,[(!s||x[0]&270&&a!==(a=Ee({[_[1]]:!0,"mdc-snackbar":!0,"mdc-snackbar--stacked":_[2]==="stacked","mdc-snackbar--leading":_[3],..._[8]})))&&{class:a},x[0]&4096&&ii(_[12],["surface$"])])),o&&nr(o.update)&&x[0]&1&&o.update.call(null,_[0])},i(_){s||(M(l,_),s=!0)},o(_){P(l,_),s=!1},d(_){_&&w(e),l&&l.d(_),r[26](null),f=!1,Dr(u)}}}let Wi=Promise.resolve();function oc(r,e,t){const n=["use","class","variant","leading","timeoutMs","closeOnEscape","labelText","actionButtonText","surface$class","surface$use","open","forceOpen","close","isOpen","getLabelElement","getActionButtonElement","getElement"];let i=Oe(e,n),{$$slots:a={},$$scope:o}=e;const{closest:s}=Yn,f=wt(St());let u=()=>{};function c(G){return G===u}let{use:l=[]}=e,{class:d=""}=e,{variant:h=""}=e,{leading:p=!1}=e,{timeoutMs:v=5e3}=e,{closeOnEscape:_=!0}=e,{labelText:x=u}=e,{actionButtonText:g=u}=e,{surface$class:y=""}=e,{surface$use:A=[]}=e,E,S,T={},F,j=new Promise(G=>F=G);Ye("SMUI:label:context","snackbar"),vr(()=>(t(6,S=new ic({addClass:R,announce:()=>rc(Re()),notifyClosed:G=>Ke(ke(),"SMUISnackbar:closed",G?{reason:G}:{},void 0,!0),notifyClosing:G=>Ke(ke(),"SMUISnackbar:closing",G?{reason:G}:{},void 0,!0),notifyOpened:()=>Ke(ke(),"SMUISnackbar:opened",void 0,void 0,!0),notifyOpening:()=>Ke(ke(),"SMUISnackbar:opening",void 0,void 0,!0),removeClass:C})),S.init(),()=>{S.destroy()}));function R(G){T[G]||t(8,T[G]=!0,T)}function C(G){(!(G in T)||T[G])&&t(8,T[G]=!1,T)}function $(G){const q=G.target;S&&(s(q,".mdc-snackbar__action")?S.handleActionButtonClick(G):s(q,".mdc-snackbar__dismiss")&&S.handleActionIconClick(G))}function K(){F(),j=new Promise(G=>F=G)}function O(){Wi=Wi.then(()=>(S.open(),j))}function z(){return S.open()}function ge(G){return S.close(G)}function _e(){return S.isOpen()}function Re(){var G;return(G=ke().querySelector(".mdc-snackbar__label"))!==null&&G!==void 0?G:document.createElement("div")}function $e(){var G;return(G=ke().querySelector(".mdc-snackbar__action"))!==null&&G!==void 0?G:document.createElement("button")}function ke(){return E}function pt(G){Ne[G?"unshift":"push"](()=>{E=G,t(7,E)})}const vt=G=>S&&S.handleKeyDown(G);return r.$$set=G=>{e=ae(ae({},e),Ct(G)),t(12,i=Oe(e,n)),"use"in G&&t(0,l=G.use),"class"in G&&t(1,d=G.class),"variant"in G&&t(2,h=G.variant),"leading"in G&&t(3,p=G.leading),"timeoutMs"in G&&t(13,v=G.timeoutMs),"closeOnEscape"in G&&t(14,_=G.closeOnEscape),"labelText"in G&&t(15,x=G.labelText),"actionButtonText"in G&&t(16,g=G.actionButtonText),"surface$class"in G&&t(4,y=G.surface$class),"surface$use"in G&&t(5,A=G.surface$use),"$$scope"in G&&t(24,o=G.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&8256&&S&&S.getTimeoutMs()!==v&&S.setTimeoutMs(v),r.$$.dirty[0]&16448&&S&&S.getCloseOnEscape()!==_&&S.setCloseOnEscape(_),r.$$.dirty[0]&32832&&S&&!c(x)&&Re().textContent!==x&&(Re().textContent=x),r.$$.dirty[0]&65600&&S&&!c(g)&&$e().textContent!==g&&($e().textContent=g)},[l,d,h,p,y,A,S,E,T,f,$,K,i,v,_,x,g,O,z,ge,_e,Re,$e,ke,o,a,pt,vt]}class Tn extends Le{constructor(e){super(),Be(this,e,oc,ac,Fe,{use:0,class:1,variant:2,leading:3,timeoutMs:13,closeOnEscape:14,labelText:15,actionButtonText:16,surface$class:4,surface$use:5,open:17,forceOpen:18,close:19,isOpen:20,getLabelElement:21,getActionButtonElement:22,getElement:23},null,[-1,-1])}get open(){return this.$$.ctx[17]}get forceOpen(){return this.$$.ctx[18]}get close(){return this.$$.ctx[19]}get isOpen(){return this.$$.ctx[20]}get getLabelElement(){return this.$$.ctx[21]}get getActionButtonElement(){return this.$$.ctx[22]}get getElement(){return this.$$.ctx[23]}}const ya=At({class:"mdc-snackbar__actions",props:{"aria-atomic":"true"},contexts:{"SMUI:button:context":"snackbar:actions","SMUI:icon-button:context":"snackbar:actions","SMUI:label:context":void 0},component:gn});/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var lr={FIXED_CLASS:"mdc-top-app-bar--fixed",FIXED_SCROLLED_CLASS:"mdc-top-app-bar--fixed-scrolled",SHORT_CLASS:"mdc-top-app-bar--short",SHORT_COLLAPSED_CLASS:"mdc-top-app-bar--short-collapsed",SHORT_HAS_ACTION_ITEM_CLASS:"mdc-top-app-bar--short-has-action-item"},hn={DEBOUNCE_THROTTLE_RESIZE_TIME_MS:100,MAX_TOP_APP_BAR_HEIGHT:128},sc={ACTION_ITEM_SELECTOR:".mdc-top-app-bar__action-item",NAVIGATION_EVENT:"MDCTopAppBar:nav",NAVIGATION_ICON_SELECTOR:".mdc-top-app-bar__navigation-icon",ROOT_SELECTOR:".mdc-top-app-bar",TITLE_SELECTOR:".mdc-top-app-bar__title"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ti=function(r){jt(e,r);function e(t){return r.call(this,It(It({},e.defaultAdapter),t))||this}return Object.defineProperty(e,"strings",{get:function(){return sc},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return lr},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return hn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},getTopAppBarHeight:function(){return 0},notifyNavigationIconClicked:function(){},getViewportScrollY:function(){return 0},getTotalActionItems:function(){return 0}}},enumerable:!1,configurable:!0}),e.prototype.handleTargetScroll=function(){},e.prototype.handleWindowResize=function(){},e.prototype.handleNavigationClick=function(){this.adapter.notifyNavigationIconClicked()},e}(Rr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var nn=0,Aa=function(r){jt(e,r);function e(t){var n=r.call(this,t)||this;return n.wasDocked=!0,n.isDockedShowing=!0,n.currentAppBarOffsetTop=0,n.isCurrentlyBeingResized=!1,n.resizeThrottleId=nn,n.resizeDebounceId=nn,n.lastScrollPosition=n.adapter.getViewportScrollY(),n.topAppBarHeight=n.adapter.getTopAppBarHeight(),n}return e.prototype.destroy=function(){r.prototype.destroy.call(this),this.adapter.setStyle("top","")},e.prototype.handleTargetScroll=function(){var t=Math.max(this.adapter.getViewportScrollY(),0),n=t-this.lastScrollPosition;this.lastScrollPosition=t,this.isCurrentlyBeingResized||(this.currentAppBarOffsetTop-=n,this.currentAppBarOffsetTop>0?this.currentAppBarOffsetTop=0:Math.abs(this.currentAppBarOffsetTop)>this.topAppBarHeight&&(this.currentAppBarOffsetTop=-this.topAppBarHeight),this.moveTopAppBar())},e.prototype.handleWindowResize=function(){var t=this;this.resizeThrottleId||(this.resizeThrottleId=setTimeout(function(){t.resizeThrottleId=nn,t.throttledResizeHandler()},hn.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)),this.isCurrentlyBeingResized=!0,this.resizeDebounceId&&clearTimeout(this.resizeDebounceId),this.resizeDebounceId=setTimeout(function(){t.handleTargetScroll(),t.isCurrentlyBeingResized=!1,t.resizeDebounceId=nn},hn.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)},e.prototype.checkForUpdate=function(){var t=-this.topAppBarHeight,n=this.currentAppBarOffsetTop<0,i=this.currentAppBarOffsetTop>t,a=n&&i;if(a)this.wasDocked=!1;else if(this.wasDocked){if(this.isDockedShowing!==i)return this.isDockedShowing=i,!0}else return this.wasDocked=!0,!0;return a},e.prototype.moveTopAppBar=function(){if(this.checkForUpdate()){var t=this.currentAppBarOffsetTop;Math.abs(t)>=this.topAppBarHeight&&(t=-hn.MAX_TOP_APP_BAR_HEIGHT),this.adapter.setStyle("top",t+"px")}},e.prototype.throttledResizeHandler=function(){var t=this.adapter.getTopAppBarHeight();this.topAppBarHeight!==t&&(this.wasDocked=!1,this.currentAppBarOffsetTop-=this.topAppBarHeight-t,this.topAppBarHeight=t),this.handleTargetScroll()},e}(ti);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var fc=function(r){jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.wasScrolled=!1,t}return e.prototype.handleTargetScroll=function(){var t=this.adapter.getViewportScrollY();t<=0?this.wasScrolled&&(this.adapter.removeClass(lr.FIXED_SCROLLED_CLASS),this.wasScrolled=!1):this.wasScrolled||(this.adapter.addClass(lr.FIXED_SCROLLED_CLASS),this.wasScrolled=!0)},e}(Aa);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var uc=function(r){jt(e,r);function e(t){var n=r.call(this,t)||this;return n.collapsed=!1,n.isAlwaysCollapsed=!1,n}return Object.defineProperty(e.prototype,"isCollapsed",{get:function(){return this.collapsed},enumerable:!1,configurable:!0}),e.prototype.init=function(){r.prototype.init.call(this),this.adapter.getTotalActionItems()>0&&this.adapter.addClass(lr.SHORT_HAS_ACTION_ITEM_CLASS),this.setAlwaysCollapsed(this.adapter.hasClass(lr.SHORT_COLLAPSED_CLASS))},e.prototype.setAlwaysCollapsed=function(t){this.isAlwaysCollapsed=!!t,this.isAlwaysCollapsed?this.collapse():this.maybeCollapseBar()},e.prototype.getAlwaysCollapsed=function(){return this.isAlwaysCollapsed},e.prototype.handleTargetScroll=function(){this.maybeCollapseBar()},e.prototype.maybeCollapseBar=function(){if(!this.isAlwaysCollapsed){var t=this.adapter.getViewportScrollY();t<=0?this.collapsed&&this.uncollapse():this.collapsed||this.collapse()}},e.prototype.uncollapse=function(){this.adapter.removeClass(lr.SHORT_COLLAPSED_CLASS),this.collapsed=!1},e.prototype.collapse=function(){this.adapter.addClass(lr.SHORT_COLLAPSED_CLASS),this.collapsed=!0},e}(ti);const{window:Xi}=Zi;function cc(r){let e,t,n,i,a,o,s;const f=r[22].default,u=Rt(f,r,r[21],null);let c=[{class:t=Ee({[r[2]]:!0,"mdc-top-app-bar":!0,"mdc-top-app-bar--short":r[4]==="short","mdc-top-app-bar--short-collapsed":r[0],"mdc-top-app-bar--fixed":r[4]==="fixed","smui-top-app-bar--static":r[4]==="static","smui-top-app-bar--color-secondary":r[5]==="secondary","mdc-top-app-bar--prominent":r[6],"mdc-top-app-bar--dense":r[7],...r[11]})},{style:n=Object.entries(r[12]).map(zi).concat([r[3]]).join(" ")},r[15]],l={};for(let d=0;d<c.length;d+=1)l=ae(l,c[d]);return{c(){e=de("header"),u&&u.c(),this.h()},l(d){e=he(d,"HEADER",{class:!0,style:!0});var h=pe(e);u&&u.l(h),h.forEach(w),this.h()},h(){ft(e,l)},m(d,h){L(d,e,h),u&&u.m(e,null),r[25](e),a=!0,o||(s=[er(Xi,"resize",r[23]),er(Xi,"scroll",r[24]),mt(i=pr.call(null,e,r[1])),mt(r[13].call(null,e)),er(e,"SMUITopAppBarIconButton:nav",r[26])],o=!0)},p(d,h){u&&u.p&&(!a||h[0]&2097152)&&Nt(u,f,d,d[21],a?Pt(f,d[21],h,null):Mt(d[21]),null),ft(e,l=yt(c,[(!a||h[0]&2293&&t!==(t=Ee({[d[2]]:!0,"mdc-top-app-bar":!0,"mdc-top-app-bar--short":d[4]==="short","mdc-top-app-bar--short-collapsed":d[0],"mdc-top-app-bar--fixed":d[4]==="fixed","smui-top-app-bar--static":d[4]==="static","smui-top-app-bar--color-secondary":d[5]==="secondary","mdc-top-app-bar--prominent":d[6],"mdc-top-app-bar--dense":d[7],...d[11]})))&&{class:t},(!a||h[0]&4104&&n!==(n=Object.entries(d[12]).map(zi).concat([d[3]]).join(" ")))&&{style:n},h[0]&32768&&d[15]])),i&&nr(i.update)&&h[0]&2&&i.update.call(null,d[1])},i(d){a||(M(u,d),a=!0)},o(d){P(u,d),a=!1},d(d){d&&w(e),u&&u.d(d),r[25](null),o=!1,Dr(s)}}}const zi=([r,e])=>`${r}: ${e};`;function lc(r,e,t){const n=["use","class","style","variant","color","collapsed","prominent","dense","scrollTarget","getPropStore","getElement"];let i=Oe(e,n),{$$slots:a={},$$scope:o}=e;const s=wt(St());let f=()=>{};function u(q){return q===f}let{use:c=[]}=e,{class:l=""}=e,{style:d=""}=e,{variant:h="standard"}=e,{color:p="primary"}=e,{collapsed:v=f}=e;const _=!u(v)&&!!v;u(v)&&(v=!1);let{prominent:x=!1}=e,{dense:g=!1}=e,{scrollTarget:y=void 0}=e,A,E,S={},T={},F,j=Ma({variant:h,prominent:x,dense:g},q=>{t(18,F=q)}),R,C=h;vr(()=>(t(9,E=$()),E.init(),()=>{E.destroy()}));function $(){const q={static:ti,short:uc,fixed:fc}[h]||Aa;return new q({hasClass:K,addClass:O,removeClass:z,setStyle:ge,getTopAppBarHeight:()=>A.clientHeight,notifyNavigationIconClicked:()=>Ke(A,"SMUITopAppBar:nav",void 0,void 0,!0),getViewportScrollY:()=>y==null?window.pageYOffset:y.scrollTop,getTotalActionItems:()=>A.querySelectorAll(".mdc-top-app-bar__action-item").length})}function K(q){return q in S?S[q]:$e().classList.contains(q)}function O(q){S[q]||t(11,S[q]=!0,S)}function z(q){(!(q in S)||S[q])&&t(11,S[q]=!1,S)}function ge(q,gt){T[q]!=gt&&(gt===""||gt==null?(delete T[q],t(12,T),t(20,C),t(4,h),t(9,E)):t(12,T[q]=gt,T))}function _e(){E&&(E.handleTargetScroll(),h==="short"&&t(0,v="isCollapsed"in E&&E.isCollapsed))}function Re(){return j}function $e(){return A}const ke=()=>h!=="short"&&h!=="fixed"&&E&&E.handleWindowResize(),pt=()=>y==null&&_e();function vt(q){Ne[q?"unshift":"push"](()=>{A=q,t(10,A)})}const G=()=>E&&E.handleNavigationClick();return r.$$set=q=>{e=ae(ae({},e),Ct(q)),t(15,i=Oe(e,n)),"use"in q&&t(1,c=q.use),"class"in q&&t(2,l=q.class),"style"in q&&t(3,d=q.style),"variant"in q&&t(4,h=q.variant),"color"in q&&t(5,p=q.color),"collapsed"in q&&t(0,v=q.collapsed),"prominent"in q&&t(6,x=q.prominent),"dense"in q&&t(7,g=q.dense),"scrollTarget"in q&&t(8,y=q.scrollTarget),"$$scope"in q&&t(21,o=q.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&262352&&F&&F({variant:h,prominent:x,dense:g}),r.$$.dirty[0]&1049104&&C!==h&&E&&(t(20,C=h),E.destroy(),t(11,S={}),t(12,T={}),t(9,E=$()),E.init()),r.$$.dirty[0]&528&&E&&h==="short"&&"setAlwaysCollapsed"in E&&E.setAlwaysCollapsed(_),r.$$.dirty[0]&524544&&R!==y&&(R&&R.removeEventListener("scroll",_e),y&&y.addEventListener("scroll",_e),t(19,R=y))},[v,c,l,d,h,p,x,g,y,E,A,S,T,s,_e,i,Re,$e,F,R,C,o,a,ke,pt,vt,G]}class dc extends Le{constructor(e){super(),Be(this,e,lc,cc,Fe,{use:1,class:2,style:3,variant:4,color:5,collapsed:0,prominent:6,dense:7,scrollTarget:8,getPropStore:16,getElement:17},null,[-1,-1])}get getPropStore(){return this.$$.ctx[16]}get getElement(){return this.$$.ctx[17]}}const hc=At({class:"mdc-top-app-bar__row",component:gn});function pc(r){let e,t,n,i,a,o;const s=r[9].default,f=Rt(s,r,r[8],null);let u=[{class:t=Ee({[r[1]]:!0,"mdc-top-app-bar__section":!0,"mdc-top-app-bar__section--align-start":r[2]==="start","mdc-top-app-bar__section--align-end":r[2]==="end"})},r[3]?{role:"toolbar"}:{},r[6]],c={};for(let l=0;l<u.length;l+=1)c=ae(c,u[l]);return{c(){e=de("section"),f&&f.c(),this.h()},l(l){e=he(l,"SECTION",{class:!0});var d=pe(e);f&&f.l(d),d.forEach(w),this.h()},h(){ft(e,c)},m(l,d){L(l,e,d),f&&f.m(e,null),r[10](e),i=!0,a||(o=[mt(n=pr.call(null,e,r[0])),mt(r[5].call(null,e))],a=!0)},p(l,[d]){f&&f.p&&(!i||d&256)&&Nt(f,s,l,l[8],i?Pt(s,l[8],d,null):Mt(l[8]),null),ft(e,c=yt(u,[(!i||d&6&&t!==(t=Ee({[l[1]]:!0,"mdc-top-app-bar__section":!0,"mdc-top-app-bar__section--align-start":l[2]==="start","mdc-top-app-bar__section--align-end":l[2]==="end"})))&&{class:t},d&8&&(l[3]?{role:"toolbar"}:{}),d&64&&l[6]])),n&&nr(n.update)&&d&1&&n.update.call(null,l[0])},i(l){i||(M(f,l),i=!0)},o(l){P(f,l),i=!1},d(l){l&&w(e),f&&f.d(l),r[10](null),a=!1,Dr(o)}}}function vc(r,e,t){const n=["use","class","align","toolbar","getElement"];let i=Oe(e,n),{$$slots:a={},$$scope:o}=e;const s=wt(St());let{use:f=[]}=e,{class:u=""}=e,{align:c="start"}=e,{toolbar:l=!1}=e,d;Ye("SMUI:icon-button:context",l?"top-app-bar:action":"top-app-bar:navigation"),Ye("SMUI:button:context",l?"top-app-bar:action":"top-app-bar:navigation");function h(){return d}function p(v){Ne[v?"unshift":"push"](()=>{d=v,t(4,d)})}return r.$$set=v=>{e=ae(ae({},e),Ct(v)),t(6,i=Oe(e,n)),"use"in v&&t(0,f=v.use),"class"in v&&t(1,u=v.class),"align"in v&&t(2,c=v.align),"toolbar"in v&&t(3,l=v.toolbar),"$$scope"in v&&t(8,o=v.$$scope)},[f,u,c,l,d,s,i,h,o,a,p]}let gc=class extends Le{constructor(e){super(),Be(this,e,vc,pc,Fe,{use:0,class:1,align:2,toolbar:3,getElement:7})}get getElement(){return this.$$.ctx[7]}};const _c=At({class:"mdc-top-app-bar__title",component:Nr}),ji=gc;/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var an={ICON_BUTTON_ON:"mdc-icon-button--on",ROOT:"mdc-icon-button"},Ht={ARIA_LABEL:"aria-label",ARIA_PRESSED:"aria-pressed",DATA_ARIA_LABEL_OFF:"data-aria-label-off",DATA_ARIA_LABEL_ON:"data-aria-label-on",CHANGE_EVENT:"MDCIconButtonToggle:change"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var xc=function(r){jt(e,r);function e(t){var n=r.call(this,It(It({},e.defaultAdapter),t))||this;return n.hasToggledAriaLabel=!1,n}return Object.defineProperty(e,"cssClasses",{get:function(){return an},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Ht},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},hasClass:function(){return!1},notifyChange:function(){},removeClass:function(){},getAttr:function(){return null},setAttr:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=this.adapter.getAttr(Ht.DATA_ARIA_LABEL_ON),n=this.adapter.getAttr(Ht.DATA_ARIA_LABEL_OFF);if(t&&n){if(this.adapter.getAttr(Ht.ARIA_PRESSED)!==null)throw new Error("MDCIconButtonToggleFoundation: Button should not set `aria-pressed` if it has a toggled aria label.");this.hasToggledAriaLabel=!0}else this.adapter.setAttr(Ht.ARIA_PRESSED,String(this.isOn()))},e.prototype.handleClick=function(){this.toggle(),this.adapter.notifyChange({isOn:this.isOn()})},e.prototype.isOn=function(){return this.adapter.hasClass(an.ICON_BUTTON_ON)},e.prototype.toggle=function(t){if(t===void 0&&(t=!this.isOn()),t?this.adapter.addClass(an.ICON_BUTTON_ON):this.adapter.removeClass(an.ICON_BUTTON_ON),this.hasToggledAriaLabel){var n=t?this.adapter.getAttr(Ht.DATA_ARIA_LABEL_ON):this.adapter.getAttr(Ht.DATA_ARIA_LABEL_OFF);this.adapter.setAttr(Ht.ARIA_LABEL,n||"")}else this.adapter.setAttr(Ht.ARIA_PRESSED,""+t)},e}(Rr);function Yi(r){let e;return{c(){e=de("div"),this.h()},l(t){e=he(t,"DIV",{class:!0}),pe(e).forEach(w),this.h()},h(){me(e,"class","mdc-icon-button__touch")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function mc(r){let e,t,n,i;const a=r[32].default,o=Rt(a,r,r[36],null);let s=r[8]&&Yi();return{c(){e=de("div"),t=se(),o&&o.c(),s&&s.c(),n=Pe(),this.h()},l(f){e=he(f,"DIV",{class:!0}),pe(e).forEach(w),t=fe(f),o&&o.l(f),s&&s.l(f),n=Pe(),this.h()},h(){me(e,"class","mdc-icon-button__ripple")},m(f,u){L(f,e,u),L(f,t,u),o&&o.m(f,u),s&&s.m(f,u),L(f,n,u),i=!0},p(f,u){o&&o.p&&(!i||u[1]&32)&&Nt(o,a,f,f[36],i?Pt(a,f[36],u,null):Mt(f[36]),null),f[8]?s||(s=Yi(),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i(f){i||(M(o,f),i=!0)},o(f){P(o,f),i=!1},d(f){f&&w(e),f&&w(t),o&&o.d(f),s&&s.d(f),f&&w(n)}}}function yc(r){let e,t,n;const i=[{use:[[br,{ripple:r[4],unbounded:!0,color:r[5],disabled:!!r[28].disabled,addClass:r[25],removeClass:r[26],addStyle:r[27]}],r[21],...r[1]]},{class:Ee({[r[2]]:!0,"mdc-icon-button":!0,"mdc-icon-button--on":!r[22](r[0])&&r[0],"mdc-icon-button--touch":r[8],"mdc-icon-button--display-flex":r[9],"smui-icon-button--size-button":r[10]==="button","mdc-icon-button--reduced-size":r[10]==="mini"||r[10]==="button","mdc-card__action":r[23]==="card:action","mdc-card__action--icon":r[23]==="card:action","mdc-top-app-bar__navigation-icon":r[23]==="top-app-bar:navigation","mdc-top-app-bar__action-item":r[23]==="top-app-bar:action","mdc-snackbar__dismiss":r[23]==="snackbar:actions","mdc-data-table__pagination-button":r[23]==="data-table:pagination","mdc-data-table__sort-icon-button":r[23]==="data-table:sortable-header-cell","mdc-dialog__close":r[23]==="dialog:header"&&r[12]==="close",...r[17]})},{style:Object.entries(r[18]).map(Ki).concat([r[3]]).join(" ")},{"aria-pressed":r[22](r[0])?null:r[0]?"true":"false"},{"aria-label":r[0]?r[6]:r[7]},{"data-aria-label-on":r[6]},{"data-aria-label-off":r[7]},{"aria-describedby":r[24]},{href:r[11]},r[20],r[19],r[28]];var a=r[13];function o(s){let f={$$slots:{default:[mc]},$$scope:{ctx:s}};for(let u=0;u<i.length;u+=1)f=ae(f,i[u]);return{props:f}}return a&&(e=kt(a,o(r)),r[33](e),e.$on("click",r[34]),e.$on("click",r[35])),{c(){e&&U(e.$$.fragment),t=Pe()},l(s){e&&X(e.$$.fragment,s),t=Pe()},m(s,f){e&&H(e,s,f),L(s,t,f),n=!0},p(s,f){const u=f[0]&536748031?yt(i,[f[0]&505413682&&{use:[[br,{ripple:s[4],unbounded:!0,color:s[5],disabled:!!s[28].disabled,addClass:s[25],removeClass:s[26],addStyle:s[27]}],s[21],...s[1]]},f[0]&12719877&&{class:Ee({[s[2]]:!0,"mdc-icon-button":!0,"mdc-icon-button--on":!s[22](s[0])&&s[0],"mdc-icon-button--touch":s[8],"mdc-icon-button--display-flex":s[9],"smui-icon-button--size-button":s[10]==="button","mdc-icon-button--reduced-size":s[10]==="mini"||s[10]==="button","mdc-card__action":s[23]==="card:action","mdc-card__action--icon":s[23]==="card:action","mdc-top-app-bar__navigation-icon":s[23]==="top-app-bar:navigation","mdc-top-app-bar__action-item":s[23]==="top-app-bar:action","mdc-snackbar__dismiss":s[23]==="snackbar:actions","mdc-data-table__pagination-button":s[23]==="data-table:pagination","mdc-data-table__sort-icon-button":s[23]==="data-table:sortable-header-cell","mdc-dialog__close":s[23]==="dialog:header"&&s[12]==="close",...s[17]})},f[0]&262152&&{style:Object.entries(s[18]).map(Ki).concat([s[3]]).join(" ")},f[0]&4194305&&{"aria-pressed":s[22](s[0])?null:s[0]?"true":"false"},f[0]&193&&{"aria-label":s[0]?s[6]:s[7]},f[0]&64&&{"data-aria-label-on":s[6]},f[0]&128&&{"data-aria-label-off":s[7]},f[0]&16777216&&{"aria-describedby":s[24]},f[0]&2048&&{href:s[11]},f[0]&1048576&&st(s[20]),f[0]&524288&&st(s[19]),f[0]&268435456&&st(s[28])]):{};if(f[0]&256|f[1]&32&&(u.$$scope={dirty:f,ctx:s}),a!==(a=s[13])){if(e){Xt();const c=e;P(c.$$.fragment,1,0,()=>{V(c,1)}),zt()}a?(e=kt(a,o(s)),s[33](e),e.$on("click",s[34]),e.$on("click",s[35]),U(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else a&&e.$set(u)},i(s){n||(e&&M(e.$$.fragment,s),n=!0)},o(s){e&&P(e.$$.fragment,s),n=!1},d(s){r[33](null),s&&w(t),e&&V(e,s)}}}const Ki=([r,e])=>`${r}: ${e};`;function Ac(r,e,t){let n;const i=["use","class","style","ripple","color","toggle","pressed","ariaLabelOn","ariaLabelOff","touch","displayFlex","size","href","action","component","getElement"];let a=Oe(e,i),{$$slots:o={},$$scope:s}=e;const f=wt(St());let u=()=>{};function c(D){return D===u}let{use:l=[]}=e,{class:d=""}=e,{style:h=""}=e,{ripple:p=!0}=e,{color:v=void 0}=e,{toggle:_=!1}=e,{pressed:x=u}=e,{ariaLabelOn:g=void 0}=e,{ariaLabelOff:y=void 0}=e,{touch:A=!1}=e,{displayFlex:E=!0}=e,{size:S="normal"}=e,{href:T=void 0}=e,{action:F=void 0}=e,j,R,C={},$={},K={},O=xt("SMUI:icon-button:context"),z=xt("SMUI:icon-button:aria-describedby"),{component:ge=T==null?Ji:zn}=e,_e=a.disabled;Ye("SMUI:icon:context","icon-button");let Re=null;Yr(()=>{R&&R.destroy()});function $e(D){return D in C?C[D]:_t().classList.contains(D)}function ke(D){C[D]||t(17,C[D]=!0,C)}function pt(D){(!(D in C)||C[D])&&t(17,C[D]=!1,C)}function vt(D,We){$[D]!=We&&(We===""||We==null?(delete $[D],t(18,$)):t(18,$[D]=We,$))}function G(D){var We;return D in K?(We=K[D])!==null&&We!==void 0?We:null:_t().getAttribute(D)}function q(D,We){K[D]!==We&&t(19,K[D]=We,K)}function gt(D){t(0,x=D.isOn)}function _t(){return j.getElement()}function we(D){Ne[D?"unshift":"push"](()=>{j=D,t(15,j)})}const Lt=()=>R&&R.handleClick(),W=()=>O==="top-app-bar:navigation"&&Ke(_t(),"SMUITopAppBarIconButton:nav");return r.$$set=D=>{e=ae(ae({},e),Ct(D)),t(28,a=Oe(e,i)),"use"in D&&t(1,l=D.use),"class"in D&&t(2,d=D.class),"style"in D&&t(3,h=D.style),"ripple"in D&&t(4,p=D.ripple),"color"in D&&t(5,v=D.color),"toggle"in D&&t(29,_=D.toggle),"pressed"in D&&t(0,x=D.pressed),"ariaLabelOn"in D&&t(6,g=D.ariaLabelOn),"ariaLabelOff"in D&&t(7,y=D.ariaLabelOff),"touch"in D&&t(8,A=D.touch),"displayFlex"in D&&t(9,E=D.displayFlex),"size"in D&&t(10,S=D.size),"href"in D&&t(11,T=D.href),"action"in D&&t(12,F=D.action),"component"in D&&t(13,ge=D.component),"$$scope"in D&&t(36,s=D.$$scope)},r.$$.update=()=>{if(r.$$.dirty[0]&4096&&t(20,n=(()=>{if(O==="data-table:pagination")switch(F){case"first-page":return{"data-first-page":"true"};case"prev-page":return{"data-prev-page":"true"};case"next-page":return{"data-next-page":"true"};case"last-page":return{"data-last-page":"true"};default:return{"data-action":"true"}}else return O==="dialog:header"?{"data-mdc-dialog-action":F}:{action:F}})()),_e!==a.disabled){const D=_t();"blur"in D&&D.blur(),t(30,_e=a.disabled)}r.$$.dirty[0]&536969216|r.$$.dirty[1]&1&&j&&_t()&&_!==Re&&(_&&!R?(t(16,R=new xc({addClass:ke,hasClass:$e,notifyChange:D=>{gt(D),Ke(_t(),"SMUIIconButtonToggle:change",D,void 0,!0)},removeClass:pt,getAttr:G,setAttr:q})),R.init()):!_&&R&&(R.destroy(),t(16,R=void 0),t(17,C={}),t(19,K={})),t(31,Re=_)),r.$$.dirty[0]&65537&&R&&!c(x)&&R.isOn()!==x&&R.toggle(x)},[x,l,d,h,p,v,g,y,A,E,S,T,F,ge,_t,j,R,C,$,K,n,f,c,O,z,ke,pt,vt,a,_,_e,Re,o,we,Lt,W,s]}class Ec extends Le{constructor(e){super(),Be(this,e,Ac,yc,Fe,{use:1,class:2,style:3,ripple:4,color:5,toggle:29,pressed:0,ariaLabelOn:6,ariaLabelOff:7,touch:8,displayFlex:9,size:10,href:11,action:12,component:13,getElement:14},null,[-1,-1])}get getElement(){return this.$$.ctx[14]}}const ri=";jlsdaf;jlfadsl;dfsaljk",Ea="prodratedev@gmail.com",Ic=async()=>(await $a()).filter(([r])=>r!==ri),Sc=r=>ja(r);function Cc(r){let e;return{c(){e=ne("ProdRate")},l(t){e=ie(t,"ProdRate")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function wc(r){let e,t;return e=new _c({props:{$$slots:{default:[Cc]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const a={};i&131072&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function bc(r){let e;return{c(){e=ne("more_vert")},l(t){e=ie(t,"more_vert")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function Tc(r){let e,t;return e=new zr({props:{$$slots:{default:[Rc]},$$scope:{ctx:r}}}),e.$on("SMUI:action",r[5]),{c(){U(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const a={};i&131072&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Oc(r){let e;return{c(){e=ne("share")},l(t){e=ie(t,"share")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function Dc(r){let e;return{c(){e=ne("Share all barcodes")},l(t){e=ie(t,"Share all barcodes")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function Rc(r){let e,t,n,i;return e=new Pr({props:{class:"material-icons","aria-hidden":"true",$$slots:{default:[Oc]},$$scope:{ctx:r}}}),n=new Zr({props:{$$slots:{default:[Dc]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment),t=se(),U(n.$$.fragment)},l(a){X(e.$$.fragment,a),t=fe(a),X(n.$$.fragment,a)},m(a,o){H(e,a,o),L(a,t,o),H(n,a,o),i=!0},p(a,o){const s={};o&131072&&(s.$$scope={dirty:o,ctx:a}),e.$set(s);const f={};o&131072&&(f.$$scope={dirty:o,ctx:a}),n.$set(f)},i(a){i||(M(e.$$.fragment,a),M(n.$$.fragment,a),i=!0)},o(a){P(e.$$.fragment,a),P(n.$$.fragment,a),i=!1},d(a){V(e,a),a&&w(t),V(n,a)}}}function Nc(r){let e;return{c(){e=ne("file_download")},l(t){e=ie(t,"file_download")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function Mc(r){let e;return{c(){e=ne("Export barcodes")},l(t){e=ie(t,"Export barcodes")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function Pc(r){let e,t,n,i;return e=new Pr({props:{class:"material-icons","aria-hidden":"true",$$slots:{default:[Nc]},$$scope:{ctx:r}}}),n=new Zr({props:{$$slots:{default:[Mc]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment),t=se(),U(n.$$.fragment)},l(a){X(e.$$.fragment,a),t=fe(a),X(n.$$.fragment,a)},m(a,o){H(e,a,o),L(a,t,o),H(n,a,o),i=!0},p(a,o){const s={};o&131072&&(s.$$scope={dirty:o,ctx:a}),e.$set(s);const f={};o&131072&&(f.$$scope={dirty:o,ctx:a}),n.$set(f)},i(a){i||(M(e.$$.fragment,a),M(n.$$.fragment,a),i=!0)},o(a){P(e.$$.fragment,a),P(n.$$.fragment,a),i=!1},d(a){V(e,a),a&&w(t),V(n,a)}}}function Lc(r){let e;return{c(){e=ne("file_upload")},l(t){e=ie(t,"file_upload")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function Bc(r){let e;return{c(){e=ne("Import saved barcodes")},l(t){e=ie(t,"Import saved barcodes")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function Fc(r){let e,t,n,i;return e=new Pr({props:{class:"material-icons","aria-hidden":"true",$$slots:{default:[Lc]},$$scope:{ctx:r}}}),n=new Zr({props:{$$slots:{default:[Bc]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment),t=se(),U(n.$$.fragment)},l(a){X(e.$$.fragment,a),t=fe(a),X(n.$$.fragment,a)},m(a,o){H(e,a,o),L(a,t,o),H(n,a,o),i=!0},p(a,o){const s={};o&131072&&(s.$$scope={dirty:o,ctx:a}),e.$set(s);const f={};o&131072&&(f.$$scope={dirty:o,ctx:a}),n.$set(f)},i(a){i||(M(e.$$.fragment,a),M(n.$$.fragment,a),i=!0)},o(a){P(e.$$.fragment,a),P(n.$$.fragment,a),i=!1},d(a){V(e,a),a&&w(t),V(n,a)}}}function kc(r){let e;return{c(){e=ne("feedback")},l(t){e=ie(t,"feedback")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function Uc(r){let e;return{c(){e=ne("Feedback")},l(t){e=ie(t,"Feedback")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function Hc(r){let e,t,n,i;return e=new Pr({props:{class:"material-icons","aria-hidden":"true",$$slots:{default:[kc]},$$scope:{ctx:r}}}),n=new Zr({props:{$$slots:{default:[Uc]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment),t=se(),U(n.$$.fragment)},l(a){X(e.$$.fragment,a),t=fe(a),X(n.$$.fragment,a)},m(a,o){H(e,a,o),L(a,t,o),H(n,a,o),i=!0},p(a,o){const s={};o&131072&&(s.$$scope={dirty:o,ctx:a}),e.$set(s);const f={};o&131072&&(f.$$scope={dirty:o,ctx:a}),n.$set(f)},i(a){i||(M(e.$$.fragment,a),M(n.$$.fragment,a),i=!0)},o(a){P(e.$$.fragment,a),P(n.$$.fragment,a),i=!1},d(a){V(e,a),a&&w(t),V(n,a)}}}function Vc(r){let e;return{c(){e=ne("help")},l(t){e=ie(t,"help")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function Gc(r){let e;return{c(){e=ne("About")},l(t){e=ie(t,"About")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function Wc(r){let e,t,n,i;return e=new Pr({props:{class:"material-icons","aria-hidden":"true",$$slots:{default:[Vc]},$$scope:{ctx:r}}}),n=new Zr({props:{$$slots:{default:[Gc]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment),t=se(),U(n.$$.fragment)},l(a){X(e.$$.fragment,a),t=fe(a),X(n.$$.fragment,a)},m(a,o){H(e,a,o),L(a,t,o),H(n,a,o),i=!0},p(a,o){const s={};o&131072&&(s.$$scope={dirty:o,ctx:a}),e.$set(s);const f={};o&131072&&(f.$$scope={dirty:o,ctx:a}),n.$set(f)},i(a){i||(M(e.$$.fragment,a),M(n.$$.fragment,a),i=!0)},o(a){P(e.$$.fragment,a),P(n.$$.fragment,a),i=!1},d(a){V(e,a),a&&w(t),V(n,a)}}}function Xc(r){let e,t,n,i,a,o,s,f,u,c,l,d=!!navigator.canShare&&Tc(r);return t=new zr({props:{$$slots:{default:[Pc]},$$scope:{ctx:r}}}),t.$on("SMUI:action",r[6]),i=new zr({props:{$$slots:{default:[Fc]},$$scope:{ctx:r}}}),i.$on("SMUI:action",r[7]),o=new ec({}),f=new zr({props:{$$slots:{default:[Hc]},$$scope:{ctx:r}}}),f.$on("SMUI:action",r[9]),c=new zr({props:{$$slots:{default:[Wc]},$$scope:{ctx:r}}}),c.$on("SMUI:action",r[10]),{c(){d&&d.c(),e=se(),U(t.$$.fragment),n=se(),U(i.$$.fragment),a=se(),U(o.$$.fragment),s=se(),U(f.$$.fragment),u=se(),U(c.$$.fragment)},l(h){d&&d.l(h),e=fe(h),X(t.$$.fragment,h),n=fe(h),X(i.$$.fragment,h),a=fe(h),X(o.$$.fragment,h),s=fe(h),X(f.$$.fragment,h),u=fe(h),X(c.$$.fragment,h)},m(h,p){d&&d.m(h,p),L(h,e,p),H(t,h,p),L(h,n,p),H(i,h,p),L(h,a,p),H(o,h,p),L(h,s,p),H(f,h,p),L(h,u,p),H(c,h,p),l=!0},p(h,p){navigator.canShare&&d.p(h,p);const v={};p&131072&&(v.$$scope={dirty:p,ctx:h}),t.$set(v);const _={};p&131072&&(_.$$scope={dirty:p,ctx:h}),i.$set(_);const x={};p&131072&&(x.$$scope={dirty:p,ctx:h}),f.$set(x);const g={};p&131072&&(g.$$scope={dirty:p,ctx:h}),c.$set(g)},i(h){l||(M(d),M(t.$$.fragment,h),M(i.$$.fragment,h),M(o.$$.fragment,h),M(f.$$.fragment,h),M(c.$$.fragment,h),l=!0)},o(h){P(d),P(t.$$.fragment,h),P(i.$$.fragment,h),P(o.$$.fragment,h),P(f.$$.fragment,h),P(c.$$.fragment,h),l=!1},d(h){d&&d.d(h),h&&w(e),V(t,h),h&&w(n),V(i,h),h&&w(a),V(o,h),h&&w(s),V(f,h),h&&w(u),V(c,h)}}}function zc(r){let e,t;return e=new Gu({props:{$$slots:{default:[Xc]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const a={};i&131072&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function jc(r){let e,t,n,i,a;t=new Ec({props:{class:"material-icons",$$slots:{default:[bc]},$$scope:{ctx:r}}}),t.$on("click",r[8]);let o={variant:"modal",fixed:!1,anchorCorner:"BOTTOM_LEFT",$$slots:{default:[zc]},$$scope:{ctx:r}};return i=new ku({props:o}),r[11](i),{c(){e=de("div"),U(t.$$.fragment),n=se(),U(i.$$.fragment)},l(s){e=he(s,"DIV",{});var f=pe(e);X(t.$$.fragment,f),n=fe(f),X(i.$$.fragment,f),f.forEach(w)},m(s,f){L(s,e,f),H(t,e,null),De(e,n),H(i,e,null),a=!0},p(s,f){const u={};f&131072&&(u.$$scope={dirty:f,ctx:s}),t.$set(u);const c={};f&131072&&(c.$$scope={dirty:f,ctx:s}),i.$set(c)},i(s){a||(M(t.$$.fragment,s),M(i.$$.fragment,s),a=!0)},o(s){P(t.$$.fragment,s),P(i.$$.fragment,s),a=!1},d(s){s&&w(e),V(t),r[11](null),V(i)}}}function Yc(r){let e,t,n,i;return e=new ji({props:{$$slots:{default:[wc]},$$scope:{ctx:r}}}),n=new ji({props:{align:"end",$$slots:{default:[jc]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment),t=se(),U(n.$$.fragment)},l(a){X(e.$$.fragment,a),t=fe(a),X(n.$$.fragment,a)},m(a,o){H(e,a,o),L(a,t,o),H(n,a,o),i=!0},p(a,o){const s={};o&131072&&(s.$$scope={dirty:o,ctx:a}),e.$set(s);const f={};o&131073&&(f.$$scope={dirty:o,ctx:a}),n.$set(f)},i(a){i||(M(e.$$.fragment,a),M(n.$$.fragment,a),i=!0)},o(a){P(e.$$.fragment,a),P(n.$$.fragment,a),i=!1},d(a){V(e,a),a&&w(t),V(n,a)}}}function Kc(r){let e,t;return e=new hc({props:{$$slots:{default:[Yc]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const a={};i&131073&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function $c(r){let e;return{c(){e=ne(`Something went wrong during sharing. You can export your barcodes to a file on your device
		instead.`)},l(t){e=ie(t,`Something went wrong during sharing. You can export your barcodes to a file on your device
		instead.`)},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function Zc(r){let e;return{c(){e=ne("Export")},l(t){e=ie(t,"Export")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function qc(r){let e,t;return e=new Tr({props:{$$slots:{default:[Zc]},$$scope:{ctx:r}}}),e.$on("click",r[6]),{c(){U(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const a={};i&131072&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Qc(r){let e,t,n,i;return e=new gr({props:{$$slots:{default:[$c]},$$scope:{ctx:r}}}),n=new ya({props:{$$slots:{default:[qc]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment),t=se(),U(n.$$.fragment)},l(a){X(e.$$.fragment,a),t=fe(a),X(n.$$.fragment,a)},m(a,o){H(e,a,o),L(a,t,o),H(n,a,o),i=!0},p(a,o){const s={};o&131072&&(s.$$scope={dirty:o,ctx:a}),e.$set(s);const f={};o&131072&&(f.$$scope={dirty:o,ctx:a}),n.$set(f)},i(a){i||(M(e.$$.fragment,a),M(n.$$.fragment,a),i=!0)},o(a){P(e.$$.fragment,a),P(n.$$.fragment,a),i=!1},d(a){V(e,a),a&&w(t),V(n,a)}}}function Jc(r){let e;return{c(){e=ne("Wrong file format")},l(t){e=ie(t,"Wrong file format")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function e1(r){let e;return{c(){e=ne("Try again")},l(t){e=ie(t,"Try again")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function t1(r){let e,t;return e=new Tr({props:{$$slots:{default:[e1]},$$scope:{ctx:r}}}),e.$on("click",r[7]),{c(){U(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const a={};i&131072&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function r1(r){let e,t,n,i;return e=new gr({props:{$$slots:{default:[Jc]},$$scope:{ctx:r}}}),n=new ya({props:{$$slots:{default:[t1]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment),t=se(),U(n.$$.fragment)},l(a){X(e.$$.fragment,a),t=fe(a),X(n.$$.fragment,a)},m(a,o){H(e,a,o),L(a,t,o),H(n,a,o),i=!0},p(a,o){const s={};o&131072&&(s.$$scope={dirty:o,ctx:a}),e.$set(s);const f={};o&131072&&(f.$$scope={dirty:o,ctx:a}),n.$set(f)},i(a){i||(M(e.$$.fragment,a),M(n.$$.fragment,a),i=!0)},o(a){P(e.$$.fragment,a),P(n.$$.fragment,a),i=!1},d(a){V(e,a),a&&w(t),V(n,a)}}}function n1(r){let e;return{c(){e=ne(r[4])},l(t){e=ie(t,r[4])},m(t,n){L(t,e,n)},p(t,n){n&16&&qi(e,t[4])},d(t){t&&w(e)}}}function i1(r){let e,t;return e=new gr({props:{$$slots:{default:[n1]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const a={};i&131088&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function a1(r){let e,t,n,i,a,o,s,f;e=new dc({props:{variant:"static",$$slots:{default:[Kc]},$$scope:{ctx:r}}});let u={variant:"stacked",$$slots:{default:[Qc]},$$scope:{ctx:r}};n=new Tn({props:u}),r[12](n);let c={$$slots:{default:[r1]},$$scope:{ctx:r}};a=new Tn({props:c}),r[13](a);let l={$$slots:{default:[i1]},$$scope:{ctx:r}};return s=new Tn({props:l}),r[14](s),{c(){U(e.$$.fragment),t=se(),U(n.$$.fragment),i=se(),U(a.$$.fragment),o=se(),U(s.$$.fragment)},l(d){X(e.$$.fragment,d),t=fe(d),X(n.$$.fragment,d),i=fe(d),X(a.$$.fragment,d),o=fe(d),X(s.$$.fragment,d)},m(d,h){H(e,d,h),L(d,t,h),H(n,d,h),L(d,i,h),H(a,d,h),L(d,o,h),H(s,d,h),f=!0},p(d,[h]){const p={};h&131073&&(p.$$scope={dirty:h,ctx:d}),e.$set(p);const v={};h&131072&&(v.$$scope={dirty:h,ctx:d}),n.$set(v);const _={};h&131072&&(_.$$scope={dirty:h,ctx:d}),a.$set(_);const x={};h&131088&&(x.$$scope={dirty:h,ctx:d}),s.$set(x)},i(d){f||(M(e.$$.fragment,d),M(n.$$.fragment,d),M(a.$$.fragment,d),M(s.$$.fragment,d),f=!0)},o(d){P(e.$$.fragment,d),P(n.$$.fragment,d),P(a.$$.fragment,d),P(s.$$.fragment,d),f=!1},d(d){V(e,d),d&&w(t),r[12](null),V(n,d),d&&w(i),r[13](null),V(a,d),d&&w(o),r[14](null),V(s,d)}}}function o1(r,e,t){let n,i,a,o,s,f="";const u=async()=>{const A=await Ic(),E={description:`All my saved barcodes. Open it in ${location.href}`,timestamp:Date.now(),barcodes:A},S=JSON.stringify(E,null,"  ");return new File([S],"barcodes.txt",{type:"text/plain"})},c=async()=>{s=await u();const A=[s];if(navigator.canShare({files:A}))try{await navigator.share({files:A,title:"Share all barcodes",text:`All my saved barcodes. Open it in ${location.href}`}),s=void 0,t(4,f="Shared successfully"),i.open()}catch(E){console.error(E),a.open()}},l=async()=>{const A=document.createElement("a");A.href=window.URL.createObjectURL(s??await u()),A.download="barcodes.txt",A.click(),s=void 0,t(4,f="Exported successfully"),i.open()},d=async()=>{const A=document.createElement("input");A.type="file",A.accept="text/plain, application/json",A.oninput=()=>{try{const[E]=A.files??[],S=new FileReader;if(E)S.readAsText(E);else throw"Wrong file format";S.onload=async()=>{try{const T=S.result,F=JSON.parse(T);await Sc(F.barcodes),t(4,f="Imported successfully"),i.open()}catch(T){console.error(T),o.open()}}}catch(E){console.error(E),o.open()}},A.click()},h=()=>n.setOpen(!0),p=()=>{window.open(`mailto:${Ea}?subject=Feedback`)},v=()=>{Ua("about")};function _(A){Ne[A?"unshift":"push"](()=>{n=A,t(0,n)})}function x(A){Ne[A?"unshift":"push"](()=>{a=A,t(2,a)})}function g(A){Ne[A?"unshift":"push"](()=>{o=A,t(3,o)})}function y(A){Ne[A?"unshift":"push"](()=>{i=A,t(1,i)})}return[n,i,a,o,f,c,l,d,h,p,v,_,x,g,y]}class s1 extends Le{constructor(e){super(),Be(this,e,o1,a1,Fe,{})}}function f1(r){let e,t,n;return t=new ta({props:{$$slots:{default:[g1]},$$scope:{ctx:r}}}),{c(){e=de("div"),U(t.$$.fragment),this.h()},l(i){e=he(i,"DIV",{class:!0});var a=pe(e);X(t.$$.fragment,a),a.forEach(w),this.h()},h(){me(e,"class","card-container")},m(i,a){L(i,e,a),H(t,e,null),n=!0},p(i,a){const o={};a&256&&(o.$$scope={dirty:a,ctx:i}),t.$set(o)},i(i){n||(M(t.$$.fragment,i),n=!0)},o(i){P(t.$$.fragment,i),n=!1},d(i){i&&w(e),V(t)}}}function u1(r){let e,t;return e=new ta({props:{$$slots:{default:[A1]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const a={};i&257&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function c1(r){let e;return{c(){e=ne(`You can view and edit suggested report or send it as is. By default the report contains your
				browser and operation system version.`)},l(t){e=ie(t,`You can view and edit suggested report or send it as is. By default the report contains your
				browser and operation system version.`)},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function l1(r){let e;return{c(){e=ne("Send Report")},l(t){e=ie(t,"Send Report")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function d1(r){let e,t;return e=new gr({props:{$$slots:{default:[l1]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const a={};i&256&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function h1(r){let e;return{c(){e=ne("Reload")},l(t){e=ie(t,"Reload")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function p1(r){let e,t;return e=new gr({props:{$$slots:{default:[h1]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const a={};i&256&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function v1(r){let e,t,n,i;return e=new Tr({props:{$$slots:{default:[d1]},$$scope:{ctx:r}}}),e.$on("click",r[5]),n=new Tr({props:{$$slots:{default:[p1]},$$scope:{ctx:r}}}),n.$on("click",r[6]),{c(){U(e.$$.fragment),t=se(),U(n.$$.fragment)},l(a){X(e.$$.fragment,a),t=fe(a),X(n.$$.fragment,a)},m(a,o){H(e,a,o),L(a,t,o),H(n,a,o),i=!0},p(a,o){const s={};o&256&&(s.$$scope={dirty:o,ctx:a}),e.$set(s);const f={};o&256&&(f.$$scope={dirty:o,ctx:a}),n.$set(f)},i(a){i||(M(e.$$.fragment,a),M(n.$$.fragment,a),i=!0)},o(a){P(e.$$.fragment,a),P(n.$$.fragment,a),i=!1},d(a){V(e,a),a&&w(t),V(n,a)}}}function g1(r){let e,t,n,i,a,o,s,f,u,c,l;return f=new ra({props:{$$slots:{default:[c1]},$$scope:{ctx:r}}}),c=new na({props:{$$slots:{default:[v1]},$$scope:{ctx:r}}}),{c(){e=de("div"),t=de("h2"),n=ne("Unknown error occured."),i=se(),a=de("h3"),o=ne(`Please try to reload the page or send an automatically generated bug report to the
					developer.`),s=se(),U(f.$$.fragment),u=se(),U(c.$$.fragment),this.h()},l(d){e=he(d,"DIV",{style:!0});var h=pe(e);t=he(h,"H2",{class:!0});var p=pe(t);n=ie(p,"Unknown error occured."),p.forEach(w),i=fe(h),a=he(h,"H3",{class:!0});var v=pe(a);o=ie(v,`Please try to reload the page or send an automatically generated bug report to the
					developer.`),v.forEach(w),h.forEach(w),s=fe(d),X(f.$$.fragment,d),u=fe(d),X(c.$$.fragment,d),this.h()},h(){me(t,"class","mdc-typography--headline6"),me(a,"class","mdc-typography--subtitle2"),On(e,"padding","1rem")},m(d,h){L(d,e,h),De(e,t),De(t,n),De(e,i),De(e,a),De(a,o),L(d,s,h),H(f,d,h),L(d,u,h),H(c,d,h),l=!0},p(d,h){const p={};h&256&&(p.$$scope={dirty:h,ctx:d}),f.$set(p);const v={};h&256&&(v.$$scope={dirty:h,ctx:d}),c.$set(v)},i(d){l||(M(f.$$.fragment,d),M(c.$$.fragment,d),l=!0)},o(d){P(f.$$.fragment,d),P(c.$$.fragment,d),l=!1},d(d){d&&w(e),d&&w(s),V(f,d),d&&w(u),V(c,d)}}}function _1(r){let e,t;return{c(){e=de("h3"),t=ne(r[0])},l(n){e=he(n,"H3",{});var i=pe(e);t=ie(i,r[0]),i.forEach(w)},m(n,i){L(n,e,i),De(e,t)},p(n,i){i&1&&qi(t,n[0])},d(n){n&&w(e)}}}function x1(r){let e;return{c(){e=ne("Retry")},l(t){e=ie(t,"Retry")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function m1(r){let e,t;return e=new gr({props:{$$slots:{default:[x1]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const a={};i&256&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function y1(r){let e,t;return e=new Tr({props:{$$slots:{default:[m1]},$$scope:{ctx:r}}}),e.$on("click",r[4]),{c(){U(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const a={};i&256&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function A1(r){let e,t,n,i;return e=new ra({props:{$$slots:{default:[_1]},$$scope:{ctx:r}}}),n=new na({props:{$$slots:{default:[y1]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment),t=se(),U(n.$$.fragment)},l(a){X(e.$$.fragment,a),t=fe(a),X(n.$$.fragment,a)},m(a,o){H(e,a,o),L(a,t,o),H(n,a,o),i=!0},p(a,o){const s={};o&257&&(s.$$scope={dirty:o,ctx:a}),e.$set(s);const f={};o&256&&(f.$$scope={dirty:o,ctx:a}),n.$set(f)},i(a){i||(M(e.$$.fragment,a),M(n.$$.fragment,a),i=!0)},o(a){P(e.$$.fragment,a),P(n.$$.fragment,a),i=!1},d(a){V(e,a),a&&w(t),V(n,a)}}}function E1(r){let e,t,n,i;const a=[u1,f1],o=[];function s(f,u){return f[0]?0:f[1]?1:-1}return~(e=s(r))&&(t=o[e]=a[e](r)),{c(){t&&t.c(),n=Pe()},l(f){t&&t.l(f),n=Pe()},m(f,u){~e&&o[e].m(f,u),L(f,n,u),i=!0},p(f,[u]){let c=e;e=s(f),e===c?~e&&o[e].p(f,u):(t&&(Xt(),P(o[c],1,1,()=>{o[c]=null}),zt()),~e?(t=o[e],t?t.p(f,u):(t=o[e]=a[e](f),t.c()),M(t,1),t.m(n.parentNode,n)):t=null)},i(f){i||(M(t),i=!0)},o(f){P(t),i=!1},d(f){~e&&o[e].d(f),f&&w(n)}}}const I1="prodRate%20Error%20report";function S1(r,e,t){let n;hr(r,Sr,l=>t(1,n=l));let{errorMessage:i=""}=e,{errorStack:a=(n==null?void 0:n.stack)??""}=e;const o=encodeURI(`${navigator.userAgent}
${a}`),s=`mailto:${Ea}?subject=${I1}&body=${o}`,f=()=>window==null?void 0:window.location.reload(),u=()=>window.open(s),c=()=>location.reload();return r.$$set=l=>{"errorMessage"in l&&t(0,i=l.errorMessage),"errorStack"in l&&t(3,a=l.errorStack)},[i,n,s,a,f,u,c]}class C1 extends Le{constructor(e){super(),Be(this,e,S1,E1,Fe,{errorMessage:0,errorStack:3})}}function w1(r){let e,t,n,i,a,o,s,f,u,c,l,d;e=new s1({});function h(y){r[8](y)}function p(y){r[9](y)}let v={};r[4]!==void 0&&(v.videoElement=r[4]),r[0]!==void 0&&(v.refreshBarcodes=r[0]),a=new gu({props:v}),Ne.push(()=>sn(a,"videoElement",h,r[4])),Ne.push(()=>sn(a,"refreshBarcodes",p,r[0])),a.$on("videoReady",r[7]);function _(y){r[10](y)}let x={width:r[1],height:r[2]};r[3]!==void 0&&(x.canvasElement=r[3]),u=new mu({props:x}),Ne.push(()=>sn(u,"canvasElement",_,r[3]));let g=r[6]&&r[6].selected&&$i(r);return{c(){U(e.$$.fragment),t=se(),n=de("main"),i=de("section"),U(a.$$.fragment),f=se(),U(u.$$.fragment),l=se(),g&&g.c(),this.h()},l(y){X(e.$$.fragment,y),t=fe(y),n=he(y,"MAIN",{class:!0});var A=pe(n);i=he(A,"SECTION",{id:!0,class:!0});var E=pe(i);X(a.$$.fragment,E),f=fe(E),X(u.$$.fragment,E),l=fe(E),g&&g.l(E),E.forEach(w),A.forEach(w),this.h()},h(){me(i,"id","mediaContainer"),me(i,"class","svelte-7mc17q"),me(n,"class","svelte-7mc17q")},m(y,A){H(e,y,A),L(y,t,A),L(y,n,A),De(n,i),H(a,i,null),De(i,f),H(u,i,null),De(i,l),g&&g.m(i,null),d=!0},p(y,A){const E={};!o&&A&16&&(o=!0,E.videoElement=y[4],fn(()=>o=!1)),!s&&A&1&&(s=!0,E.refreshBarcodes=y[0],fn(()=>s=!1)),a.$set(E);const S={};A&2&&(S.width=y[1]),A&4&&(S.height=y[2]),!c&&A&8&&(c=!0,S.canvasElement=y[3],fn(()=>c=!1)),u.$set(S),y[6]&&y[6].selected?g?(g.p(y,A),A&64&&M(g,1)):(g=$i(y),g.c(),M(g,1),g.m(i,null)):g&&(Xt(),P(g,1,1,()=>{g=null}),zt())},i(y){d||(M(e.$$.fragment,y),M(a.$$.fragment,y),M(u.$$.fragment,y),M(g),d=!0)},o(y){P(e.$$.fragment,y),P(a.$$.fragment,y),P(u.$$.fragment,y),P(g),d=!1},d(y){V(e,y),y&&w(t),y&&w(n),V(a),V(u),g&&g.d()}}}function b1(r){let e,t;return e=new C1({}),{c(){U(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p:Jt,i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function $i(r){let e,t,n;return t=new uo({}),t.$on("refreshBarcodes",function(){nr(r[0])&&r[0].apply(this,arguments)}),{c(){e=de("section"),U(t.$$.fragment),this.h()},l(i){e=he(i,"SECTION",{id:!0,class:!0});var a=pe(e);X(t.$$.fragment,a),a.forEach(w),this.h()},h(){me(e,"id","buttons"),me(e,"class","svelte-7mc17q"),On(e,"top",`${r[6].boundingBox.bottom}px`)},m(i,a){L(i,e,a),H(t,e,null),n=!0},p(i,a){r=i,a&64&&On(e,"top",`${r[6].boundingBox.bottom}px`)},i(i){n||(M(t.$$.fragment,i),n=!0)},o(i){P(t.$$.fragment,i),n=!1},d(i){i&&w(e),V(t)}}}function T1(r){let e,t,n,i;const a=[b1,w1],o=[];function s(f,u){return f[5]?0:1}return t=s(r),n=o[t]=a[t](r),{c(){e=de("div"),n.c(),this.h()},l(f){e=he(f,"DIV",{class:!0});var u=pe(e);n.l(u),u.forEach(w),this.h()},h(){me(e,"class","gridContainer svelte-7mc17q")},m(f,u){L(f,e,u),o[t].m(e,null),i=!0},p(f,[u]){let c=t;t=s(f),t===c?o[t].p(f,u):(Xt(),P(o[c],1,1,()=>{o[c]=null}),zt(),n=o[t],n?n.p(f,u):(n=o[t]=a[t](f),n.c()),M(n,1),n.m(e,null))},i(f){i||(M(n),i=!0)},o(f){P(n),i=!1},d(f){f&&w(e),o[t].d()}}}function O1(r,e,t){let n,i;hr(r,Sr,p=>t(5,n=p)),hr(r,un,p=>t(6,i=p)),document.title="Product Rate";let a,[o,s]=[0,0],f,u;const c=()=>{try{const p=u.clientWidth,v=u.clientHeight;t(1,o=u.clientWidth),t(2,s=u.clientHeight),t(3,f.width=p||0,f),t(3,f.height=v||0,f)}catch(p){on(Sr,n=p.stack?p:new Error(p),n)}};function l(p){u=p,t(4,u)}function d(p){a=p,t(0,a)}function h(p){f=p,t(3,f)}return[a,o,s,f,u,n,i,c,l,d,h]}class D1 extends Le{constructor(e){super(),Be(this,e,O1,T1,Fe,{})}}function R1(r){let e,t,n,i,a,o;const s=r[12].default,f=Rt(s,r,r[11],null);let u=[{class:t=Ee({[r[1]]:!0,"smui-paper":!0,"smui-paper--raised":r[2]==="raised","smui-paper--unelevated":r[2]==="unelevated","smui-paper--outlined":r[2]==="outlined",["smui-paper--elevation-z"+r[5]]:r[5]!==0&&r[2]==="raised","smui-paper--rounded":!r[3],["smui-paper--color-"+r[4]]:r[4]!=="default","smui-paper-transition":r[6]})},r[9]],c={};for(let l=0;l<u.length;l+=1)c=ae(c,u[l]);return{c(){e=de("div"),f&&f.c(),this.h()},l(l){e=he(l,"DIV",{class:!0});var d=pe(e);f&&f.l(d),d.forEach(w),this.h()},h(){ft(e,c)},m(l,d){L(l,e,d),f&&f.m(e,null),r[13](e),i=!0,a||(o=[mt(n=pr.call(null,e,r[0])),mt(r[8].call(null,e))],a=!0)},p(l,[d]){f&&f.p&&(!i||d&2048)&&Nt(f,s,l,l[11],i?Pt(s,l[11],d,null):Mt(l[11]),null),ft(e,c=yt(u,[(!i||d&126&&t!==(t=Ee({[l[1]]:!0,"smui-paper":!0,"smui-paper--raised":l[2]==="raised","smui-paper--unelevated":l[2]==="unelevated","smui-paper--outlined":l[2]==="outlined",["smui-paper--elevation-z"+l[5]]:l[5]!==0&&l[2]==="raised","smui-paper--rounded":!l[3],["smui-paper--color-"+l[4]]:l[4]!=="default","smui-paper-transition":l[6]})))&&{class:t},d&512&&l[9]])),n&&nr(n.update)&&d&1&&n.update.call(null,l[0])},i(l){i||(M(f,l),i=!0)},o(l){P(f,l),i=!1},d(l){l&&w(e),f&&f.d(l),r[13](null),a=!1,Dr(o)}}}function N1(r,e,t){const n=["use","class","variant","square","color","elevation","transition","getElement"];let i=Oe(e,n),{$$slots:a={},$$scope:o}=e;const s=wt(St());let{use:f=[]}=e,{class:u=""}=e,{variant:c="raised"}=e,{square:l=!1}=e,{color:d="default"}=e,{elevation:h=1}=e,{transition:p=!1}=e,v;function _(){return v}function x(g){Ne[g?"unshift":"push"](()=>{v=g,t(7,v)})}return r.$$set=g=>{e=ae(ae({},e),Ct(g)),t(9,i=Oe(e,n)),"use"in g&&t(0,f=g.use),"class"in g&&t(1,u=g.class),"variant"in g&&t(2,c=g.variant),"square"in g&&t(3,l=g.square),"color"in g&&t(4,d=g.color),"elevation"in g&&t(5,h=g.elevation),"transition"in g&&t(6,p=g.transition),"$$scope"in g&&t(11,o=g.$$scope)},[f,u,c,l,d,h,p,v,s,i,_,o,a,x]}class M1 extends Le{constructor(e){super(),Be(this,e,N1,R1,Fe,{use:0,class:1,variant:2,square:3,color:4,elevation:5,transition:6,getElement:10})}get getElement(){return this.$$.ctx[10]}}const P1=At({class:"smui-paper__content",component:gn}),L1=At({class:"smui-paper__title",component:Ha}),B1=At({class:"smui-paper__subtitle",component:Va});function F1(r){let e;return{c(){e=ne("Your Personal Product Rating")},l(t){e=ie(t,"Your Personal Product Rating")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function k1(r){let e;return{c(){e=ne(`Have you ever purchased the wrong product just because you forgot it didn't work for you the
			last time?`)},l(t){e=ie(t,`Have you ever purchased the wrong product just because you forgot it didn't work for you the
			last time?`)},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function U1(r){let e;return{c(){e=ne("Continue")},l(t){e=ie(t,"Continue")},m(t,n){L(t,e,n)},d(t){t&&w(e)}}}function H1(r){let e,t;return e=new gr({props:{$$slots:{default:[U1]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p(n,i){const a={};i&4&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function V1(r){let e,t,n,i,a,o,s,f,u,c,l,d,h,p,v,_,x;return _=new Tr({props:{variant:"raised",$$slots:{default:[H1]},$$scope:{ctx:r}}}),_.$on("click",r[0]),{c(){e=de("p"),t=ne(`I â€” more than once, and every time it's frustrating. This service helps you not to fall into
				this trap. If you don't like (or like) the purchased product, just scan its barcode and rate
				it. When you scan this barcode again, you will see your previous rate.`),n=se(),i=de("p"),a=ne(`This service stores all your data exclusively on your device. You can download and (or)
				share your data to not loose it. The service uses camera to scan barcodes. By continuing to
				use, you agree to this.`),o=se(),s=de("p"),f=ne(`For questions and suggestions, please write to me at
				`),u=de("a"),c=ne("pavel.nedr@gmail.com"),l=ne(`
				or on
				`),d=de("a"),h=ne("Github"),p=ne("."),v=se(),U(_.$$.fragment),this.h()},l(g){e=he(g,"P",{class:!0});var y=pe(e);t=ie(y,`I â€” more than once, and every time it's frustrating. This service helps you not to fall into
				this trap. If you don't like (or like) the purchased product, just scan its barcode and rate
				it. When you scan this barcode again, you will see your previous rate.`),y.forEach(w),n=fe(g),i=he(g,"P",{class:!0});var A=pe(i);a=ie(A,`This service stores all your data exclusively on your device. You can download and (or)
				share your data to not loose it. The service uses camera to scan barcodes. By continuing to
				use, you agree to this.`),A.forEach(w),o=fe(g),s=he(g,"P",{class:!0});var E=pe(s);f=ie(E,`For questions and suggestions, please write to me at
				`),u=he(E,"A",{href:!0});var S=pe(u);c=ie(S,"pavel.nedr@gmail.com"),S.forEach(w),l=ie(E,`
				or on
				`),d=he(E,"A",{href:!0});var T=pe(d);h=ie(T,"Github"),T.forEach(w),p=ie(E,"."),E.forEach(w),v=fe(g),X(_.$$.fragment,g),this.h()},h(){me(e,"class","svelte-1p409xg"),me(i,"class","svelte-1p409xg"),me(u,"href","mailto:pavel.nedr@gmail.com"),me(d,"href","https://github.com/shadow-identity/prodRate"),me(s,"class","svelte-1p409xg")},m(g,y){L(g,e,y),De(e,t),L(g,n,y),L(g,i,y),De(i,a),L(g,o,y),L(g,s,y),De(s,f),De(s,u),De(u,c),De(s,l),De(s,d),De(d,h),De(s,p),L(g,v,y),H(_,g,y),x=!0},p(g,y){const A={};y&4&&(A.$$scope={dirty:y,ctx:g}),_.$set(A)},i(g){x||(M(_.$$.fragment,g),x=!0)},o(g){P(_.$$.fragment,g),x=!1},d(g){g&&w(e),g&&w(n),g&&w(i),g&&w(o),g&&w(s),g&&w(v),V(_,g)}}}function G1(r){let e,t,n,i,a,o;return e=new L1({props:{$$slots:{default:[F1]},$$scope:{ctx:r}}}),n=new B1({props:{$$slots:{default:[k1]},$$scope:{ctx:r}}}),a=new P1({props:{$$slots:{default:[V1]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment),t=se(),U(n.$$.fragment),i=se(),U(a.$$.fragment)},l(s){X(e.$$.fragment,s),t=fe(s),X(n.$$.fragment,s),i=fe(s),X(a.$$.fragment,s)},m(s,f){H(e,s,f),L(s,t,f),H(n,s,f),L(s,i,f),H(a,s,f),o=!0},p(s,f){const u={};f&4&&(u.$$scope={dirty:f,ctx:s}),e.$set(u);const c={};f&4&&(c.$$scope={dirty:f,ctx:s}),n.$set(c);const l={};f&4&&(l.$$scope={dirty:f,ctx:s}),a.$set(l)},i(s){o||(M(e.$$.fragment,s),M(n.$$.fragment,s),M(a.$$.fragment,s),o=!0)},o(s){P(e.$$.fragment,s),P(n.$$.fragment,s),P(a.$$.fragment,s),o=!1},d(s){V(e,s),s&&w(t),V(n,s),s&&w(i),V(a,s)}}}function W1(r){let e,t,n;return t=new M1({props:{class:"landing-paper",$$slots:{default:[G1]},$$scope:{ctx:r}}}),{c(){e=de("div"),U(t.$$.fragment),this.h()},l(i){e=he(i,"DIV",{class:!0});var a=pe(e);X(t.$$.fragment,a),a.forEach(w),this.h()},h(){me(e,"class","container svelte-1p409xg")},m(i,a){L(i,e,a),H(t,e,null),n=!0},p(i,[a]){const o={};a&4&&(o.$$scope={dirty:a,ctx:i}),t.$set(o)},i(i){n||(M(t.$$.fragment,i),n=!0)},o(i){P(t.$$.fragment,i),n=!1},d(i){i&&w(e),V(t)}}}function X1(r){document.title="Your Personal Product Rating";const e=()=>{ia(ri,!0),t("gotConsent")},t=Xn();return[e]}class z1 extends Le{constructor(e){super(),Be(this,e,X1,W1,Fe,{})}}function j1(r){let e,t;return e=new z1({}),e.$on("gotConsent",r[1]),{c(){U(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p:Jt,i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Y1(r){let e,t;return e=new D1({}),{c(){U(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){H(e,n,i),t=!0},p:Jt,i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function K1(r){let e,t,n,i;const a=[Y1,j1],o=[];function s(f,u){return f[0]===!0?0:f[0]===void 0?1:-1}return~(e=s(r))&&(t=o[e]=a[e](r)),{c(){t&&t.c(),n=Pe()},l(f){t&&t.l(f),n=Pe()},m(f,u){~e&&o[e].m(f,u),L(f,n,u),i=!0},p(f,[u]){let c=e;e=s(f),e===c?~e&&o[e].p(f,u):(t&&(Xt(),P(o[c],1,1,()=>{o[c]=null}),zt()),~e?(t=o[e],t?t.p(f,u):(t=o[e]=a[e](f),t.c()),M(t,1),t.m(n.parentNode,n)):t=null)},i(f){i||(M(t),i=!0)},o(f){P(t),i=!1},d(f){~e&&o[e].d(f),f&&w(n)}}}function $1(r,e,t){let n=!1;return(async()=>t(0,n=await za(ri)))(),[n,()=>t(0,n=!0)]}class il extends Le{constructor(e){super(),Be(this,e,$1,K1,Fe,{})}}export{il as default};
